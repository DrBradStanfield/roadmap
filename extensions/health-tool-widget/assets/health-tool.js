(function(){"use strict";function Av(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ud={exports:{}},Vs={},dd={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ii=Symbol.for("react.element"),$v=Symbol.for("react.portal"),Fv=Symbol.for("react.fragment"),zv=Symbol.for("react.strict_mode"),Bv=Symbol.for("react.profiler"),Hv=Symbol.for("react.provider"),Uv=Symbol.for("react.context"),Vv=Symbol.for("react.forward_ref"),Yv=Symbol.for("react.suspense"),Wv=Symbol.for("react.memo"),Gv=Symbol.for("react.lazy"),fd=Symbol.iterator;function Zv(e){return e===null||typeof e!="object"?null:(e=fd&&e[fd]||e["@@iterator"],typeof e=="function"?e:null)}var pd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hd=Object.assign,md={};function Ar(e,t,n){this.props=e,this.context=t,this.refs=md,this.updater=n||pd}Ar.prototype.isReactComponent={},Ar.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},Ar.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gd(){}gd.prototype=Ar.prototype;function Wa(e,t,n){this.props=e,this.context=t,this.refs=md,this.updater=n||pd}var Ga=Wa.prototype=new gd;Ga.constructor=Wa,hd(Ga,Ar.prototype),Ga.isPureReactComponent=!0;var vd=Array.isArray,yd=Object.prototype.hasOwnProperty,Za={current:null},_d={key:!0,ref:!0,__self:!0,__source:!0};function xd(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)yd.call(t,r)&&!_d.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ii,type:e,key:s,ref:o,props:i,_owner:Za.current}}function Kv(e,t){return{$$typeof:Ii,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ka(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ii}function Xv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wd=/\/+/g;function Xa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xv(""+e.key):t.toString(36)}function Ys(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ii:case $v:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Xa(o,0):r,vd(i)?(n="",e!=null&&(n=e.replace(wd,"$&/")+"/"),Ys(i,t,n,"",function(u){return u})):i!=null&&(Ka(i)&&(i=Kv(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wd,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",vd(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+Xa(s,a);o+=Ys(s,t,n,l,i)}else if(l=Zv(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+Xa(s,a++),o+=Ys(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ws(e,t,n){if(e==null)return e;var r=[],i=0;return Ys(e,r,"","",function(s){return t.call(n,s,i++)}),r}function Qv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mt={current:null},Gs={transition:null},Jv={ReactCurrentDispatcher:mt,ReactCurrentBatchConfig:Gs,ReactCurrentOwner:Za};function Sd(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:Ws,forEach:function(e,t,n){Ws(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ws(e,function(){t++}),t},toArray:function(e){return Ws(e,function(t){return t})||[]},only:function(e){if(!Ka(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},ie.Component=Ar,ie.Fragment=Fv,ie.Profiler=Bv,ie.PureComponent=Wa,ie.StrictMode=zv,ie.Suspense=Yv,ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jv,ie.act=Sd,ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=hd({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Za.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)yd.call(t,l)&&!_d.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ii,type:e.type,key:i,ref:s,props:r,_owner:o}},ie.createContext=function(e){return e={$$typeof:Uv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hv,_context:e},e.Consumer=e},ie.createElement=xd,ie.createFactory=function(e){var t=xd.bind(null,e);return t.type=e,t},ie.createRef=function(){return{current:null}},ie.forwardRef=function(e){return{$$typeof:Vv,render:e}},ie.isValidElement=Ka,ie.lazy=function(e){return{$$typeof:Gv,_payload:{_status:-1,_result:e},_init:Qv}},ie.memo=function(e,t){return{$$typeof:Wv,type:e,compare:t===void 0?null:t}},ie.startTransition=function(e){var t=Gs.transition;Gs.transition={};try{e()}finally{Gs.transition=t}},ie.unstable_act=Sd,ie.useCallback=function(e,t){return mt.current.useCallback(e,t)},ie.useContext=function(e){return mt.current.useContext(e)},ie.useDebugValue=function(){},ie.useDeferredValue=function(e){return mt.current.useDeferredValue(e)},ie.useEffect=function(e,t){return mt.current.useEffect(e,t)},ie.useId=function(){return mt.current.useId()},ie.useImperativeHandle=function(e,t,n){return mt.current.useImperativeHandle(e,t,n)},ie.useInsertionEffect=function(e,t){return mt.current.useInsertionEffect(e,t)},ie.useLayoutEffect=function(e,t){return mt.current.useLayoutEffect(e,t)},ie.useMemo=function(e,t){return mt.current.useMemo(e,t)},ie.useReducer=function(e,t,n){return mt.current.useReducer(e,t,n)},ie.useRef=function(e){return mt.current.useRef(e)},ie.useState=function(e){return mt.current.useState(e)},ie.useSyncExternalStore=function(e,t,n){return mt.current.useSyncExternalStore(e,t,n)},ie.useTransition=function(){return mt.current.useTransition()},ie.version="18.3.1",dd.exports=ie;var A=dd.exports;const kd=Av(A);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv=A,ey=Symbol.for("react.element"),ty=Symbol.for("react.fragment"),ny=Object.prototype.hasOwnProperty,ry=qv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iy={key:!0,ref:!0,__self:!0,__source:!0};function Ed(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)ny.call(t,r)&&!iy.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ey,type:e,key:s,ref:o,props:i,_owner:ry.current}}Vs.Fragment=ty,Vs.jsx=Ed,Vs.jsxs=Ed,ud.exports=Vs;var c=ud.exports,bd={exports:{}},It={},Nd={exports:{}},Cd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,U){var W=D.length;D.push(U);e:for(;0<W;){var se=W-1>>>1,we=D[se];if(0<i(we,U))D[se]=U,D[W]=we,W=se;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var U=D[0],W=D.pop();if(W!==U){D[0]=W;e:for(var se=0,we=D.length,mn=we>>>1;se<mn;){var Tt=2*(se+1)-1,Dn=D[Tt],tn=Tt+1,ur=D[tn];if(0>i(Dn,W))tn<we&&0>i(ur,Dn)?(D[se]=ur,D[tn]=W,se=tn):(D[se]=Dn,D[Tt]=W,se=Tt);else if(tn<we&&0>i(ur,W))D[se]=ur,D[tn]=W,se=tn;else break e}}return U}function i(D,U){var W=D.sortIndex-U.sortIndex;return W!==0?W:D.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,p=null,m=3,v=!1,w=!1,y=!1,N=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(D){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=D)r(u),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(u)}}function E(D){if(y=!1,g(D),!w)if(n(l)!==null)w=!0,Qe(_);else{var U=n(u);U!==null&&Fe(E,U.startTime-D)}}function _(D,U){w=!1,y&&(y=!1,h(j),j=-1),v=!0;var W=m;try{for(g(U),p=n(l);p!==null&&(!(p.expirationTime>U)||D&&!V());){var se=p.callback;if(typeof se=="function"){p.callback=null,m=p.priorityLevel;var we=se(p.expirationTime<=U);U=e.unstable_now(),typeof we=="function"?p.callback=we:p===n(l)&&r(l),g(U)}else r(l);p=n(l)}if(p!==null)var mn=!0;else{var Tt=n(u);Tt!==null&&Fe(E,Tt.startTime-U),mn=!1}return mn}finally{p=null,m=W,v=!1}}var S=!1,I=null,j=-1,J=5,F=-1;function V(){return!(e.unstable_now()-F<J)}function ot(){if(I!==null){var D=e.unstable_now();F=D;var U=!0;try{U=I(!0,D)}finally{U?ve():(S=!1,I=null)}}else S=!1}var ve;if(typeof f=="function")ve=function(){f(ot)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,Xe=L.port2;L.port1.onmessage=ot,ve=function(){Xe.postMessage(null)}}else ve=function(){N(ot,0)};function Qe(D){I=D,S||(S=!0,ve())}function Fe(D,U){j=N(function(){D(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,Qe(_))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(D){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var W=m;m=U;try{return D()}finally{m=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,U){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=m;m=D;try{return U()}finally{m=W}},e.unstable_scheduleCallback=function(D,U,W){var se=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?se+W:se):W=se,D){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=W+we,D={id:d++,callback:U,priorityLevel:D,startTime:W,expirationTime:we,sortIndex:-1},W>se?(D.sortIndex=W,t(u,D),n(l)===null&&D===n(u)&&(y?(h(j),j=-1):y=!0,Fe(E,W-se))):(D.sortIndex=we,t(l,D),w||v||(w=!0,Qe(_))),D},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(D){var U=m;return function(){var W=m;m=U;try{return D.apply(this,arguments)}finally{m=W}}}})(Cd),Nd.exports=Cd;var sy=Nd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy=A,Lt=sy;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Td=new Set,Li={};function dr(e,t){$r(e,t),$r(e+"Capture",t)}function $r(e,t){for(Li[e]=t,e=0;e<t.length;e++)Td.add(t[e])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qa=Object.prototype.hasOwnProperty,ay=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jd={},Id={};function ly(e){return Qa.call(Id,e)?!0:Qa.call(jd,e)?!1:ay.test(e)?Id[e]=!0:(jd[e]=!0,!1)}function cy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uy(e,t,n,r){if(t===null||typeof t>"u"||cy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function gt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rt[e]=new gt(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rt[t]=new gt(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){rt[e]=new gt(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rt[e]=new gt(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rt[e]=new gt(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){rt[e]=new gt(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){rt[e]=new gt(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){rt[e]=new gt(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){rt[e]=new gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ja=/[\-:]([a-z])/g;function qa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ja,qa);rt[t]=new gt(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ja,qa);rt[t]=new gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ja,qa);rt[t]=new gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){rt[e]=new gt(e,1,!1,e.toLowerCase(),null,!1,!1)}),rt.xlinkHref=new gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){rt[e]=new gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function el(e,t,n,r){var i=rt.hasOwnProperty(t)?rt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uy(t,n,i,r)&&(n=null),r||i===null?ly(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var vn=oy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zs=Symbol.for("react.element"),Fr=Symbol.for("react.portal"),zr=Symbol.for("react.fragment"),tl=Symbol.for("react.strict_mode"),nl=Symbol.for("react.profiler"),Ld=Symbol.for("react.provider"),Dd=Symbol.for("react.context"),rl=Symbol.for("react.forward_ref"),il=Symbol.for("react.suspense"),sl=Symbol.for("react.suspense_list"),ol=Symbol.for("react.memo"),Rn=Symbol.for("react.lazy"),Rd=Symbol.for("react.offscreen"),Pd=Symbol.iterator;function Di(e){return e===null||typeof e!="object"?null:(e=Pd&&e[Pd]||e["@@iterator"],typeof e=="function"?e:null)}var Pe=Object.assign,al;function Ri(e){if(al===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);al=t&&t[1]||""}return`
`+al+e}var ll=!1;function cl(e,t){if(!e||ll)return"";ll=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{ll=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ri(e):""}function dy(e){switch(e.tag){case 5:return Ri(e.type);case 16:return Ri("Lazy");case 13:return Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 2:case 15:return e=cl(e.type,!1),e;case 11:return e=cl(e.type.render,!1),e;case 1:return e=cl(e.type,!0),e;default:return""}}function ul(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zr:return"Fragment";case Fr:return"Portal";case nl:return"Profiler";case tl:return"StrictMode";case il:return"Suspense";case sl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dd:return(e.displayName||"Context")+".Consumer";case Ld:return(e._context.displayName||"Context")+".Provider";case rl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ol:return t=e.displayName||null,t!==null?t:ul(e.type)||"Memo";case Rn:t=e._payload,e=e._init;try{return ul(e(t))}catch{}}return null}function fy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ul(t);case 8:return t===tl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Od(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function py(e){var t=Od(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ks(e){e._valueTracker||(e._valueTracker=py(e))}function Md(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Od(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Xs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dl(e,t){var n=t.checked;return Pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ad(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Pn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $d(e,t){t=t.checked,t!=null&&el(e,"checked",t,!1)}function fl(e,t){$d(e,t);var n=Pn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pl(e,t.type,n):t.hasOwnProperty("defaultValue")&&pl(e,t.type,Pn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pl(e,t,n){(t!=="number"||Xs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Pi=Array.isArray;function Br(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Pn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function hl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return Pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(Pi(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Pn(n)}}function Bd(e,t){var n=Pn(t.value),r=Pn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Hd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ud(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ml(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ud(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qs,Vd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qs=Qs||document.createElement("div"),Qs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hy=["Webkit","ms","Moz","O"];Object.keys(Mi).forEach(function(e){hy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mi[t]=Mi[e]})});function Yd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Mi.hasOwnProperty(e)&&Mi[e]?(""+t).trim():t+"px"}function Wd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Yd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var my=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gl(e,t){if(t){if(my[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function vl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yl=null;function _l(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xl=null,Hr=null,Ur=null;function Gd(e){if(e=is(e)){if(typeof xl!="function")throw Error(C(280));var t=e.stateNode;t&&(t=wo(t),xl(e.stateNode,e.type,t))}}function Zd(e){Hr?Ur?Ur.push(e):Ur=[e]:Hr=e}function Kd(){if(Hr){var e=Hr,t=Ur;if(Ur=Hr=null,Gd(e),t)for(e=0;e<t.length;e++)Gd(t[e])}}function Xd(e,t){return e(t)}function Qd(){}var wl=!1;function Jd(e,t,n){if(wl)return e(t,n);wl=!0;try{return Xd(e,t,n)}finally{wl=!1,(Hr!==null||Ur!==null)&&(Qd(),Kd())}}function Ai(e,t){var n=e.stateNode;if(n===null)return null;var r=wo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var Sl=!1;if(gn)try{var $i={};Object.defineProperty($i,"passive",{get:function(){Sl=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{Sl=!1}function gy(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Fi=!1,Js=null,qs=!1,kl=null,vy={onError:function(e){Fi=!0,Js=e}};function yy(e,t,n,r,i,s,o,a,l){Fi=!1,Js=null,gy.apply(vy,arguments)}function _y(e,t,n,r,i,s,o,a,l){if(yy.apply(this,arguments),Fi){if(Fi){var u=Js;Fi=!1,Js=null}else throw Error(C(198));qs||(qs=!0,kl=u)}}function fr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ef(e){if(fr(e)!==e)throw Error(C(188))}function xy(e){var t=e.alternate;if(!t){if(t=fr(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ef(i),e;if(s===r)return ef(i),t;s=s.sibling}throw Error(C(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function tf(e){return e=xy(e),e!==null?nf(e):null}function nf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nf(e);if(t!==null)return t;e=e.sibling}return null}var rf=Lt.unstable_scheduleCallback,sf=Lt.unstable_cancelCallback,wy=Lt.unstable_shouldYield,Sy=Lt.unstable_requestPaint,Be=Lt.unstable_now,ky=Lt.unstable_getCurrentPriorityLevel,El=Lt.unstable_ImmediatePriority,of=Lt.unstable_UserBlockingPriority,eo=Lt.unstable_NormalPriority,Ey=Lt.unstable_LowPriority,af=Lt.unstable_IdlePriority,to=null,sn=null;function by(e){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(to,e,void 0,(e.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:Ty,Ny=Math.log,Cy=Math.LN2;function Ty(e){return e>>>=0,e===0?32:31-(Ny(e)/Cy|0)|0}var no=64,ro=4194304;function zi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function io(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=zi(a):(s&=o,s!==0&&(r=zi(s)))}else o=n&~i,o!==0?r=zi(o):s!==0&&(r=zi(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wt(t),i=1<<n,r|=e[n],t&=~i;return r}function jy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iy(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Wt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=jy(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function bl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lf(){var e=no;return no<<=1,!(no&4194240)&&(no=64),e}function Nl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wt(t),e[t]=n}function Ly(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Wt(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Cl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var me=0;function cf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uf,Tl,df,ff,pf,jl=!1,so=[],On=null,Mn=null,An=null,Hi=new Map,Ui=new Map,$n=[],Dy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hf(e,t){switch(e){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Hi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ui.delete(t.pointerId)}}function Vi(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=is(t),t!==null&&Tl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Ry(e,t,n,r,i){switch(t){case"focusin":return On=Vi(On,e,t,n,r,i),!0;case"dragenter":return Mn=Vi(Mn,e,t,n,r,i),!0;case"mouseover":return An=Vi(An,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Hi.set(s,Vi(Hi.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ui.set(s,Vi(Ui.get(s)||null,e,t,n,r,i)),!0}return!1}function mf(e){var t=pr(e.target);if(t!==null){var n=fr(t);if(n!==null){if(t=n.tag,t===13){if(t=qd(n),t!==null){e.blockedOn=t,pf(e.priority,function(){df(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ll(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);yl=r,n.target.dispatchEvent(r),yl=null}else return t=is(n),t!==null&&Tl(t),e.blockedOn=n,!1;t.shift()}return!0}function gf(e,t,n){oo(e)&&n.delete(t)}function Py(){jl=!1,On!==null&&oo(On)&&(On=null),Mn!==null&&oo(Mn)&&(Mn=null),An!==null&&oo(An)&&(An=null),Hi.forEach(gf),Ui.forEach(gf)}function Yi(e,t){e.blockedOn===t&&(e.blockedOn=null,jl||(jl=!0,Lt.unstable_scheduleCallback(Lt.unstable_NormalPriority,Py)))}function Wi(e){function t(i){return Yi(i,e)}if(0<so.length){Yi(so[0],e);for(var n=1;n<so.length;n++){var r=so[n];r.blockedOn===e&&(r.blockedOn=null)}}for(On!==null&&Yi(On,e),Mn!==null&&Yi(Mn,e),An!==null&&Yi(An,e),Hi.forEach(t),Ui.forEach(t),n=0;n<$n.length;n++)r=$n[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<$n.length&&(n=$n[0],n.blockedOn===null);)mf(n),n.blockedOn===null&&$n.shift()}var Vr=vn.ReactCurrentBatchConfig,ao=!0;function Oy(e,t,n,r){var i=me,s=Vr.transition;Vr.transition=null;try{me=1,Il(e,t,n,r)}finally{me=i,Vr.transition=s}}function My(e,t,n,r){var i=me,s=Vr.transition;Vr.transition=null;try{me=4,Il(e,t,n,r)}finally{me=i,Vr.transition=s}}function Il(e,t,n,r){if(ao){var i=Ll(e,t,n,r);if(i===null)Zl(e,t,r,lo,n),hf(e,r);else if(Ry(i,e,t,n,r))r.stopPropagation();else if(hf(e,r),t&4&&-1<Dy.indexOf(e)){for(;i!==null;){var s=is(i);if(s!==null&&uf(s),s=Ll(e,t,n,r),s===null&&Zl(e,t,r,lo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Zl(e,t,r,null,n)}}var lo=null;function Ll(e,t,n,r){if(lo=null,e=_l(r),e=pr(e),e!==null)if(t=fr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return lo=e,null}function vf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ky()){case El:return 1;case of:return 4;case eo:case Ey:return 16;case af:return 536870912;default:return 16}default:return 16}}var Fn=null,Dl=null,co=null;function yf(){if(co)return co;var e,t=Dl,n=t.length,r,i="value"in Fn?Fn.value:Fn.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return co=i.slice(e,1<r?1-r:void 0)}function uo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fo(){return!0}function _f(){return!1}function Dt(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fo:_f,this.isPropagationStopped=_f,this}return Pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),t}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=Dt(Yr),Gi=Pe({},Yr,{view:0,detail:0}),Ay=Dt(Gi),Pl,Ol,Zi,po=Pe({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zi&&(Zi&&e.type==="mousemove"?(Pl=e.screenX-Zi.screenX,Ol=e.screenY-Zi.screenY):Ol=Pl=0,Zi=e),Pl)},movementY:function(e){return"movementY"in e?e.movementY:Ol}}),xf=Dt(po),$y=Pe({},po,{dataTransfer:0}),Fy=Dt($y),zy=Pe({},Gi,{relatedTarget:0}),Ml=Dt(zy),By=Pe({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hy=Dt(By),Uy=Pe({},Yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vy=Dt(Uy),Yy=Pe({},Yr,{data:0}),wf=Dt(Yy),Wy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ky(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zy[e])?!!t[e]:!1}function Al(){return Ky}var Xy=Pe({},Gi,{key:function(e){if(e.key){var t=Wy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=uo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(e){return e.type==="keypress"?uo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?uo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qy=Dt(Xy),Jy=Pe({},po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sf=Dt(Jy),qy=Pe({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),e_=Dt(qy),t_=Pe({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),n_=Dt(t_),r_=Pe({},po,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),i_=Dt(r_),s_=[9,13,27,32],$l=gn&&"CompositionEvent"in window,Ki=null;gn&&"documentMode"in document&&(Ki=document.documentMode);var o_=gn&&"TextEvent"in window&&!Ki,kf=gn&&(!$l||Ki&&8<Ki&&11>=Ki),Ef=" ",bf=!1;function Nf(e,t){switch(e){case"keyup":return s_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wr=!1;function a_(e,t){switch(e){case"compositionend":return Cf(t);case"keypress":return t.which!==32?null:(bf=!0,Ef);case"textInput":return e=t.data,e===Ef&&bf?null:e;default:return null}}function l_(e,t){if(Wr)return e==="compositionend"||!$l&&Nf(e,t)?(e=yf(),co=Dl=Fn=null,Wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kf&&t.locale!=="ko"?null:t.data;default:return null}}var c_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!c_[e.type]:t==="textarea"}function jf(e,t,n,r){Zd(r),t=yo(t,"onChange"),0<t.length&&(n=new Rl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xi=null,Qi=null;function u_(e){Gf(e,0)}function ho(e){var t=Qr(e);if(Md(t))return e}function d_(e,t){if(e==="change")return t}var If=!1;if(gn){var Fl;if(gn){var zl="oninput"in document;if(!zl){var Lf=document.createElement("div");Lf.setAttribute("oninput","return;"),zl=typeof Lf.oninput=="function"}Fl=zl}else Fl=!1;If=Fl&&(!document.documentMode||9<document.documentMode)}function Df(){Xi&&(Xi.detachEvent("onpropertychange",Rf),Qi=Xi=null)}function Rf(e){if(e.propertyName==="value"&&ho(Qi)){var t=[];jf(t,Qi,e,_l(e)),Jd(u_,t)}}function f_(e,t,n){e==="focusin"?(Df(),Xi=t,Qi=n,Xi.attachEvent("onpropertychange",Rf)):e==="focusout"&&Df()}function p_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ho(Qi)}function h_(e,t){if(e==="click")return ho(t)}function m_(e,t){if(e==="input"||e==="change")return ho(t)}function g_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gt=typeof Object.is=="function"?Object.is:g_;function Ji(e,t){if(Gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Qa.call(t,i)||!Gt(e[i],t[i]))return!1}return!0}function Pf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Of(e,t){var n=Pf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pf(n)}}function Mf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Af(){for(var e=window,t=Xs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Xs(e.document)}return t}function Bl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function v_(e){var t=Af(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Mf(n.ownerDocument.documentElement,n)){if(r!==null&&Bl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Of(n,s);var o=Of(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var y_=gn&&"documentMode"in document&&11>=document.documentMode,Gr=null,Hl=null,qi=null,Ul=!1;function $f(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ul||Gr==null||Gr!==Xs(r)||(r=Gr,"selectionStart"in r&&Bl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),qi&&Ji(qi,r)||(qi=r,r=yo(Hl,"onSelect"),0<r.length&&(t=new Rl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gr)))}function mo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zr={animationend:mo("Animation","AnimationEnd"),animationiteration:mo("Animation","AnimationIteration"),animationstart:mo("Animation","AnimationStart"),transitionend:mo("Transition","TransitionEnd")},Vl={},Ff={};gn&&(Ff=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function go(e){if(Vl[e])return Vl[e];if(!Zr[e])return e;var t=Zr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ff)return Vl[e]=t[n];return e}var zf=go("animationend"),Bf=go("animationiteration"),Hf=go("animationstart"),Uf=go("transitionend"),Vf=new Map,Yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zn(e,t){Vf.set(e,t),dr(t,[e])}for(var Yl=0;Yl<Yf.length;Yl++){var Wl=Yf[Yl],__=Wl.toLowerCase(),x_=Wl[0].toUpperCase()+Wl.slice(1);zn(__,"on"+x_)}zn(zf,"onAnimationEnd"),zn(Bf,"onAnimationIteration"),zn(Hf,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(Uf,"onTransitionEnd"),$r("onMouseEnter",["mouseout","mouseover"]),$r("onMouseLeave",["mouseout","mouseover"]),$r("onPointerEnter",["pointerout","pointerover"]),$r("onPointerLeave",["pointerout","pointerover"]),dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dr("onBeforeInput",["compositionend","keypress","textInput","paste"]),dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w_=new Set("cancel close invalid load scroll toggle".split(" ").concat(es));function Wf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_y(r,t,void 0,e),e.currentTarget=null}function Gf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Wf(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Wf(i,a,u),s=l}}}if(qs)throw e=kl,qs=!1,kl=null,e}function be(e,t){var n=t[ec];n===void 0&&(n=t[ec]=new Set);var r=e+"__bubble";n.has(r)||(Zf(t,e,2,!1),n.add(r))}function Gl(e,t,n){var r=0;t&&(r|=4),Zf(n,e,r,t)}var vo="_reactListening"+Math.random().toString(36).slice(2);function ts(e){if(!e[vo]){e[vo]=!0,Td.forEach(function(n){n!=="selectionchange"&&(w_.has(n)||Gl(n,!1,e),Gl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vo]||(t[vo]=!0,Gl("selectionchange",!1,t))}}function Zf(e,t,n,r){switch(vf(t)){case 1:var i=Oy;break;case 4:i=My;break;default:i=Il}n=i.bind(null,t,n,e),i=void 0,!Sl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zl(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=pr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Jd(function(){var u=s,d=_l(n),p=[];e:{var m=Vf.get(e);if(m!==void 0){var v=Rl,w=e;switch(e){case"keypress":if(uo(n)===0)break e;case"keydown":case"keyup":v=Qy;break;case"focusin":w="focus",v=Ml;break;case"focusout":w="blur",v=Ml;break;case"beforeblur":case"afterblur":v=Ml;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=xf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Fy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=e_;break;case zf:case Bf:case Hf:v=Hy;break;case Uf:v=n_;break;case"scroll":v=Ay;break;case"wheel":v=i_;break;case"copy":case"cut":case"paste":v=Vy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Sf}var y=(t&4)!==0,N=!y&&e==="scroll",h=y?m!==null?m+"Capture":null:m;y=[];for(var f=u,g;f!==null;){g=f;var E=g.stateNode;if(g.tag===5&&E!==null&&(g=E,h!==null&&(E=Ai(f,h),E!=null&&y.push(ns(f,E,g)))),N)break;f=f.return}0<y.length&&(m=new v(m,w,null,n,d),p.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==yl&&(w=n.relatedTarget||n.fromElement)&&(pr(w)||w[yn]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?pr(w):null,w!==null&&(N=fr(w),w!==N||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(y=xf,E="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(y=Sf,E="onPointerLeave",h="onPointerEnter",f="pointer"),N=v==null?m:Qr(v),g=w==null?m:Qr(w),m=new y(E,f+"leave",v,n,d),m.target=N,m.relatedTarget=g,E=null,pr(d)===u&&(y=new y(h,f+"enter",w,n,d),y.target=g,y.relatedTarget=N,E=y),N=E,v&&w)t:{for(y=v,h=w,f=0,g=y;g;g=Kr(g))f++;for(g=0,E=h;E;E=Kr(E))g++;for(;0<f-g;)y=Kr(y),f--;for(;0<g-f;)h=Kr(h),g--;for(;f--;){if(y===h||h!==null&&y===h.alternate)break t;y=Kr(y),h=Kr(h)}y=null}else y=null;v!==null&&Kf(p,m,v,y,!1),w!==null&&N!==null&&Kf(p,N,w,y,!0)}}e:{if(m=u?Qr(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var _=d_;else if(Tf(m))if(If)_=m_;else{_=p_;var S=f_}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=h_);if(_&&(_=_(e,u))){jf(p,_,n,d);break e}S&&S(e,m,u),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&pl(m,"number",m.value)}switch(S=u?Qr(u):window,e){case"focusin":(Tf(S)||S.contentEditable==="true")&&(Gr=S,Hl=u,qi=null);break;case"focusout":qi=Hl=Gr=null;break;case"mousedown":Ul=!0;break;case"contextmenu":case"mouseup":case"dragend":Ul=!1,$f(p,n,d);break;case"selectionchange":if(y_)break;case"keydown":case"keyup":$f(p,n,d)}var I;if($l)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Wr?Nf(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(kf&&n.locale!=="ko"&&(Wr||j!=="onCompositionStart"?j==="onCompositionEnd"&&Wr&&(I=yf()):(Fn=d,Dl="value"in Fn?Fn.value:Fn.textContent,Wr=!0)),S=yo(u,j),0<S.length&&(j=new wf(j,e,null,n,d),p.push({event:j,listeners:S}),I?j.data=I:(I=Cf(n),I!==null&&(j.data=I)))),(I=o_?a_(e,n):l_(e,n))&&(u=yo(u,"onBeforeInput"),0<u.length&&(d=new wf("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=I))}Gf(p,t)})}function ns(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yo(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ai(e,n),s!=null&&r.unshift(ns(e,s,i)),s=Ai(e,t),s!=null&&r.push(ns(e,s,i))),e=e.return}return r}function Kr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Kf(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ai(n,s),l!=null&&o.unshift(ns(n,l,a))):i||(l=Ai(n,s),l!=null&&o.push(ns(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var S_=/\r\n?/g,k_=/\u0000|\uFFFD/g;function Xf(e){return(typeof e=="string"?e:""+e).replace(S_,`
`).replace(k_,"")}function _o(e,t,n){if(t=Xf(t),Xf(e)!==t&&n)throw Error(C(425))}function xo(){}var Kl=null,Xl=null;function Ql(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jl=typeof setTimeout=="function"?setTimeout:void 0,E_=typeof clearTimeout=="function"?clearTimeout:void 0,Qf=typeof Promise=="function"?Promise:void 0,b_=typeof queueMicrotask=="function"?queueMicrotask:typeof Qf<"u"?function(e){return Qf.resolve(null).then(e).catch(N_)}:Jl;function N_(e){setTimeout(function(){throw e})}function ql(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Wi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wi(t)}function Bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),on="__reactFiber$"+Xr,rs="__reactProps$"+Xr,yn="__reactContainer$"+Xr,ec="__reactEvents$"+Xr,C_="__reactListeners$"+Xr,T_="__reactHandles$"+Xr;function pr(e){var t=e[on];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yn]||n[on]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Jf(e);e!==null;){if(n=e[on])return n;e=Jf(e)}return t}e=n,n=e.parentNode}return null}function is(e){return e=e[on]||e[yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function wo(e){return e[rs]||null}var tc=[],Jr=-1;function Hn(e){return{current:e}}function Ne(e){0>Jr||(e.current=tc[Jr],tc[Jr]=null,Jr--)}function xe(e,t){Jr++,tc[Jr]=e.current,e.current=t}var Un={},at=Hn(Un),kt=Hn(!1),hr=Un;function qr(e,t){var n=e.type.contextTypes;if(!n)return Un;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Et(e){return e=e.childContextTypes,e!=null}function So(){Ne(kt),Ne(at)}function qf(e,t,n){if(at.current!==Un)throw Error(C(168));xe(at,t),xe(kt,n)}function ep(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(C(108,fy(e)||"Unknown",i));return Pe({},n,r)}function ko(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Un,hr=at.current,xe(at,e),xe(kt,kt.current),!0}function tp(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=ep(e,t,hr),r.__reactInternalMemoizedMergedChildContext=e,Ne(kt),Ne(at),xe(at,e)):Ne(kt),xe(kt,n)}var _n=null,Eo=!1,nc=!1;function np(e){_n===null?_n=[e]:_n.push(e)}function j_(e){Eo=!0,np(e)}function Vn(){if(!nc&&_n!==null){nc=!0;var e=0,t=me;try{var n=_n;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}_n=null,Eo=!1}catch(i){throw _n!==null&&(_n=_n.slice(e+1)),rf(El,Vn),i}finally{me=t,nc=!1}}return null}var ei=[],ti=0,bo=null,No=0,$t=[],Ft=0,mr=null,xn=1,wn="";function gr(e,t){ei[ti++]=No,ei[ti++]=bo,bo=e,No=t}function rp(e,t,n){$t[Ft++]=xn,$t[Ft++]=wn,$t[Ft++]=mr,mr=e;var r=xn;e=wn;var i=32-Wt(r)-1;r&=~(1<<i),n+=1;var s=32-Wt(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,xn=1<<32-Wt(t)+i|n<<i|r,wn=s+e}else xn=1<<s|n<<i|r,wn=e}function rc(e){e.return!==null&&(gr(e,1),rp(e,1,0))}function ic(e){for(;e===bo;)bo=ei[--ti],ei[ti]=null,No=ei[--ti],ei[ti]=null;for(;e===mr;)mr=$t[--Ft],$t[Ft]=null,wn=$t[--Ft],$t[Ft]=null,xn=$t[--Ft],$t[Ft]=null}var Rt=null,Pt=null,Ie=!1,Zt=null;function ip(e,t){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rt=e,Pt=Bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rt=e,Pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=mr!==null?{id:xn,overflow:wn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Rt=e,Pt=null,!0):!1;default:return!1}}function sc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oc(e){if(Ie){var t=Pt;if(t){var n=t;if(!sp(e,t)){if(sc(e))throw Error(C(418));t=Bn(n.nextSibling);var r=Rt;t&&sp(e,t)?ip(r,n):(e.flags=e.flags&-4097|2,Ie=!1,Rt=e)}}else{if(sc(e))throw Error(C(418));e.flags=e.flags&-4097|2,Ie=!1,Rt=e}}}function op(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rt=e}function Co(e){if(e!==Rt)return!1;if(!Ie)return op(e),Ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ql(e.type,e.memoizedProps)),t&&(t=Pt)){if(sc(e))throw ap(),Error(C(418));for(;t;)ip(e,t),t=Bn(t.nextSibling)}if(op(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Pt=Bn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Pt=null}}else Pt=Rt?Bn(e.stateNode.nextSibling):null;return!0}function ap(){for(var e=Pt;e;)e=Bn(e.nextSibling)}function ni(){Pt=Rt=null,Ie=!1}function ac(e){Zt===null?Zt=[e]:Zt.push(e)}var I_=vn.ReactCurrentBatchConfig;function ss(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function To(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lp(e){var t=e._init;return t(e._payload)}function cp(e){function t(h,f){if(e){var g=h.deletions;g===null?(h.deletions=[f],h.flags|=16):g.push(f)}}function n(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function i(h,f){return h=Jn(h,f),h.index=0,h.sibling=null,h}function s(h,f,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<f?(h.flags|=2,f):g):(h.flags|=2,f)):(h.flags|=1048576,f)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,f,g,E){return f===null||f.tag!==6?(f=Jc(g,h.mode,E),f.return=h,f):(f=i(f,g),f.return=h,f)}function l(h,f,g,E){var _=g.type;return _===zr?d(h,f,g.props.children,E,g.key):f!==null&&(f.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rn&&lp(_)===f.type)?(E=i(f,g.props),E.ref=ss(h,f,g),E.return=h,E):(E=Jo(g.type,g.key,g.props,null,h.mode,E),E.ref=ss(h,f,g),E.return=h,E)}function u(h,f,g,E){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=qc(g,h.mode,E),f.return=h,f):(f=i(f,g.children||[]),f.return=h,f)}function d(h,f,g,E,_){return f===null||f.tag!==7?(f=Er(g,h.mode,E,_),f.return=h,f):(f=i(f,g),f.return=h,f)}function p(h,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Jc(""+f,h.mode,g),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Zs:return g=Jo(f.type,f.key,f.props,null,h.mode,g),g.ref=ss(h,null,f),g.return=h,g;case Fr:return f=qc(f,h.mode,g),f.return=h,f;case Rn:var E=f._init;return p(h,E(f._payload),g)}if(Pi(f)||Di(f))return f=Er(f,h.mode,g,null),f.return=h,f;To(h,f)}return null}function m(h,f,g,E){var _=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:a(h,f,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zs:return g.key===_?l(h,f,g,E):null;case Fr:return g.key===_?u(h,f,g,E):null;case Rn:return _=g._init,m(h,f,_(g._payload),E)}if(Pi(g)||Di(g))return _!==null?null:d(h,f,g,E,null);To(h,g)}return null}function v(h,f,g,E,_){if(typeof E=="string"&&E!==""||typeof E=="number")return h=h.get(g)||null,a(f,h,""+E,_);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Zs:return h=h.get(E.key===null?g:E.key)||null,l(f,h,E,_);case Fr:return h=h.get(E.key===null?g:E.key)||null,u(f,h,E,_);case Rn:var S=E._init;return v(h,f,g,S(E._payload),_)}if(Pi(E)||Di(E))return h=h.get(g)||null,d(f,h,E,_,null);To(f,E)}return null}function w(h,f,g,E){for(var _=null,S=null,I=f,j=f=0,J=null;I!==null&&j<g.length;j++){I.index>j?(J=I,I=null):J=I.sibling;var F=m(h,I,g[j],E);if(F===null){I===null&&(I=J);break}e&&I&&F.alternate===null&&t(h,I),f=s(F,f,j),S===null?_=F:S.sibling=F,S=F,I=J}if(j===g.length)return n(h,I),Ie&&gr(h,j),_;if(I===null){for(;j<g.length;j++)I=p(h,g[j],E),I!==null&&(f=s(I,f,j),S===null?_=I:S.sibling=I,S=I);return Ie&&gr(h,j),_}for(I=r(h,I);j<g.length;j++)J=v(I,h,j,g[j],E),J!==null&&(e&&J.alternate!==null&&I.delete(J.key===null?j:J.key),f=s(J,f,j),S===null?_=J:S.sibling=J,S=J);return e&&I.forEach(function(V){return t(h,V)}),Ie&&gr(h,j),_}function y(h,f,g,E){var _=Di(g);if(typeof _!="function")throw Error(C(150));if(g=_.call(g),g==null)throw Error(C(151));for(var S=_=null,I=f,j=f=0,J=null,F=g.next();I!==null&&!F.done;j++,F=g.next()){I.index>j?(J=I,I=null):J=I.sibling;var V=m(h,I,F.value,E);if(V===null){I===null&&(I=J);break}e&&I&&V.alternate===null&&t(h,I),f=s(V,f,j),S===null?_=V:S.sibling=V,S=V,I=J}if(F.done)return n(h,I),Ie&&gr(h,j),_;if(I===null){for(;!F.done;j++,F=g.next())F=p(h,F.value,E),F!==null&&(f=s(F,f,j),S===null?_=F:S.sibling=F,S=F);return Ie&&gr(h,j),_}for(I=r(h,I);!F.done;j++,F=g.next())F=v(I,h,j,F.value,E),F!==null&&(e&&F.alternate!==null&&I.delete(F.key===null?j:F.key),f=s(F,f,j),S===null?_=F:S.sibling=F,S=F);return e&&I.forEach(function(ot){return t(h,ot)}),Ie&&gr(h,j),_}function N(h,f,g,E){if(typeof g=="object"&&g!==null&&g.type===zr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Zs:e:{for(var _=g.key,S=f;S!==null;){if(S.key===_){if(_=g.type,_===zr){if(S.tag===7){n(h,S.sibling),f=i(S,g.props.children),f.return=h,h=f;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rn&&lp(_)===S.type){n(h,S.sibling),f=i(S,g.props),f.ref=ss(h,S,g),f.return=h,h=f;break e}n(h,S);break}else t(h,S);S=S.sibling}g.type===zr?(f=Er(g.props.children,h.mode,E,g.key),f.return=h,h=f):(E=Jo(g.type,g.key,g.props,null,h.mode,E),E.ref=ss(h,f,g),E.return=h,h=E)}return o(h);case Fr:e:{for(S=g.key;f!==null;){if(f.key===S)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(h,f.sibling),f=i(f,g.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else t(h,f);f=f.sibling}f=qc(g,h.mode,E),f.return=h,h=f}return o(h);case Rn:return S=g._init,N(h,f,S(g._payload),E)}if(Pi(g))return w(h,f,g,E);if(Di(g))return y(h,f,g,E);To(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(h,f.sibling),f=i(f,g),f.return=h,h=f):(n(h,f),f=Jc(g,h.mode,E),f.return=h,h=f),o(h)):n(h,f)}return N}var ri=cp(!0),up=cp(!1),jo=Hn(null),Io=null,ii=null,lc=null;function cc(){lc=ii=Io=null}function uc(e){var t=jo.current;Ne(jo),e._currentValue=t}function dc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function si(e,t){Io=e,lc=ii=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bt=!0),e.firstContext=null)}function zt(e){var t=e._currentValue;if(lc!==e)if(e={context:e,memoizedValue:t,next:null},ii===null){if(Io===null)throw Error(C(308));ii=e,Io.dependencies={lanes:0,firstContext:e}}else ii=ii.next=e;return t}var vr=null;function fc(e){vr===null?vr=[e]:vr.push(e)}function dp(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,fc(t)):(n.next=i.next,i.next=n),t.interleaved=n,Sn(e,r)}function Sn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yn=!1;function pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Sn(e,n)}return i=r.interleaved,i===null?(t.next=t,fc(r)):(t.next=i.next,i.next=t),r.interleaved=t,Sn(e,n)}function Lo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cl(e,n)}}function pp(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Do(e,t,n,r){var i=e.updateQueue;Yn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,d=u=l=null,a=s;do{var m=a.lane,v=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,y=a;switch(m=t,v=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){p=w.call(v,p,m);break e}p=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,m=typeof w=="function"?w.call(v,p,m):w,m==null)break e;p=Pe({},p,m);break e;case 2:Yn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,l=p):d=d.next=v,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);xr|=o,e.lanes=o,e.memoizedState=p}}function hp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(C(191,i));i.call(r)}}}var os={},an=Hn(os),as=Hn(os),ls=Hn(os);function yr(e){if(e===os)throw Error(C(174));return e}function hc(e,t){switch(xe(ls,t),xe(as,e),xe(an,os),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ml(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ml(t,e)}Ne(an),xe(an,t)}function oi(){Ne(an),Ne(as),Ne(ls)}function mp(e){yr(ls.current);var t=yr(an.current),n=ml(t,e.type);t!==n&&(xe(as,e),xe(an,n))}function mc(e){as.current===e&&(Ne(an),Ne(as))}var Oe=Hn(0);function Ro(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gc=[];function vc(){for(var e=0;e<gc.length;e++)gc[e]._workInProgressVersionPrimary=null;gc.length=0}var Po=vn.ReactCurrentDispatcher,yc=vn.ReactCurrentBatchConfig,_r=0,Me=null,Ze=null,et=null,Oo=!1,cs=!1,us=0,L_=0;function lt(){throw Error(C(321))}function _c(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gt(e[n],t[n]))return!1;return!0}function xc(e,t,n,r,i,s){if(_r=s,Me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Po.current=e===null||e.memoizedState===null?O_:M_,e=n(r,i),cs){s=0;do{if(cs=!1,us=0,25<=s)throw Error(C(301));s+=1,et=Ze=null,t.updateQueue=null,Po.current=A_,e=n(r,i)}while(cs)}if(Po.current=$o,t=Ze!==null&&Ze.next!==null,_r=0,et=Ze=Me=null,Oo=!1,t)throw Error(C(300));return e}function wc(){var e=us!==0;return us=0,e}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Me.memoizedState=et=e:et=et.next=e,et}function Bt(){if(Ze===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=et===null?Me.memoizedState:et.next;if(t!==null)et=t,Ze=e;else{if(e===null)throw Error(C(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},et===null?Me.memoizedState=et=e:et=et.next=e}return et}function ds(e,t){return typeof t=="function"?t(e):t}function Sc(e){var t=Bt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=Ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((_r&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,Me.lanes|=d,xr|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Gt(r,t.memoizedState)||(bt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Me.lanes|=s,xr|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function kc(e){var t=Bt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Gt(s,t.memoizedState)||(bt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function gp(){}function vp(e,t){var n=Me,r=Bt(),i=t(),s=!Gt(r.memoizedState,i);if(s&&(r.memoizedState=i,bt=!0),r=r.queue,Ec(xp.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||et!==null&&et.memoizedState.tag&1){if(n.flags|=2048,fs(9,_p.bind(null,n,r,i,t),void 0,null),tt===null)throw Error(C(349));_r&30||yp(n,t,i)}return i}function yp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _p(e,t,n,r){t.value=n,t.getSnapshot=r,wp(t)&&Sp(e)}function xp(e,t,n){return n(function(){wp(t)&&Sp(e)})}function wp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gt(e,n)}catch{return!0}}function Sp(e){var t=Sn(e,1);t!==null&&Jt(t,e,1,-1)}function kp(e){var t=ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:e},t.queue=e,e=e.dispatch=P_.bind(null,Me,e),[t.memoizedState,e]}function fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Me.updateQueue,t===null?(t={lastEffect:null,stores:null},Me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ep(){return Bt().memoizedState}function Mo(e,t,n,r){var i=ln();Me.flags|=e,i.memoizedState=fs(1|t,n,void 0,r===void 0?null:r)}function Ao(e,t,n,r){var i=Bt();r=r===void 0?null:r;var s=void 0;if(Ze!==null){var o=Ze.memoizedState;if(s=o.destroy,r!==null&&_c(r,o.deps)){i.memoizedState=fs(t,n,s,r);return}}Me.flags|=e,i.memoizedState=fs(1|t,n,s,r)}function bp(e,t){return Mo(8390656,8,e,t)}function Ec(e,t){return Ao(2048,8,e,t)}function Np(e,t){return Ao(4,2,e,t)}function Cp(e,t){return Ao(4,4,e,t)}function Tp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jp(e,t,n){return n=n!=null?n.concat([e]):null,Ao(4,4,Tp.bind(null,t,e),n)}function bc(){}function Ip(e,t){var n=Bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_c(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Lp(e,t){var n=Bt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&_c(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Dp(e,t,n){return _r&21?(Gt(n,t)||(n=lf(),Me.lanes|=n,xr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=n)}function D_(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=yc.transition;yc.transition={};try{e(!1),t()}finally{me=n,yc.transition=r}}function Rp(){return Bt().memoizedState}function R_(e,t,n){var r=Xn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pp(e))Op(t,n);else if(n=dp(e,t,n,r),n!==null){var i=yt();Jt(n,e,r,i),Mp(n,t,r)}}function P_(e,t,n){var r=Xn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pp(e))Op(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Gt(a,o)){var l=t.interleaved;l===null?(i.next=i,fc(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=dp(e,t,i,r),n!==null&&(i=yt(),Jt(n,e,r,i),Mp(n,t,r))}}function Pp(e){var t=e.alternate;return e===Me||t!==null&&t===Me}function Op(e,t){cs=Oo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Mp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Cl(e,n)}}var $o={readContext:zt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},O_={readContext:zt,useCallback:function(e,t){return ln().memoizedState=[e,t===void 0?null:t],e},useContext:zt,useEffect:bp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Mo(4194308,4,Tp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ln();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=R_.bind(null,Me,e),[r.memoizedState,e]},useRef:function(e){var t=ln();return e={current:e},t.memoizedState=e},useState:kp,useDebugValue:bc,useDeferredValue:function(e){return ln().memoizedState=e},useTransition:function(){var e=kp(!1),t=e[0];return e=D_.bind(null,e[1]),ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Me,i=ln();if(Ie){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),tt===null)throw Error(C(349));_r&30||yp(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,bp(xp.bind(null,r,s,e),[e]),r.flags|=2048,fs(9,_p.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ln(),t=tt.identifierPrefix;if(Ie){var n=wn,r=xn;n=(r&~(1<<32-Wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=us++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=L_++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},M_={readContext:zt,useCallback:Ip,useContext:zt,useEffect:Ec,useImperativeHandle:jp,useInsertionEffect:Np,useLayoutEffect:Cp,useMemo:Lp,useReducer:Sc,useRef:Ep,useState:function(){return Sc(ds)},useDebugValue:bc,useDeferredValue:function(e){var t=Bt();return Dp(t,Ze.memoizedState,e)},useTransition:function(){var e=Sc(ds)[0],t=Bt().memoizedState;return[e,t]},useMutableSource:gp,useSyncExternalStore:vp,useId:Rp,unstable_isNewReconciler:!1},A_={readContext:zt,useCallback:Ip,useContext:zt,useEffect:Ec,useImperativeHandle:jp,useInsertionEffect:Np,useLayoutEffect:Cp,useMemo:Lp,useReducer:kc,useRef:Ep,useState:function(){return kc(ds)},useDebugValue:bc,useDeferredValue:function(e){var t=Bt();return Ze===null?t.memoizedState=e:Dp(t,Ze.memoizedState,e)},useTransition:function(){var e=kc(ds)[0],t=Bt().memoizedState;return[e,t]},useMutableSource:gp,useSyncExternalStore:vp,useId:Rp,unstable_isNewReconciler:!1};function Kt(e,t){if(e&&e.defaultProps){t=Pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Nc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Fo={isMounted:function(e){return(e=e._reactInternals)?fr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=yt(),i=Xn(e),s=kn(r,i);s.payload=t,n!=null&&(s.callback=n),t=Wn(e,s,i),t!==null&&(Jt(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=yt(),i=Xn(e),s=kn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Wn(e,s,i),t!==null&&(Jt(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=yt(),r=Xn(e),i=kn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Wn(e,i,r),t!==null&&(Jt(t,e,r,n),Lo(t,e,r))}};function Ap(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ji(n,r)||!Ji(i,s):!0}function $p(e,t,n){var r=!1,i=Un,s=t.contextType;return typeof s=="object"&&s!==null?s=zt(s):(i=Et(t)?hr:at.current,r=t.contextTypes,s=(r=r!=null)?qr(e,i):Un),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Fp(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Fo.enqueueReplaceState(t,t.state,null)}function Cc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},pc(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=zt(s):(s=Et(t)?hr:at.current,i.context=qr(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Nc(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Fo.enqueueReplaceState(i,i.state,null),Do(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ai(e,t){try{var n="",r=t;do n+=dy(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Tc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var $_=typeof WeakMap=="function"?WeakMap:Map;function zp(e,t,n){n=kn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wo||(Wo=!0,Vc=r),jc(e,t)},n}function Bp(e,t,n){n=kn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){jc(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){jc(e,t),typeof r!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Hp(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new $_;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=J_.bind(null,e,t,n),t.then(e,e))}function Up(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vp(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=kn(-1,1),t.tag=2,Wn(n,t,1))),n.lanes|=1),e)}var F_=vn.ReactCurrentOwner,bt=!1;function vt(e,t,n,r){t.child=e===null?up(t,null,n,r):ri(t,e.child,n,r)}function Yp(e,t,n,r,i){n=n.render;var s=t.ref;return si(t,i),r=xc(e,t,n,r,s,i),n=wc(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,En(e,t,i)):(Ie&&n&&rc(t),t.flags|=1,vt(e,t,r,i),t.child)}function Wp(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Qc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Gp(e,t,s,r,i)):(e=Jo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ji,n(o,r)&&e.ref===t.ref)return En(e,t,i)}return t.flags|=1,e=Jn(s,r),e.ref=t.ref,e.return=t,t.child=e}function Gp(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ji(s,r)&&e.ref===t.ref)if(bt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(bt=!0);else return t.lanes=e.lanes,En(e,t,i)}return Ic(e,t,n,r,i)}function Zp(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(ci,Ot),Ot|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xe(ci,Ot),Ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xe(ci,Ot),Ot|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,xe(ci,Ot),Ot|=r;return vt(e,t,i,n),t.child}function Kp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ic(e,t,n,r,i){var s=Et(n)?hr:at.current;return s=qr(t,s),si(t,i),n=xc(e,t,n,r,s,i),r=wc(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,En(e,t,i)):(Ie&&r&&rc(t),t.flags|=1,vt(e,t,n,i),t.child)}function Xp(e,t,n,r,i){if(Et(n)){var s=!0;ko(t)}else s=!1;if(si(t,i),t.stateNode===null)Bo(e,t),$p(t,n,r),Cc(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=zt(u):(u=Et(n)?hr:at.current,u=qr(t,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Fp(t,o,r,u),Yn=!1;var m=t.memoizedState;o.state=m,Do(t,r,o,i),l=t.memoizedState,a!==r||m!==l||kt.current||Yn?(typeof d=="function"&&(Nc(t,n,d,r),l=t.memoizedState),(a=Yn||Ap(t,n,a,r,m,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,fp(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Kt(t.type,a),o.props=u,p=t.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=zt(l):(l=Et(n)?hr:at.current,l=qr(t,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==l)&&Fp(t,o,r,l),Yn=!1,m=t.memoizedState,o.state=m,Do(t,r,o,i);var w=t.memoizedState;a!==p||m!==w||kt.current||Yn?(typeof v=="function"&&(Nc(t,n,v,r),w=t.memoizedState),(u=Yn||Ap(t,n,u,r,m,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Lc(e,t,n,r,s,i)}function Lc(e,t,n,r,i,s){Kp(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&tp(t,n,!1),En(e,t,s);r=t.stateNode,F_.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ri(t,e.child,null,s),t.child=ri(t,null,a,s)):vt(e,t,a,s),t.memoizedState=r.state,i&&tp(t,n,!0),t.child}function Qp(e){var t=e.stateNode;t.pendingContext?qf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qf(e,t.context,!1),hc(e,t.containerInfo)}function Jp(e,t,n,r,i){return ni(),ac(i),t.flags|=256,vt(e,t,n,r),t.child}var Dc={dehydrated:null,treeContext:null,retryLane:0};function Rc(e){return{baseLanes:e,cachePool:null,transitions:null}}function qp(e,t,n){var r=t.pendingProps,i=Oe.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),xe(Oe,i&1),e===null)return oc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=qo(o,r,0,null),e=Er(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rc(n),t.memoizedState=Dc,e):Pc(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return z_(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Jn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Jn(a,s):(s=Er(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Rc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Dc,r}return s=e.child,e=s.sibling,r=Jn(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Pc(e,t){return t=qo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zo(e,t,n,r){return r!==null&&ac(r),ri(t,e.child,null,n),e=Pc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function z_(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Tc(Error(C(422))),zo(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=qo({mode:"visible",children:r.children},i,0,null),s=Er(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&ri(t,e.child,null,o),t.child.memoizedState=Rc(o),t.memoizedState=Dc,s);if(!(t.mode&1))return zo(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(C(419)),r=Tc(s,r,void 0),zo(e,t,o,r)}if(a=(o&e.childLanes)!==0,bt||a){if(r=tt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Sn(e,i),Jt(r,e,i,-1))}return Xc(),r=Tc(Error(C(421))),zo(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=q_.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Pt=Bn(i.nextSibling),Rt=t,Ie=!0,Zt=null,e!==null&&($t[Ft++]=xn,$t[Ft++]=wn,$t[Ft++]=mr,xn=e.id,wn=e.overflow,mr=t),t=Pc(t,r.children),t.flags|=4096,t)}function eh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),dc(e.return,t,n)}function Oc(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function th(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(vt(e,t,r.children,n),r=Oe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&eh(e,n,t);else if(e.tag===19)eh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xe(Oe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ro(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Oc(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ro(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Oc(t,!0,n,null,s);break;case"together":Oc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function En(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=Jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function B_(e,t,n){switch(t.tag){case 3:Qp(t),ni();break;case 5:mp(t);break;case 1:Et(t.type)&&ko(t);break;case 4:hc(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xe(jo,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xe(Oe,Oe.current&1),t.flags|=128,null):n&t.child.childLanes?qp(e,t,n):(xe(Oe,Oe.current&1),e=En(e,t,n),e!==null?e.sibling:null);xe(Oe,Oe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return th(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xe(Oe,Oe.current),r)break;return null;case 22:case 23:return t.lanes=0,Zp(e,t,n)}return En(e,t,n)}var nh,Mc,rh,ih;nh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Mc=function(){},rh=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,yr(an.current);var s=null;switch(n){case"input":i=dl(e,i),r=dl(e,r),s=[];break;case"select":i=Pe({},i,{value:void 0}),r=Pe({},r,{value:void 0}),s=[];break;case"textarea":i=hl(e,i),r=hl(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=xo)}gl(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Li.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Li.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&be("scroll",e),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},ih=function(e,t,n,r){n!==r&&(t.flags|=4)};function ps(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function H_(e,t,n){var r=t.pendingProps;switch(ic(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return Et(t.type)&&So(),ct(t),null;case 3:return r=t.stateNode,oi(),Ne(kt),Ne(at),vc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Co(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zt!==null&&(Gc(Zt),Zt=null))),Mc(e,t),ct(t),null;case 5:mc(t);var i=yr(ls.current);if(n=t.type,e!==null&&t.stateNode!=null)rh(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return ct(t),null}if(e=yr(an.current),Co(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[on]=t,r[rs]=s,e=(t.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<es.length;i++)be(es[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":Ad(r,s),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},be("invalid",r);break;case"textarea":zd(r,s),be("invalid",r)}gl(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&_o(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&_o(r.textContent,a,e),i=["children",""+a]):Li.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",r)}switch(n){case"input":Ks(r),Fd(r,s,!0);break;case"textarea":Ks(r),Hd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xo)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ud(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[on]=t,e[rs]=r,nh(e,t,!1,!1),t.stateNode=e;e:{switch(o=vl(n,r),n){case"dialog":be("cancel",e),be("close",e),i=r;break;case"iframe":case"object":case"embed":be("load",e),i=r;break;case"video":case"audio":for(i=0;i<es.length;i++)be(es[i],e);i=r;break;case"source":be("error",e),i=r;break;case"img":case"image":case"link":be("error",e),be("load",e),i=r;break;case"details":be("toggle",e),i=r;break;case"input":Ad(e,r),i=dl(e,r),be("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Pe({},r,{value:void 0}),be("invalid",e);break;case"textarea":zd(e,r),i=hl(e,r),be("invalid",e);break;default:i=r}gl(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Wd(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vd(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Oi(e,l):typeof l=="number"&&Oi(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Li.hasOwnProperty(s)?l!=null&&s==="onScroll"&&be("scroll",e):l!=null&&el(e,s,l,o))}switch(n){case"input":Ks(e),Fd(e,r,!1);break;case"textarea":Ks(e),Hd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Pn(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Br(e,!!r.multiple,s,!1):r.defaultValue!=null&&Br(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=xo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ct(t),null;case 6:if(e&&t.stateNode!=null)ih(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=yr(ls.current),yr(an.current),Co(t)){if(r=t.stateNode,n=t.memoizedProps,r[on]=t,(s=r.nodeValue!==n)&&(e=Rt,e!==null))switch(e.tag){case 3:_o(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_o(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[on]=t,t.stateNode=r}return ct(t),null;case 13:if(Ne(Oe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&Pt!==null&&t.mode&1&&!(t.flags&128))ap(),ni(),t.flags|=98560,s=!1;else if(s=Co(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(C(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(C(317));s[on]=t}else ni(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),s=!1}else Zt!==null&&(Gc(Zt),Zt=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Oe.current&1?Ke===0&&(Ke=3):Xc())),t.updateQueue!==null&&(t.flags|=4),ct(t),null);case 4:return oi(),Mc(e,t),e===null&&ts(t.stateNode.containerInfo),ct(t),null;case 10:return uc(t.type._context),ct(t),null;case 17:return Et(t.type)&&So(),ct(t),null;case 19:if(Ne(Oe),s=t.memoizedState,s===null)return ct(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)ps(s,!1);else{if(Ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ro(e),o!==null){for(t.flags|=128,ps(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xe(Oe,Oe.current&1|2),t.child}e=e.sibling}s.tail!==null&&Be()>ui&&(t.flags|=128,r=!0,ps(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ro(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ps(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ie)return ct(t),null}else 2*Be()-s.renderingStartTime>ui&&n!==1073741824&&(t.flags|=128,r=!0,ps(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Be(),t.sibling=null,n=Oe.current,xe(Oe,r?n&1|2:n&1),t):(ct(t),null);case 22:case 23:return Kc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ot&1073741824&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function U_(e,t){switch(ic(t),t.tag){case 1:return Et(t.type)&&So(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oi(),Ne(kt),Ne(at),vc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mc(t),null;case 13:if(Ne(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(Oe),null;case 4:return oi(),null;case 10:return uc(t.type._context),null;case 22:case 23:return Kc(),null;case 24:return null;default:return null}}var Ho=!1,ut=!1,V_=typeof WeakSet=="function"?WeakSet:Set,$=null;function li(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){$e(e,t,r)}else n.current=null}function Ac(e,t,n){try{n()}catch(r){$e(e,t,r)}}var sh=!1;function Y_(e,t){if(Kl=ao,e=Af(),Bl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,p=e,m=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===e)break t;if(m===n&&++u===i&&(a=o),m===s&&++d===r&&(l=o),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xl={focusedElem:e,selectionRange:n},ao=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,N=w.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?y:Kt(t.type,y),N);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(E){$e(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return w=sh,sh=!1,w}function hs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ac(t,n,s)}i=i.next}while(i!==r)}}function Uo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function $c(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function oh(e){var t=e.alternate;t!==null&&(e.alternate=null,oh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[on],delete t[rs],delete t[ec],delete t[C_],delete t[T_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ah(e){return e.tag===5||e.tag===3||e.tag===4}function lh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ah(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=xo));else if(r!==4&&(e=e.child,e!==null))for(Fc(e,t,n),e=e.sibling;e!==null;)Fc(e,t,n),e=e.sibling}function zc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(zc(e,t,n),e=e.sibling;e!==null;)zc(e,t,n),e=e.sibling}var it=null,Xt=!1;function Gn(e,t,n){for(n=n.child;n!==null;)ch(e,t,n),n=n.sibling}function ch(e,t,n){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(to,n)}catch{}switch(n.tag){case 5:ut||li(n,t);case 6:var r=it,i=Xt;it=null,Gn(e,t,n),it=r,Xt=i,it!==null&&(Xt?(e=it,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(Xt?(e=it,n=n.stateNode,e.nodeType===8?ql(e.parentNode,n):e.nodeType===1&&ql(e,n),Wi(e)):ql(it,n.stateNode));break;case 4:r=it,i=Xt,it=n.stateNode.containerInfo,Xt=!0,Gn(e,t,n),it=r,Xt=i;break;case 0:case 11:case 14:case 15:if(!ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ac(n,t,o),i=i.next}while(i!==r)}Gn(e,t,n);break;case 1:if(!ut&&(li(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){$e(n,t,a)}Gn(e,t,n);break;case 21:Gn(e,t,n);break;case 22:n.mode&1?(ut=(r=ut)||n.memoizedState!==null,Gn(e,t,n),ut=r):Gn(e,t,n);break;default:Gn(e,t,n)}}function uh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new V_),t.forEach(function(r){var i=e0.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,Xt=!1;break e;case 3:it=a.stateNode.containerInfo,Xt=!0;break e;case 4:it=a.stateNode.containerInfo,Xt=!0;break e}a=a.return}if(it===null)throw Error(C(160));ch(s,o,i),it=null,Xt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){$e(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dh(t,e),t=t.sibling}function dh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qt(t,e),cn(e),r&4){try{hs(3,e,e.return),Uo(3,e)}catch(y){$e(e,e.return,y)}try{hs(5,e,e.return)}catch(y){$e(e,e.return,y)}}break;case 1:Qt(t,e),cn(e),r&512&&n!==null&&li(n,n.return);break;case 5:if(Qt(t,e),cn(e),r&512&&n!==null&&li(n,n.return),e.flags&32){var i=e.stateNode;try{Oi(i,"")}catch(y){$e(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$d(i,s),vl(a,o);var u=vl(a,s);for(o=0;o<l.length;o+=2){var d=l[o],p=l[o+1];d==="style"?Wd(i,p):d==="dangerouslySetInnerHTML"?Vd(i,p):d==="children"?Oi(i,p):el(i,d,p,u)}switch(a){case"input":fl(i,s);break;case"textarea":Bd(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Br(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?Br(i,!!s.multiple,s.defaultValue,!0):Br(i,!!s.multiple,s.multiple?[]:"",!1))}i[rs]=s}catch(y){$e(e,e.return,y)}}break;case 6:if(Qt(t,e),cn(e),r&4){if(e.stateNode===null)throw Error(C(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){$e(e,e.return,y)}}break;case 3:if(Qt(t,e),cn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wi(t.containerInfo)}catch(y){$e(e,e.return,y)}break;case 4:Qt(t,e),cn(e);break;case 13:Qt(t,e),cn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Uc=Be())),r&4&&uh(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(ut=(u=ut)||d,Qt(t,e),ut=u):Qt(t,e),cn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(p=$=d;$!==null;){switch(m=$,v=m.child,m.tag){case 0:case 11:case 14:case 15:hs(4,m,m.return);break;case 1:li(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){$e(r,n,y)}}break;case 5:li(m,m.return);break;case 22:if(m.memoizedState!==null){hh(p);continue}}v!==null?(v.return=m,$=v):hh(p)}d=d.sibling}e:for(d=null,p=e;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Yd("display",o))}catch(y){$e(e,e.return,y)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(y){$e(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Qt(t,e),cn(e),r&4&&uh(e);break;case 21:break;default:Qt(t,e),cn(e)}}function cn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ah(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Oi(i,""),r.flags&=-33);var s=lh(e);zc(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=lh(e);Fc(e,a,o);break;default:throw Error(C(161))}}catch(l){$e(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function W_(e,t,n){$=e,fh(e)}function fh(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ho;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ut;a=Ho;var u=ut;if(Ho=o,(ut=l)&&!u)for($=i;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?mh(i):l!==null?(l.return=o,$=l):mh(i);for(;s!==null;)$=s,fh(s),s=s.sibling;$=i,Ho=a,ut=u}ph(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):ph(e)}}function ph(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ut||Uo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ut)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Kt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&hp(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}hp(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Wi(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}ut||t.flags&512&&$c(t)}catch(m){$e(t,t.return,m)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function hh(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function mh(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Uo(4,t)}catch(l){$e(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){$e(t,i,l)}}var s=t.return;try{$c(t)}catch(l){$e(t,s,l)}break;case 5:var o=t.return;try{$c(t)}catch(l){$e(t,o,l)}}}catch(l){$e(t,t.return,l)}if(t===e){$=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$=a;break}$=t.return}}var G_=Math.ceil,Vo=vn.ReactCurrentDispatcher,Bc=vn.ReactCurrentOwner,Ht=vn.ReactCurrentBatchConfig,ue=0,tt=null,Ue=null,st=0,Ot=0,ci=Hn(0),Ke=0,ms=null,xr=0,Yo=0,Hc=0,gs=null,Nt=null,Uc=0,ui=1/0,bn=null,Wo=!1,Vc=null,Zn=null,Go=!1,Kn=null,Zo=0,vs=0,Yc=null,Ko=-1,Xo=0;function yt(){return ue&6?Be():Ko!==-1?Ko:Ko=Be()}function Xn(e){return e.mode&1?ue&2&&st!==0?st&-st:I_.transition!==null?(Xo===0&&(Xo=lf()),Xo):(e=me,e!==0||(e=window.event,e=e===void 0?16:vf(e.type)),e):1}function Jt(e,t,n,r){if(50<vs)throw vs=0,Yc=null,Error(C(185));Bi(e,n,r),(!(ue&2)||e!==tt)&&(e===tt&&(!(ue&2)&&(Yo|=n),Ke===4&&Qn(e,st)),Ct(e,r),n===1&&ue===0&&!(t.mode&1)&&(ui=Be()+500,Eo&&Vn()))}function Ct(e,t){var n=e.callbackNode;Iy(e,t);var r=io(e,e===tt?st:0);if(r===0)n!==null&&sf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&sf(n),t===1)e.tag===0?j_(vh.bind(null,e)):np(vh.bind(null,e)),b_(function(){!(ue&6)&&Vn()}),n=null;else{switch(cf(r)){case 1:n=El;break;case 4:n=of;break;case 16:n=eo;break;case 536870912:n=af;break;default:n=eo}n=bh(n,gh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gh(e,t){if(Ko=-1,Xo=0,ue&6)throw Error(C(327));var n=e.callbackNode;if(di()&&e.callbackNode!==n)return null;var r=io(e,e===tt?st:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Qo(e,r);else{t=r;var i=ue;ue|=2;var s=_h();(tt!==e||st!==t)&&(bn=null,ui=Be()+500,Sr(e,t));do try{X_();break}catch(a){yh(e,a)}while(!0);cc(),Vo.current=s,ue=i,Ue!==null?t=0:(tt=null,st=0,t=Ke)}if(t!==0){if(t===2&&(i=bl(e),i!==0&&(r=i,t=Wc(e,i))),t===1)throw n=ms,Sr(e,0),Qn(e,r),Ct(e,Be()),n;if(t===6)Qn(e,r);else{if(i=e.current.alternate,!(r&30)&&!Z_(i)&&(t=Qo(e,r),t===2&&(s=bl(e),s!==0&&(r=s,t=Wc(e,s))),t===1))throw n=ms,Sr(e,0),Qn(e,r),Ct(e,Be()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:kr(e,Nt,bn);break;case 3:if(Qn(e,r),(r&130023424)===r&&(t=Uc+500-Be(),10<t)){if(io(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){yt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Jl(kr.bind(null,e,Nt,bn),t);break}kr(e,Nt,bn);break;case 4:if(Qn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Wt(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*G_(r/1960))-r,10<r){e.timeoutHandle=Jl(kr.bind(null,e,Nt,bn),r);break}kr(e,Nt,bn);break;case 5:kr(e,Nt,bn);break;default:throw Error(C(329))}}}return Ct(e,Be()),e.callbackNode===n?gh.bind(null,e):null}function Wc(e,t){var n=gs;return e.current.memoizedState.isDehydrated&&(Sr(e,t).flags|=256),e=Qo(e,t),e!==2&&(t=Nt,Nt=n,t!==null&&Gc(t)),e}function Gc(e){Nt===null?Nt=e:Nt.push.apply(Nt,e)}function Z_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gt(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qn(e,t){for(t&=~Hc,t&=~Yo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function vh(e){if(ue&6)throw Error(C(327));di();var t=io(e,0);if(!(t&1))return Ct(e,Be()),null;var n=Qo(e,t);if(e.tag!==0&&n===2){var r=bl(e);r!==0&&(t=r,n=Wc(e,r))}if(n===1)throw n=ms,Sr(e,0),Qn(e,t),Ct(e,Be()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kr(e,Nt,bn),Ct(e,Be()),null}function Zc(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(ui=Be()+500,Eo&&Vn())}}function wr(e){Kn!==null&&Kn.tag===0&&!(ue&6)&&di();var t=ue;ue|=1;var n=Ht.transition,r=me;try{if(Ht.transition=null,me=1,e)return e()}finally{me=r,Ht.transition=n,ue=t,!(ue&6)&&Vn()}}function Kc(){Ot=ci.current,Ne(ci)}function Sr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,E_(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(ic(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&So();break;case 3:oi(),Ne(kt),Ne(at),vc();break;case 5:mc(r);break;case 4:oi();break;case 13:Ne(Oe);break;case 19:Ne(Oe);break;case 10:uc(r.type._context);break;case 22:case 23:Kc()}n=n.return}if(tt=e,Ue=e=Jn(e.current,null),st=Ot=t,Ke=0,ms=null,Hc=Yo=xr=0,Nt=gs=null,vr!==null){for(t=0;t<vr.length;t++)if(n=vr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}vr=null}return e}function yh(e,t){do{var n=Ue;try{if(cc(),Po.current=$o,Oo){for(var r=Me.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Oo=!1}if(_r=0,et=Ze=Me=null,cs=!1,us=0,Bc.current=null,n===null||n.return===null){Ke=1,ms=t,Ue=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=st,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Up(o);if(v!==null){v.flags&=-257,Vp(v,o,a,s,t),v.mode&1&&Hp(s,u,t),t=v,l=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(l),t.updateQueue=y}else w.add(l);break e}else{if(!(t&1)){Hp(s,u,t),Xc();break e}l=Error(C(426))}}else if(Ie&&a.mode&1){var N=Up(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Vp(N,o,a,s,t),ac(ai(l,a));break e}}s=l=ai(l,a),Ke!==4&&(Ke=2),gs===null?gs=[s]:gs.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var h=zp(s,l,t);pp(s,h);break e;case 1:a=l;var f=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Zn===null||!Zn.has(g)))){s.flags|=65536,t&=-t,s.lanes|=t;var E=Bp(s,a,t);pp(s,E);break e}}s=s.return}while(s!==null)}wh(n)}catch(_){t=_,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function _h(){var e=Vo.current;return Vo.current=$o,e===null?$o:e}function Xc(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),tt===null||!(xr&268435455)&&!(Yo&268435455)||Qn(tt,st)}function Qo(e,t){var n=ue;ue|=2;var r=_h();(tt!==e||st!==t)&&(bn=null,Sr(e,t));do try{K_();break}catch(i){yh(e,i)}while(!0);if(cc(),ue=n,Vo.current=r,Ue!==null)throw Error(C(261));return tt=null,st=0,Ke}function K_(){for(;Ue!==null;)xh(Ue)}function X_(){for(;Ue!==null&&!wy();)xh(Ue)}function xh(e){var t=Eh(e.alternate,e,Ot);e.memoizedProps=e.pendingProps,t===null?wh(e):Ue=t,Bc.current=null}function wh(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=U_(n,t),n!==null){n.flags&=32767,Ue=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ke=6,Ue=null;return}}else if(n=H_(n,t,Ot),n!==null){Ue=n;return}if(t=t.sibling,t!==null){Ue=t;return}Ue=t=e}while(t!==null);Ke===0&&(Ke=5)}function kr(e,t,n){var r=me,i=Ht.transition;try{Ht.transition=null,me=1,Q_(e,t,n,r)}finally{Ht.transition=i,me=r}return null}function Q_(e,t,n,r){do di();while(Kn!==null);if(ue&6)throw Error(C(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ly(e,s),e===tt&&(Ue=tt=null,st=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Go||(Go=!0,bh(eo,function(){return di(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ht.transition,Ht.transition=null;var o=me;me=1;var a=ue;ue|=4,Bc.current=null,Y_(e,n),dh(n,e),v_(Xl),ao=!!Kl,Xl=Kl=null,e.current=n,W_(n),Sy(),ue=a,me=o,Ht.transition=s}else e.current=n;if(Go&&(Go=!1,Kn=e,Zo=i),s=e.pendingLanes,s===0&&(Zn=null),by(n.stateNode),Ct(e,Be()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wo)throw Wo=!1,e=Vc,Vc=null,e;return Zo&1&&e.tag!==0&&di(),s=e.pendingLanes,s&1?e===Yc?vs++:(vs=0,Yc=e):vs=0,Vn(),null}function di(){if(Kn!==null){var e=cf(Zo),t=Ht.transition,n=me;try{if(Ht.transition=null,me=16>e?16:e,Kn===null)var r=!1;else{if(e=Kn,Kn=null,Zo=0,ue&6)throw Error(C(331));var i=ue;for(ue|=4,$=e.current;$!==null;){var s=$,o=s.child;if($.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for($=u;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:hs(8,d,s)}var p=d.child;if(p!==null)p.return=d,$=p;else for(;$!==null;){d=$;var m=d.sibling,v=d.return;if(oh(d),d===u){$=null;break}if(m!==null){m.return=v,$=m;break}$=v}}}var w=s.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var N=y.sibling;y.sibling=null,y=N}while(y!==null)}}$=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$=o;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hs(9,s,s.return)}var h=s.sibling;if(h!==null){h.return=s.return,$=h;break e}$=s.return}}var f=e.current;for($=f;$!==null;){o=$;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,$=g;else e:for(o=f;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Uo(9,a)}}catch(_){$e(a,a.return,_)}if(a===o){$=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,$=E;break e}$=a.return}}if(ue=i,Vn(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(to,e)}catch{}r=!0}return r}finally{me=n,Ht.transition=t}}return!1}function Sh(e,t,n){t=ai(n,t),t=zp(e,t,1),e=Wn(e,t,1),t=yt(),e!==null&&(Bi(e,1,t),Ct(e,t))}function $e(e,t,n){if(e.tag===3)Sh(e,e,n);else for(;t!==null;){if(t.tag===3){Sh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zn===null||!Zn.has(r))){e=ai(n,e),e=Bp(t,e,1),t=Wn(t,e,1),e=yt(),t!==null&&(Bi(t,1,e),Ct(t,e));break}}t=t.return}}function J_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=yt(),e.pingedLanes|=e.suspendedLanes&n,tt===e&&(st&n)===n&&(Ke===4||Ke===3&&(st&130023424)===st&&500>Be()-Uc?Sr(e,0):Hc|=n),Ct(e,t)}function kh(e,t){t===0&&(e.mode&1?(t=ro,ro<<=1,!(ro&130023424)&&(ro=4194304)):t=1);var n=yt();e=Sn(e,t),e!==null&&(Bi(e,t,n),Ct(e,n))}function q_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),kh(e,n)}function e0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),kh(e,n)}var Eh;Eh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||kt.current)bt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return bt=!1,B_(e,t,n);bt=!!(e.flags&131072)}else bt=!1,Ie&&t.flags&1048576&&rp(t,No,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bo(e,t),e=t.pendingProps;var i=qr(t,at.current);si(t,n),i=xc(null,t,r,e,i,n);var s=wc();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Et(r)?(s=!0,ko(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pc(t),i.updater=Fo,t.stateNode=i,i._reactInternals=t,Cc(t,r,e,n),t=Lc(null,t,r,!0,s,n)):(t.tag=0,Ie&&s&&rc(t),vt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=n0(r),e=Kt(r,e),i){case 0:t=Ic(null,t,r,e,n);break e;case 1:t=Xp(null,t,r,e,n);break e;case 11:t=Yp(null,t,r,e,n);break e;case 14:t=Wp(null,t,r,Kt(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kt(r,i),Ic(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kt(r,i),Xp(e,t,r,i,n);case 3:e:{if(Qp(t),e===null)throw Error(C(387));r=t.pendingProps,s=t.memoizedState,i=s.element,fp(e,t),Do(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ai(Error(C(423)),t),t=Jp(e,t,r,n,i);break e}else if(r!==i){i=ai(Error(C(424)),t),t=Jp(e,t,r,n,i);break e}else for(Pt=Bn(t.stateNode.containerInfo.firstChild),Rt=t,Ie=!0,Zt=null,n=up(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ni(),r===i){t=En(e,t,n);break e}vt(e,t,r,n)}t=t.child}return t;case 5:return mp(t),e===null&&oc(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Ql(r,i)?o=null:s!==null&&Ql(r,s)&&(t.flags|=32),Kp(e,t),vt(e,t,o,n),t.child;case 6:return e===null&&oc(t),null;case 13:return qp(e,t,n);case 4:return hc(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ri(t,null,r,n):vt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kt(r,i),Yp(e,t,r,i,n);case 7:return vt(e,t,t.pendingProps,n),t.child;case 8:return vt(e,t,t.pendingProps.children,n),t.child;case 12:return vt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,xe(jo,r._currentValue),r._currentValue=o,s!==null)if(Gt(s.value,o)){if(s.children===i.children&&!kt.current){t=En(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=kn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),dc(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(C(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),dc(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,si(t,n),i=zt(i),r=r(i),t.flags|=1,vt(e,t,r,n),t.child;case 14:return r=t.type,i=Kt(r,t.pendingProps),i=Kt(r.type,i),Wp(e,t,r,i,n);case 15:return Gp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Kt(r,i),Bo(e,t),t.tag=1,Et(r)?(e=!0,ko(t)):e=!1,si(t,n),$p(t,r,i),Cc(t,r,i,n),Lc(null,t,r,!0,e,n);case 19:return th(e,t,n);case 22:return Zp(e,t,n)}throw Error(C(156,t.tag))};function bh(e,t){return rf(e,t)}function t0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,n,r){return new t0(e,t,n,r)}function Qc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function n0(e){if(typeof e=="function")return Qc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rl)return 11;if(e===ol)return 14}return 2}function Jn(e,t){var n=e.alternate;return n===null?(n=Ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jo(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Qc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case zr:return Er(n.children,i,s,t);case tl:o=8,i|=8;break;case nl:return e=Ut(12,n,t,i|2),e.elementType=nl,e.lanes=s,e;case il:return e=Ut(13,n,t,i),e.elementType=il,e.lanes=s,e;case sl:return e=Ut(19,n,t,i),e.elementType=sl,e.lanes=s,e;case Rd:return qo(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ld:o=10;break e;case Dd:o=9;break e;case rl:o=11;break e;case ol:o=14;break e;case Rn:o=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Ut(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Er(e,t,n,r){return e=Ut(7,e,r,t),e.lanes=n,e}function qo(e,t,n,r){return e=Ut(22,e,r,t),e.elementType=Rd,e.lanes=n,e.stateNode={isHidden:!1},e}function Jc(e,t,n){return e=Ut(6,e,null,t),e.lanes=n,e}function qc(e,t,n){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function r0(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nl(0),this.expirationTimes=Nl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function eu(e,t,n,r,i,s,o,a,l){return e=new r0(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ut(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pc(s),e}function i0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Nh(e){if(!e)return Un;e=e._reactInternals;e:{if(fr(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(Et(n))return ep(e,n,t)}return t}function Ch(e,t,n,r,i,s,o,a,l){return e=eu(n,r,!0,e,i,s,o,a,l),e.context=Nh(null),n=e.current,r=yt(),i=Xn(n),s=kn(r,i),s.callback=t??null,Wn(n,s,i),e.current.lanes=i,Bi(e,i,r),Ct(e,r),e}function ea(e,t,n,r){var i=t.current,s=yt(),o=Xn(i);return n=Nh(n),t.context===null?t.context=n:t.pendingContext=n,t=kn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Wn(i,t,o),e!==null&&(Jt(e,i,o,s),Lo(e,i,o)),o}function ta(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Th(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tu(e,t){Th(e,t),(e=e.alternate)&&Th(e,t)}function s0(){return null}var jh=typeof reportError=="function"?reportError:function(e){console.error(e)};function nu(e){this._internalRoot=e}na.prototype.render=nu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));ea(e,t,null,null)},na.prototype.unmount=nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wr(function(){ea(null,e,null,null)}),t[yn]=null}};function na(e){this._internalRoot=e}na.prototype.unstable_scheduleHydration=function(e){if(e){var t=ff();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$n.length&&t!==0&&t<$n[n].priority;n++);$n.splice(n,0,e),n===0&&mf(e)}};function ru(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ra(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ih(){}function o0(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ta(o);s.call(u)}}var o=Ch(t,r,e,0,null,!1,!1,"",Ih);return e._reactRootContainer=o,e[yn]=o.current,ts(e.nodeType===8?e.parentNode:e),wr(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ta(l);a.call(u)}}var l=eu(e,0,!1,null,null,!1,!1,"",Ih);return e._reactRootContainer=l,e[yn]=l.current,ts(e.nodeType===8?e.parentNode:e),wr(function(){ea(t,l,n,r)}),l}function ia(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ta(o);a.call(l)}}ea(t,o,e,i)}else o=o0(n,t,e,i,r);return ta(o)}uf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zi(t.pendingLanes);n!==0&&(Cl(t,n|1),Ct(t,Be()),!(ue&6)&&(ui=Be()+500,Vn()))}break;case 13:wr(function(){var r=Sn(e,1);if(r!==null){var i=yt();Jt(r,e,1,i)}}),tu(e,1)}},Tl=function(e){if(e.tag===13){var t=Sn(e,134217728);if(t!==null){var n=yt();Jt(t,e,134217728,n)}tu(e,134217728)}},df=function(e){if(e.tag===13){var t=Xn(e),n=Sn(e,t);if(n!==null){var r=yt();Jt(n,e,t,r)}tu(e,t)}},ff=function(){return me},pf=function(e,t){var n=me;try{return me=e,t()}finally{me=n}},xl=function(e,t,n){switch(t){case"input":if(fl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wo(r);if(!i)throw Error(C(90));Md(r),fl(r,i)}}}break;case"textarea":Bd(e,n);break;case"select":t=n.value,t!=null&&Br(e,!!n.multiple,t,!1)}},Xd=Zc,Qd=wr;var a0={usingClientEntryPoint:!1,Events:[is,Qr,wo,Zd,Kd,Zc]},ys={findFiberByHostInstance:pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l0={bundleType:ys.bundleType,version:ys.version,rendererPackageName:ys.rendererPackageName,rendererConfig:ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tf(e),e===null?null:e.stateNode},findFiberByHostInstance:ys.findFiberByHostInstance||s0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sa.isDisabled&&sa.supportsFiber)try{to=sa.inject(l0),sn=sa}catch{}}It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a0,It.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ru(t))throw Error(C(200));return i0(e,t,null,n)},It.createRoot=function(e,t){if(!ru(e))throw Error(C(299));var n=!1,r="",i=jh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=eu(e,1,!1,null,null,n,!1,r,i),e[yn]=t.current,ts(e.nodeType===8?e.parentNode:e),new nu(t)},It.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=tf(t),e=e===null?null:e.stateNode,e},It.flushSync=function(e){return wr(e)},It.hydrate=function(e,t,n){if(!ra(t))throw Error(C(200));return ia(null,e,t,!0,n)},It.hydrateRoot=function(e,t,n){if(!ru(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=jh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ch(t,null,e,1,n??null,i,!1,s,o),e[yn]=t.current,ts(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new na(t)},It.render=function(e,t,n){if(!ra(t))throw Error(C(200));return ia(null,e,t,!1,n)},It.unmountComponentAtNode=function(e){if(!ra(e))throw Error(C(40));return e._reactRootContainer?(wr(function(){ia(null,null,e,!1,function(){e._reactRootContainer=null,e[yn]=null})}),!0):!1},It.unstable_batchedUpdates=Zc,It.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ra(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return ia(e,t,n,!1,r)},It.version="18.3.1-next-f1338f8080-20240426";function Lh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lh)}catch(e){console.error(e)}}Lh(),bd.exports=It;var c0=bd.exports,Dh,Rh=c0;Dh=Rh.createRoot,Rh.hydrateRoot;const oa={atorvastatin:{doses:[10,20,40,80],unit:"mg"},pitavastatin:{doses:[1,2,4],unit:"mg"},pravastatin:{doses:[20,40],unit:"mg"},rosuvastatin:{doses:[5,10,20,40],unit:"mg"},simvastatin:{doses:[10,20,40],unit:"mg"}},u0=[{value:"none",label:"Haven't tried yet"},{value:"atorvastatin",label:"Atorvastatin"},{value:"pitavastatin",label:"Pitavastatin"},{value:"pravastatin",label:"Pravastatin"},{value:"rosuvastatin",label:"Rosuvastatin"},{value:"simvastatin",label:"Simvastatin"},{value:"not_tolerated",label:"Not tolerated"}],d0={rosuvastatin:{5:40,10:47,20:55,40:63},atorvastatin:{10:30,20:40,40:47,80:55},simvastatin:{10:30,20:35,40:40},pravastatin:{20:30,40:40},pitavastatin:{1:30,2:35,4:40}},Ph=63;function Oh(e,t){var n;return!e||e==="none"||e==="not_tolerated"||t===null?0:((n=d0[e])==null?void 0:n[t])??0}function iu(e,t){var i;if(!e||e==="none"||e==="not_tolerated"||t===null)return!1;const n=(i=oa[e])==null?void 0:i.doses;if(!n)return!1;const r=n.indexOf(t);return r>=0&&r<n.length-1}function Mh(e,t){if(!e||e==="none"||e==="not_tolerated"||t===null)return!1;const n=Oh(e,t);return!iu(e,t)&&n>0&&n<Ph}function Ah(e,t){return Oh(e,t)>=Ph}const f0=[{value:"not_yet",label:"Haven't tried yet"},{value:"yes",label:"Yes"},{value:"no",label:"No"},{value:"not_tolerated",label:"Not tolerated"}],p0=[{value:"not_yet",label:"Haven't tried yet"},{value:"yes",label:"Yes"},{value:"no",label:"No"},{value:"not_tolerated",label:"Not tolerated"}],su={tirzepatide:{doses:[2.5,5,7.5,10,12.5,15],unit:"mg"},semaglutide_injection:{doses:[.25,.5,1,1.7,2.4],unit:"mg"},semaglutide_oral:{doses:[3,7,14],unit:"mg"},dulaglutide:{doses:[.75,1.5,3,4.5],unit:"mg"}},h0=[{value:"none",label:"Haven't tried yet"},{value:"tirzepatide",label:"Tirzepatide (Mounjaro/Zepbound)"},{value:"semaglutide_injection",label:"Semaglutide injection (Ozempic/Wegovy)"},{value:"semaglutide_oral",label:"Semaglutide oral (Rybelsus)"},{value:"dulaglutide",label:"Dulaglutide (Trulicity)"},{value:"other",label:"Other GLP-1"},{value:"not_tolerated",label:"Not tolerated"}],$h="tirzepatide";function aa(e,t){var i;if(!e||e==="none"||e==="not_tolerated"||e==="other"||t===null)return!1;const n=(i=su[e])==null?void 0:i.doses;if(!n)return!1;const r=n.indexOf(t);return r>=0&&r<n.length-1}function Fh(e,t){return!e||e==="none"||e==="not_tolerated"?!1:e==="other"?!0:t===null||e===$h?!1:!aa(e,t)}function m0(e,t){return t===null?!1:e===$h&&!aa(e,t)}const zh={empagliflozin:{doses:[10,25],unit:"mg"},dapagliflozin:{doses:[5,10],unit:"mg"},canagliflozin:{doses:[100,300],unit:"mg"}},g0=[{value:"none",label:"Haven't tried yet"},{value:"empagliflozin",label:"Empagliflozin (Jardiance)"},{value:"dapagliflozin",label:"Dapagliflozin (Farxiga)"},{value:"canagliflozin",label:"Canagliflozin (Invokana)"},{value:"not_tolerated",label:"Not tolerated"}],v0=[{value:"none",label:"Haven't tried yet"},{value:"ir_500",label:"IR 500mg/day"},{value:"ir_1000",label:"IR 1000mg/day"},{value:"ir_1500",label:"IR 1500mg/day"},{value:"ir_2000",label:"IR 2000mg/day"},{value:"xr_500",label:"XR 500mg/day"},{value:"xr_1000",label:"XR 1000mg/day"},{value:"xr_1500",label:"XR 1500mg/day"},{value:"xr_2000",label:"XR 2000mg/day"},{value:"not_tolerated",label:"Not tolerated"}],Bh={fit_annual:12,colonoscopy_10yr:120,annual:12,biennial:24,hpv_every_5yr:60,pap_every_3yr:36,annual_ldct:12,will_screen:12,other:12,dexa_normal:60,dexa_osteopenia:24,dexa_scan:24},Hh={colorectal_fit_annual:36,colorectal_colonoscopy_10yr:36,colorectal_other:36,breast_annual:12,breast_biennial:24,cervical_hpv_every_5yr:12,cervical_pap_every_3yr:12,cervical_other:12,lung_annual_ldct:12,dexa_dexa_scan:12},Uh={colorectal_fit_annual:{followupName:"colonoscopy",abnormalMeans:"positive FIT test"},colorectal_colonoscopy_10yr:{followupName:"repeat colonoscopy",abnormalMeans:"polyps found on colonoscopy"},colorectal_other:{followupName:"follow-up investigation",abnormalMeans:"abnormal result"},breast_annual:{followupName:"diagnostic imaging/biopsy",abnormalMeans:"abnormal mammogram"},breast_biennial:{followupName:"diagnostic imaging/biopsy",abnormalMeans:"abnormal mammogram"},cervical_hpv_every_5yr:{followupName:"colposcopy",abnormalMeans:"HPV positive result"},cervical_pap_every_3yr:{followupName:"colposcopy",abnormalMeans:"abnormal Pap test"},cervical_other:{followupName:"colposcopy",abnormalMeans:"abnormal result"},lung_annual_ldct:{followupName:"follow-up imaging",abnormalMeans:"abnormal LDCT result"},dexa_dexa_scan:{followupName:"treatment review",abnormalMeans:"osteoporosis diagnosed  treatment and monitoring required"}},ou={MALE:1,FEMALE:2},au={SI:1,CONVENTIONAL:2};function y0(e){return e==="male"?ou.MALE:ou.FEMALE}function _0(e){return e===ou.MALE?"male":"female"}function x0(e){return e==="si"?au.SI:au.CONVENTIONAL}function w0(e){return e===au.SI?"si":"conventional"}const Vh=2.20462,fi=2.54,dt=38.67,la=88.57,_s=100,Yh=88.4,ca=12;function lu(e){return(e-2.152)/.09148}function S0(e){return .09148*e+2.152}const oe=e=>e,br={height:{canonical:"cm",label:{si:"cm",conventional:"in"},toCanonical:{si:oe,conventional:e=>e*fi},fromCanonical:{si:oe,conventional:e=>e/fi},validationRange:{si:{min:50,max:250},conventional:{min:20,max:98}},decimalPlaces:{si:0,conventional:1}},weight:{canonical:"kg",label:{si:"kg",conventional:"lbs"},toCanonical:{si:oe,conventional:e=>e/Vh},fromCanonical:{si:oe,conventional:e=>e*Vh},validationRange:{si:{min:20,max:300},conventional:{min:44,max:661}},decimalPlaces:{si:1,conventional:0}},waist:{canonical:"cm",label:{si:"cm",conventional:"in"},toCanonical:{si:oe,conventional:e=>e*fi},fromCanonical:{si:oe,conventional:e=>e/fi},validationRange:{si:{min:40,max:200},conventional:{min:16,max:79}},decimalPlaces:{si:0,conventional:1}},hba1c:{canonical:"mmol/mol",label:{si:"mmol/mol",conventional:"%"},toCanonical:{si:oe,conventional:lu},fromCanonical:{si:oe,conventional:S0},validationRange:{si:{min:9,max:195},conventional:{min:3,max:20}},decimalPlaces:{si:0,conventional:1}},ldl:{canonical:"mmol/L",label:{si:"mmol/L",conventional:"mg/dL"},toCanonical:{si:oe,conventional:e=>e/dt},fromCanonical:{si:oe,conventional:e=>e*dt},validationRange:{si:{min:0,max:12.9},conventional:{min:0,max:500}},decimalPlaces:{si:1,conventional:0}},hdl:{canonical:"mmol/L",label:{si:"mmol/L",conventional:"mg/dL"},toCanonical:{si:oe,conventional:e=>e/dt},fromCanonical:{si:oe,conventional:e=>e*dt},validationRange:{si:{min:0,max:5.2},conventional:{min:0,max:200}},decimalPlaces:{si:1,conventional:0}},total_cholesterol:{canonical:"mmol/L",label:{si:"mmol/L",conventional:"mg/dL"},toCanonical:{si:oe,conventional:e=>e/dt},fromCanonical:{si:oe,conventional:e=>e*dt},validationRange:{si:{min:0,max:15},conventional:{min:0,max:580}},decimalPlaces:{si:1,conventional:0}},triglycerides:{canonical:"mmol/L",label:{si:"mmol/L",conventional:"mg/dL"},toCanonical:{si:oe,conventional:e=>e/la},fromCanonical:{si:oe,conventional:e=>e*la},validationRange:{si:{min:0,max:22.6},conventional:{min:0,max:2e3}},decimalPlaces:{si:1,conventional:0}},systolic_bp:{canonical:"mmHg",label:{si:"mmHg",conventional:"mmHg"},toCanonical:{si:oe,conventional:oe},fromCanonical:{si:oe,conventional:oe},validationRange:{si:{min:60,max:250},conventional:{min:60,max:250}},decimalPlaces:{si:0,conventional:0}},diastolic_bp:{canonical:"mmHg",label:{si:"mmHg",conventional:"mmHg"},toCanonical:{si:oe,conventional:oe},fromCanonical:{si:oe,conventional:oe},validationRange:{si:{min:40,max:150},conventional:{min:40,max:150}},decimalPlaces:{si:0,conventional:0}},apob:{canonical:"g/L",label:{si:"g/L",conventional:"mg/dL"},toCanonical:{si:oe,conventional:e=>e/_s},fromCanonical:{si:oe,conventional:e=>e*_s},validationRange:{si:{min:0,max:3},conventional:{min:0,max:300}},decimalPlaces:{si:2,conventional:0}},creatinine:{canonical:"mol/L",label:{si:"mol/L",conventional:"mg/dL"},toCanonical:{si:oe,conventional:e=>e*Yh},fromCanonical:{si:oe,conventional:e=>e/Yh},validationRange:{si:{min:10,max:2650},conventional:{min:.1,max:30}},decimalPlaces:{si:0,conventional:2}},psa:{canonical:"ng/mL",label:{si:"ng/mL",conventional:"ng/mL"},toCanonical:{si:oe,conventional:oe},fromCanonical:{si:oe,conventional:oe},validationRange:{si:{min:0,max:100},conventional:{min:0,max:100}},decimalPlaces:{si:1,conventional:1}},lpa:{canonical:"nmol/L",label:{si:"nmol/L",conventional:"nmol/L"},toCanonical:{si:oe,conventional:oe},fromCanonical:{si:oe,conventional:oe},validationRange:{si:{min:0,max:750},conventional:{min:0,max:750}},decimalPlaces:{si:0,conventional:0}}};function k0(e,t,n){return br[e].toCanonical[n](t)}function Wh(e,t,n){return br[e].fromCanonical[n](t)}function ft(e,t,n){const r=Wh(e,t,n),i=br[e].decimalPlaces[n];return r.toFixed(i)}function He(e,t){return br[e].label[t]}function E0(e,t){return br[e].validationRange[t]}const b0=new Set(["US","LR","MM"]),N0=new Set(["America/New_York","America/Chicago","America/Denver","America/Los_Angeles","America/Anchorage","America/Phoenix","America/Adak","America/Detroit","America/Boise","America/Juneau","America/Sitka","America/Yakutat","America/Nome","America/Menominee","America/Metlakatla","Pacific/Honolulu"]);function C0(e){return N0.has(e)||e.startsWith("America/Indiana/")||e.startsWith("America/Kentucky/")||e.startsWith("America/North_Dakota/")}function T0(e,t){const n=typeof navigator<"u"?navigator.language:void 0;if(!n)return"si";const r=n.split("-"),i=r.length>1?r[r.length-1].toUpperCase():null;if(i&&b0.has(i)){if(i==="US"){const s=typeof Intl<"u"?Intl.DateTimeFormat().resolvedOptions().timeZone:void 0;if(s&&!C0(s))return"si"}return"conventional"}return"si"}const qn={prediabetes:lu(5.7),diabetes:lu(6.5)},ua={borderline:130/dt,high:160/dt,veryHigh:190/dt},da={borderline:200/dt,high:240/dt},xs={borderline:160/dt,high:190/dt,veryHigh:220/dt},Gh={lowMale:40/dt,lowFemale:50/dt},er={borderline:150/la,veryHigh:500/la},un={stage1Sys:130,stage1Dia:80,stage2Sys:140,stage2Dia:90,crisisSys:180,crisisDia:120},ws={mildlyDecreased:45},Ss={borderline:50/_s,high:70/_s,veryHigh:100/_s},fa={normal:75,elevated:125};function j0(e){const t=Math.floor(e/ca),n=Math.round(e%ca);return n>=ca?{feet:t+1,inches:0}:{feet:t,inches:n}}function I0(e,t){return e*ca+t}function Zh(e){const t=e/fi;return j0(t)}function Kh(e,t){return I0(e,t)*fi}function Xh(e,t){if(t==="si")return`${Math.round(e)} cm`;const{feet:n,inches:r}=Zh(e);return`${n}'${r}"`}const Le={apobGl:.5,ldlMmol:1.4,nonHdlMmol:1.6};function Nr(e,t,n){return`${ft(e,t,n)} ${He(e,n)}`}const ks=(e,t)=>Nr("hba1c",e,t),Es=(e,t)=>Nr("ldl",e,t),L0=(e,t)=>Nr("hdl",e,t),D0=(e,t)=>Nr("triglycerides",e,t),Qh=(e,t)=>Nr("total_cholesterol",e,t),bs=(e,t)=>Nr("apob",e,t),Jh=(e,t)=>Nr("weight",e,t);function R0(e,t,n="si",r,i){var v,w;const s=[],o=n,a=t.eGFR!==void 0&&t.eGFR<ws.mildlyDecreased;s.push({id:"protein-target",category:"nutrition",priority:"info",title:`Daily protein target: ${t.proteinTarget}g`,description:a?`Based on your ideal body weight of ${Jh(t.idealBodyWeight,o)}, aim for ${t.proteinTarget}g of protein daily (1.0g per kg, adjusted for kidney function). Discuss with your doctor.`:`Based on your ideal body weight of ${Jh(t.idealBodyWeight,o)}, aim for ${t.proteinTarget}g of protein daily. This supports muscle maintenance and metabolic health.`});const l=t.age!==void 0&&t.age>=65?130:120;if(e.systolicBp!==void 0&&e.systolicBp>l&&s.push({id:"low-salt",category:"nutrition",priority:"info",title:"Reduce sodium intake",description:"Aim for less than 2,300mg of sodium daily. Most excess sodium comes from processed foods. Reducing sodium can help lower blood pressure."}),s.push({id:"fiber",category:"nutrition",priority:"info",title:"Maximize fiber intake",description:"Aim for 25-35g of fiber daily from whole grains, fruits, and vegetables. Increase gradually to avoid discomfort. If you have IBS or IBD, discuss appropriate fiber levels with your doctor."}),t.eGFR!==void 0&&t.eGFR>=ws.mildlyDecreased&&s.push({id:"high-potassium",category:"nutrition",priority:"info",title:"Increase potassium-rich foods",description:"Aim for 3,5005,000mg of potassium daily from fruits, vegetables, and legumes. High potassium intake supports healthy blood pressure and cardiovascular function."}),e.triglycerides!==void 0&&e.triglycerides>=er.borderline&&s.push({id:"trig-nutrition",category:"nutrition",priority:"attention",title:"Reduce triglycerides with diet",description:"Blood triglycerides are very diet-sensitiveimprovements can be seen within 2-3 weeks. Key measures: limit alcohol, reduce sugar intake, and reduce total fat and calorie intake."}),(t.bmi!==void 0&&t.bmi>25||e.triglycerides!==void 0&&e.triglycerides>=er.borderline)&&s.push({id:"reduce-alcohol",category:"nutrition",priority:"attention",title:"Reduce alcohol intake",description:"Reduce and ideally completely stop alcohol intake. Alcohol contributes to weight gain, elevated triglycerides, and increased blood pressure."}),s.push({id:"exercise",category:"exercise",priority:"info",title:"Regular cardio and resistance training",description:"Aim for at least 150 minutes of moderate-intensity cardio plus 2-3 resistance training sessions per week. This combination supports cardiovascular health, muscle mass, and metabolic function."}),s.push({id:"sleep",category:"sleep",priority:"info",title:"Prioritize quality sleep",description:"Aim for 7-9 hours of sleep per night. Maintain a consistent sleep schedule, limit screens before bed, and keep your bedroom cool and dark."}),t.bmi!==void 0&&t.bmi>25&&r){const y=t.waistToHeightRatio,N=e.hba1c!==void 0&&e.hba1c>=qn.prediabetes,h=e.triglycerides!==void 0&&e.triglycerides>=er.borderline,f=e.systolicBp!==void 0&&e.systolicBp>=un.stage1Sys,g=y!==void 0&&y>=.5,E=N||h||f||g;if(t.bmi>28||E){const _=r.glp1,S=_==null?void 0:_.drug,I=_&&S&&S!=="none"&&S!=="not_tolerated"&&S!=="other",j=S==="other",J=I||j||S==="not_tolerated",F=r.sglt2i,V=F==null?void 0:F.drug,ve=F&&V&&V!=="none"&&V!=="not_tolerated"||V==="not_tolerated";if(!_||!S||S==="none"){const L=[];N&&L.push("prediabetic HbA1c"),h&&L.push("elevated triglycerides"),f&&L.push("elevated blood pressure"),g&&L.push("elevated waist-to-height ratio");const Xe=L.length>0?`an elevated BMI and ${L.join(", ")}`:"an elevated BMI";s.push({id:"weight-med-glp1",category:"medication",priority:"attention",title:"Consider a GLP-1 medication",description:`With ${Xe}, you may benefit from discussing Tirzepatide (preferred) or Semaglutide with your doctor. These medications support weight management and metabolic health.`})}else if(J){const L=S!=="not_tolerated",Xe=I&&aa(S,_.dose),Qe=I&&Fh(S,_.dose)||j;L&&(Xe||Qe)&&(!r.glp1Escalation||r.glp1Escalation==="not_yet")?Xe?s.push({id:"weight-med-glp1-increase",category:"medication",priority:"attention",title:"Consider increasing GLP-1 dose",description:"You may benefit from a higher dose of your current GLP-1 medication. Discuss increasing your dose with your doctor."}):Qe&&s.push({id:"weight-med-glp1-switch",category:"medication",priority:"attention",title:"Consider switching to Tirzepatide",description:"Tirzepatide (Mounjaro/Zepbound) may be more effective for weight management. Discuss switching with your doctor."}):!F||!V||V==="none"?s.push({id:"weight-med-sglt2i",category:"medication",priority:"attention",title:"Consider adding an SGLT2 inhibitor",description:"SGLT2 inhibitors like Empagliflozin or Dapagliflozin provide additional metabolic benefits and cardiovascular protection. Discuss with your doctor."}):ve&&(!r.metformin||r.metformin==="none")&&s.push({id:"weight-med-metformin",category:"medication",priority:"info",title:"Consider adding Metformin",description:"Metformin provides additional glycemic control and has longevity benefits. Extended-release formulations may have fewer GI side effects. Discuss with your doctor."})}}}if(t.bmi!==void 0){const y=t.waistToHeightRatio;if(!(r&&t.bmi>25&&(t.bmi>28||e.hba1c!==void 0&&e.hba1c>=qn.prediabetes||e.triglycerides!==void 0&&e.triglycerides>=er.borderline||e.systolicBp!==void 0&&e.systolicBp>=un.stage1Sys||y!==void 0&&y>=.5))){if(t.bmi>28)s.push({id:"weight-glp1",category:"medication",priority:"attention",title:"Weight management medication",description:"With a BMI over 28, you may benefit from discussing Tirzepatide (preferred) or Semaglutide with your doctor, in addition to diet, exercise, and sleep optimization."});else if(t.bmi>25){const h=e.triglycerides!==void 0&&e.triglycerides>=er.borderline;if(y===void 0||y>=.5||h){let f;y!==void 0&&y>=.5?f="elevated BMI and waist measurements":h?f="elevated BMI and triglycerides":f="an elevated BMI",s.push({id:"weight-glp1",category:"medication",priority:"attention",title:"Weight management medication",description:`With ${f}, you may benefit from discussing Tirzepatide (preferred) or Semaglutide with your doctor, in addition to diet, exercise, and sleep optimization.`})}}}}e.hba1c!==void 0&&(e.hba1c>=qn.diabetes?s.push({id:"hba1c-diabetic",category:"bloodwork",priority:"urgent",title:"HbA1c in diabetic range",description:`Your HbA1c of ${ks(e.hba1c,o)} indicates diabetes. This requires medical management and lifestyle intervention.`}):e.hba1c>=qn.prediabetes?s.push({id:"hba1c-prediabetic",category:"bloodwork",priority:"attention",title:"HbA1c indicates prediabetes",description:`Your HbA1c of ${ks(e.hba1c,o)} is in the prediabetic range. Lifestyle changes now can prevent progression to diabetes.`}):s.push({id:"hba1c-normal",category:"bloodwork",priority:"info",title:"HbA1c in normal range",description:`Your HbA1c of ${ks(e.hba1c,o)} is in the normal range. Continue healthy habits to maintain this.`}));const u=e.apoB!==void 0,d=t.nonHdlCholesterol!==void 0,p=r!==void 0&&(e.apoB!==void 0&&e.apoB>Le.apobGl||e.ldlC!==void 0&&e.ldlC>Le.ldlMmol||t.nonHdlCholesterol!==void 0&&t.nonHdlCholesterol>Le.nonHdlMmol);let m=!1;if(u&&(e.apoB>=Ss.veryHigh?(m=!0,s.push({id:"apob-very-high",category:"bloodwork",priority:"urgent",title:"Very high ApoB",description:`Your ApoB of ${bs(e.apoB,o)} is very high, indicating significantly elevated cardiovascular risk. Statin therapy and lifestyle intervention are typically recommended.`})):e.apoB>=Ss.high?(m=!0,s.push({id:"apob-high",category:"bloodwork",priority:"attention",title:"High ApoB",description:`Your ApoB of ${bs(e.apoB,o)} is elevated. Consider lifestyle modifications and discuss treatment options to reduce cardiovascular risk.`})):e.apoB>=Ss.borderline&&s.push({id:"apob-borderline",category:"bloodwork",priority:"info",title:"Borderline high ApoB",description:`Your ApoB of ${bs(e.apoB,o)} is borderline. Optimal is <${ft("apob",Ss.borderline,o)} ${He("apob",o)}.`})),!u&&!d&&e.ldlC!==void 0&&(e.ldlC>=ua.veryHigh?(m=!0,s.push({id:"ldl-very-high",category:"bloodwork",priority:"urgent",title:"Very high LDL cholesterol",description:`Your LDL of ${Es(e.ldlC,o)} is significantly elevated. This may indicate familial hypercholesterolemia. Statin therapy is typically recommended.`})):e.ldlC>=ua.high?(m=!0,s.push({id:"ldl-high",category:"bloodwork",priority:"attention",title:"High LDL cholesterol",description:`Your LDL of ${Es(e.ldlC,o)} is high. Consider lifestyle modifications and discuss medication options.`})):e.ldlC>=ua.borderline&&s.push({id:"ldl-borderline",category:"bloodwork",priority:"info",title:"Borderline high LDL cholesterol",description:`Your LDL of ${Es(e.ldlC,o)} is borderline high. Optimal is <${ft("ldl",2.59,o)} ${He("ldl",o)} for most adults.`})),!u&&d&&(t.nonHdlCholesterol>=xs.veryHigh?(m=!0,s.push({id:"non-hdl-very-high",category:"bloodwork",priority:"urgent",title:"Very high non-HDL cholesterol",description:`Your non-HDL cholesterol of ${ft("ldl",t.nonHdlCholesterol,o)} ${He("ldl",o)} is very high. This reflects total atherogenic particle burden and indicates significantly elevated cardiovascular risk.`})):t.nonHdlCholesterol>=xs.high?(m=!0,s.push({id:"non-hdl-high",category:"bloodwork",priority:"attention",title:"High non-HDL cholesterol",description:`Your non-HDL cholesterol of ${ft("ldl",t.nonHdlCholesterol,o)} ${He("ldl",o)} is high. Consider lifestyle modifications to reduce cardiovascular risk.`})):t.nonHdlCholesterol>=xs.borderline&&s.push({id:"non-hdl-borderline",category:"bloodwork",priority:"info",title:"Borderline high non-HDL cholesterol",description:`Your non-HDL cholesterol of ${ft("ldl",t.nonHdlCholesterol,o)} ${He("ldl",o)} is borderline. Optimal is <${ft("ldl",xs.borderline,o)} ${He("ldl",o)}.`})),e.lpa!==void 0)if(e.lpa>=fa.elevated){const y=[];if(e.apoB!==void 0){const N=e.apoB<=Le.apobGl;y.push(`${N?"":""} ApoB: ${bs(e.apoB,o)}  target ${bs(Le.apobGl,o)}`)}else if(t.nonHdlCholesterol!==void 0){const N=t.nonHdlCholesterol<=Le.nonHdlMmol;y.push(`${N?"":""} Non-HDL: ${ft("ldl",t.nonHdlCholesterol,o)} ${He("ldl",o)}  target ${ft("ldl",Le.nonHdlMmol,o)} ${He("ldl",o)}`)}else if(e.ldlC!==void 0){const N=e.ldlC<=Le.ldlMmol;y.push(`${N?"":""} LDL: ${Es(e.ldlC,o)}  target ${Es(Le.ldlMmol,o)}`)}else y.push(" Lipids  not tested (consider getting ApoB or a lipid panel)");if(e.systolicBp!==void 0&&e.diastolicBp!==void 0){const N=e.systolicBp<120&&e.diastolicBp<80;y.push(`${N?"":""} Blood pressure: ${e.systolicBp}/${e.diastolicBp} mmHg  target <120/80`)}else y.push(" Blood pressure  not entered");if(t.bmi!==void 0){const N=t.bmi<25;y.push(`${N?"":""} BMI: ${t.bmi}  target <25`)}if(e.hba1c!==void 0){const N=e.hba1c<qn.prediabetes;y.push(`${N?"":""} HbA1c: ${ks(e.hba1c,o)}  target <${ks(qn.prediabetes,o)}`)}else y.push(" HbA1c  not tested");if(r){const N=(v=r.statin)==null?void 0:v.drug;if(N&&N!=="none"&&N!=="not_tolerated"){const h=N.charAt(0).toUpperCase()+N.slice(1),f=(w=r.statin)!=null&&w.dose?` ${r.statin.dose}mg`:"";y.push(` Statin: ${h}${f}`)}else N==="not_tolerated"?y.push(" Statin: not tolerated"):y.push(" Statin: not started  discuss with your doctor");r.ezetimibe==="yes"?y.push(" Ezetimibe: taking"):r.ezetimibe==="not_tolerated"?y.push(" Ezetimibe: not tolerated"):y.push(" Ezetimibe: not started  discuss with your doctor"),r.pcsk9i==="yes"?y.push(" PCSK9 inhibitor: taking (also lowers Lp(a) ~2530%)"):r.pcsk9i==="not_tolerated"?y.push(" PCSK9 inhibitor: not tolerated"):y.push(" PCSK9 inhibitor: not started  can lower Lp(a) ~2530%")}s.push({id:"lpa-elevated",category:"bloodwork",priority:"attention",title:`Elevated Lp(a): ${Math.round(e.lpa)} nmol/L`,description:`Lp(a) is genetically determined and cannot be changed by diet or lifestyle. With an elevated Lp(a), reducing all other modifiable cardiovascular risk factors is especially important.

Your modifiable risk factors:
${y.join(`
`)}`})}else e.lpa>=fa.normal?s.push({id:"lpa-borderline",category:"bloodwork",priority:"info",title:`Borderline Lp(a): ${Math.round(e.lpa)} nmol/L`,description:"Your Lp(a) is in the borderline range (75125 nmol/L). Lp(a) is genetically determined and does not change with lifestyle. Continue to optimize other cardiovascular risk factors."}):s.push({id:"lpa-normal",category:"bloodwork",priority:"info",title:`Lp(a): ${Math.round(e.lpa)} nmol/L`,description:"Your Lp(a) is in the normal range (<75 nmol/L). This is a one-time test  Lp(a) is genetically determined and does not change significantly over time."});if(e.totalCholesterol!==void 0&&!m&&!p&&(e.totalCholesterol>=da.high?s.push({id:"total-chol-high",category:"bloodwork",priority:"attention",title:"High total cholesterol",description:`Your total cholesterol of ${Qh(e.totalCholesterol,o)} is high. Desirable is <${ft("total_cholesterol",da.borderline,o)} ${He("total_cholesterol",o)}.`}):e.totalCholesterol>=da.borderline&&s.push({id:"total-chol-borderline",category:"bloodwork",priority:"info",title:"Borderline high total cholesterol",description:`Your total cholesterol of ${Qh(e.totalCholesterol,o)} is borderline high. Desirable is <${ft("total_cholesterol",da.borderline,o)} ${He("total_cholesterol",o)}.`})),e.hdlC!==void 0){const y=e.sex==="male"?Gh.lowMale:Gh.lowFemale;e.hdlC<y&&s.push({id:"hdl-low",category:"bloodwork",priority:"attention",title:"Low HDL cholesterol",description:`Your HDL of ${L0(e.hdlC,o)} is below optimal (${ft("hdl",y,o)} ${He("hdl",o)} for ${e.sex==="male"?"men":"women"}). Exercise and healthy fats can help raise HDL.`})}if(e.triglycerides!==void 0&&e.triglycerides>=er.veryHigh&&s.push({id:"trig-very-high",category:"bloodwork",priority:"urgent",title:"Very high triglycerides",description:`Your triglycerides of ${D0(e.triglycerides,o)} are very high, increasing risk of pancreatitis. Immediate intervention is recommended.`}),e.systolicBp!==void 0&&e.diastolicBp!==void 0){const y=e.systolicBp,N=e.diastolicBp,h=[];t.eGFR!==void 0&&t.eGFR>=ws.mildlyDecreased&&h.push("Increase potassium-rich foods (3,5005,000mg/day)."),t.bmi!==void 0&&t.bmi>=25&&h.push("Weight loss is one of the most effective ways to lower blood pressure  even a 5% reduction can make a meaningful difference. GLP-1 medications (tirzepatide, semaglutide) can assist with both weight loss and blood pressure reduction.");const f=h.length>0?`

`+h.join(`

`):"";if(y>=un.crisisSys||N>=un.crisisDia)s.push({id:"bp-crisis",category:"blood_pressure",priority:"urgent",title:"Hypertensive crisis",description:`Your BP of ${y}/${N} mmHg is dangerously high. Seek immediate medical attention if accompanied by symptoms.`});else if(y>=un.stage2Sys||N>=un.stage2Dia)s.push({id:"bp-stage2",category:"blood_pressure",priority:"urgent",title:"Stage 2 hypertension",description:`Your BP of ${y}/${N} mmHg indicates stage 2 hypertension. Medication is typically recommended at this level.

Lifestyle measures that also help: reduce sodium intake (<2,300mg/day), exercise regularly, and prioritize quality sleep.${f}`});else if(y>=un.stage1Sys||N>un.stage1Dia){const g=t.age!==void 0&&t.age>=65?"<130/80":"<120/80";s.push({id:"bp-stage1",category:"blood_pressure",priority:"attention",title:"Stage 1 hypertension",description:`Your BP of ${y}/${N} mmHg indicates stage 1 hypertension. Target is ${g}.

Key lifestyle measures: reduce sodium intake (<2,300mg/day), exercise regularly (150+ min/week), and prioritize quality sleep (7-9 hours).${f}`})}}if(r){const y=t.nonHdlCholesterol;if(e.apoB!==void 0&&e.apoB>Le.apobGl||e.ldlC!==void 0&&e.ldlC>Le.ldlMmol||y!==void 0&&y>Le.nonHdlMmol){const h=r.statin,f=h==null?void 0:h.drug,g=f&&f in oa,E=f==="not_tolerated",_=!E,S=h&&g;if(!h||!f||f==="none"||!g&&!E)s.push({id:"med-statin",category:"medication",priority:"attention",title:"Consider starting a statin",description:"Your lipid levels are above target. Discuss starting a statin (e.g. Rosuvastatin 5mg) with your doctor."});else if(!r.ezetimibe||r.ezetimibe==="no"||r.ezetimibe==="not_yet")s.push({id:"med-ezetimibe",category:"medication",priority:"attention",title:"Consider adding Ezetimibe",description:"Your lipid levels remain above target. Discuss adding Ezetimibe 10mg with your doctor."});else{const j=S&&iu(h.drug,h.dose),J=S&&Mh(h.drug,h.dose);if(S&&Ah(h.drug,h.dose),_&&(j||J))if(!r.statinEscalation||r.statinEscalation==="not_yet"){if(j)s.push({id:"med-statin-increase",category:"medication",priority:"attention",title:"Consider increasing statin dose",description:"Your lipid levels remain above target. Discuss increasing your statin dose with your doctor."});else if(J){const F=h.drug.charAt(0).toUpperCase()+h.drug.slice(1);s.push({id:"med-statin-switch",category:"medication",priority:"attention",title:"Consider switching to a more potent statin",description:`You're on the maximum dose of ${F}. Discuss switching to a more potent statin (e.g. Rosuvastatin) with your doctor.`})}}else(!r.pcsk9i||r.pcsk9i==="no"||r.pcsk9i==="not_yet")&&s.push({id:"med-pcsk9i",category:"medication",priority:"attention",title:"Consider a PCSK9 inhibitor",description:"Your lipid levels remain above target despite current medications. Discuss a PCSK9 inhibitor with your doctor."});else(!r.pcsk9i||r.pcsk9i==="no"||r.pcsk9i==="not_yet")&&s.push({id:"med-pcsk9i",category:"medication",priority:"attention",title:"Consider a PCSK9 inhibitor",description:"Your lipid levels remain above target despite current medications. Discuss a PCSK9 inhibitor with your doctor."})}}}if(i&&t.age!==void 0){let y=function(_,S){if(!_||!S)return"unknown";const I=Bh[S]??12,[j,J]=_.split("-").map(Number);if(!j||!J)return"unknown";const F=new Date(j,J-1+I);return new Date>F?"overdue":"upcoming"},N=function(_,S){const I=Bh[S]??12,[j,J]=_.split("-").map(Number);if(!j||!J)return"";const F=new Date(j,J-1+I);return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][F.getMonth()]} ${F.getFullYear()}`},h=function(_,S,I,j,J){if(!I||I==="normal"||I==="awaiting")return null;const F=S?`${_}_${S}`:`${_}_other`,V=Uh[F]??{followupName:"follow-up",abnormalMeans:"abnormal result"},ot=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(!j||j==="not_organized")return{id:`screening-${_}-followup`,category:"screening",priority:"urgent",title:`Organize ${V.followupName}`,description:`Your screening showed a ${V.abnormalMeans}. Please organize a ${V.followupName} with your doctor.`};if(j==="scheduled")return{id:`screening-${_}-followup`,category:"screening",priority:"info",title:`${_.charAt(0).toUpperCase()+_.slice(1)} follow-up scheduled`,description:`Your ${V.followupName} is scheduled. Keep your appointment.`};if(j==="completed"&&J){const ve=Hh[F]??Hh[`${_}_other`]??12,[L,Xe]=J.split("-").map(Number);if(L&&Xe){const Qe=new Date(L,Xe-1+ve),Fe=`${ot[Qe.getMonth()]} ${Qe.getFullYear()}`;return new Date>Qe?{id:`screening-${_}-followup`,category:"screening",priority:"attention",title:`${_.charAt(0).toUpperCase()+_.slice(1)} screening overdue`,description:`Following your ${V.abnormalMeans}, your next screening was due ${Fe}. Please schedule your screening.`}:{id:`screening-${_}-followup`,category:"screening",priority:"info",title:`${_.charAt(0).toUpperCase()+_.slice(1)} screening up to date`,description:`Following your ${V.abnormalMeans}, next screening due ${Fe}.`}}}return null};const f=t.age,g=e.sex;if(f>=35&&f<=75){if(!i.colorectalMethod||i.colorectalMethod==="not_yet_started")s.push({id:"screening-colorectal",category:"screening",priority:"attention",title:"Start colorectal cancer screening",description:"Colorectal screening is recommended. Options include annual FIT testing or colonoscopy every 10 years. Discuss with your doctor."});else if(i.colorectalLastDate){const _=h("colorectal",i.colorectalMethod,i.colorectalResult,i.colorectalFollowupStatus,i.colorectalFollowupDate);if(_)s.push(_);else{const S=y(i.colorectalLastDate,i.colorectalMethod);S==="overdue"?s.push({id:"screening-colorectal-overdue",category:"screening",priority:"attention",title:"Colorectal screening overdue",description:`Your next colorectal screening was due ${N(i.colorectalLastDate,i.colorectalMethod)}. Please schedule your screening.`}):S==="upcoming"&&s.push({id:"screening-colorectal-upcoming",category:"screening",priority:"info",title:"Colorectal screening up to date",description:`Next screening due ${N(i.colorectalLastDate,i.colorectalMethod)}.`})}}}if(g==="female"&&f>=40){if(!i.breastFrequency||i.breastFrequency==="not_yet_started")s.push({id:"screening-breast",category:"screening",priority:f>=45?"attention":"info",title:"Start breast cancer screening",description:f>=45?"Mammography is recommended at your age. Discuss with your doctor.":"Mammography is optional at your age (4044). Discuss with your doctor."});else if(i.breastLastDate){const _=h("breast",i.breastFrequency,i.breastResult,i.breastFollowupStatus,i.breastFollowupDate);if(_)s.push(_);else{const S=y(i.breastLastDate,i.breastFrequency);S==="overdue"?s.push({id:"screening-breast-overdue",category:"screening",priority:"attention",title:"Mammogram overdue",description:`Your next mammogram was due ${N(i.breastLastDate,i.breastFrequency)}. Please schedule your screening.`}):S==="upcoming"&&s.push({id:"screening-breast-upcoming",category:"screening",priority:"info",title:"Mammogram up to date",description:`Next mammogram due ${N(i.breastLastDate,i.breastFrequency)}.`})}}}if(g==="female"&&f>=25&&f<=65){if(!i.cervicalMethod||i.cervicalMethod==="not_yet_started")s.push({id:"screening-cervical",category:"screening",priority:"attention",title:"Start cervical cancer screening",description:"HPV testing every 5 years (preferred) or Pap test every 3 years is recommended. Discuss with your doctor."});else if(i.cervicalLastDate){const _=h("cervical",i.cervicalMethod,i.cervicalResult,i.cervicalFollowupStatus,i.cervicalFollowupDate);if(_)s.push(_);else{const S=y(i.cervicalLastDate,i.cervicalMethod);S==="overdue"?s.push({id:"screening-cervical-overdue",category:"screening",priority:"attention",title:"Cervical screening overdue",description:`Your next cervical screening was due ${N(i.cervicalLastDate,i.cervicalMethod)}. Please schedule your screening.`}):S==="upcoming"&&s.push({id:"screening-cervical-upcoming",category:"screening",priority:"info",title:"Cervical screening up to date",description:`Next screening due ${N(i.cervicalLastDate,i.cervicalMethod)}.`})}}}if(f>=50&&f<=80&&(i.lungSmokingHistory==="former_smoker"||i.lungSmokingHistory==="current_smoker")&&i.lungPackYears!==void 0&&i.lungPackYears>=15){if(!i.lungScreening||i.lungScreening==="not_yet_started")s.push({id:"screening-lung",category:"screening",priority:"attention",title:"Start lung cancer screening",description:`With ${i.lungPackYears} pack-years of smoking history, annual low-dose CT screening is recommended. Discuss with your doctor.`});else if(i.lungLastDate){const _=h("lung",i.lungScreening,i.lungResult,i.lungFollowupStatus,i.lungFollowupDate);if(_)s.push(_);else{const S=y(i.lungLastDate,i.lungScreening);S==="overdue"?s.push({id:"screening-lung-overdue",category:"screening",priority:"attention",title:"Lung screening overdue",description:`Your next low-dose CT was due ${N(i.lungLastDate,i.lungScreening)}. Please schedule your screening.`}):S==="upcoming"&&s.push({id:"screening-lung-upcoming",category:"screening",priority:"info",title:"Lung screening up to date",description:`Next low-dose CT due ${N(i.lungLastDate,i.lungScreening)}.`})}}}if(g==="male"&&f>=45){if(!i.prostateDiscussion||i.prostateDiscussion==="not_yet")s.push({id:"screening-prostate",category:"screening",priority:(f>=50,"info"),title:"Discuss prostate cancer screening",description:"PSA testing is an option after an informed discussion with your doctor. Benefits and risks vary by individual."});else if(i.prostateDiscussion==="will_screen"&&i.prostateLastDate){const _=y(i.prostateLastDate,"will_screen");_==="overdue"?s.push({id:"screening-prostate-overdue",category:"screening",priority:"attention",title:"PSA test overdue",description:`Your next PSA test was due ${N(i.prostateLastDate,"will_screen")}. Please schedule your test.`}):_==="upcoming"&&s.push({id:"screening-prostate-upcoming",category:"screening",priority:"info",title:"PSA test up to date",description:`Next PSA test due ${N(i.prostateLastDate,"will_screen")}.`})}i.prostatePsaValue!==void 0&&i.prostatePsaValue>4&&s.push({id:"screening-prostate-elevated",category:"screening",priority:"attention",title:"Elevated PSA",description:`Your PSA of ${i.prostatePsaValue.toFixed(1)} ng/mL is above the typical reference range (4.0). Discuss with your doctor  elevated PSA can have multiple causes.`})}if(g==="female"&&f>=45&&i.endometrialAbnormalBleeding==="yes_need_to_report"&&s.push({id:"screening-endometrial-bleeding",category:"screening",priority:"urgent",title:"Report abnormal uterine bleeding",description:"Abnormal uterine bleeding should be evaluated by your doctor promptly, especially after menopause."}),g==="female"&&f>=45&&(!i.endometrialDiscussion||i.endometrialDiscussion==="not_yet")&&s.push({id:"screening-endometrial",category:"screening",priority:"info",title:"Discuss endometrial cancer awareness",description:"Women at menopause should be informed about the risks and symptoms of endometrial cancer. Discuss with your doctor."}),g==="female"&&f>=50||g==="male"&&f>=70){if(!i.dexaScreening||i.dexaScreening==="not_yet_started")s.push({id:"screening-dexa",category:"screening",priority:"attention",title:"Consider a DEXA bone density scan",description:"A DEXA scan measures bone mineral density and can detect osteoporosis before a fracture occurs. Discuss with your doctor."});else if(i.dexaResult==="osteoporosis"){const _=h("dexa","dexa_scan","abnormal",i.dexaFollowupStatus,i.dexaFollowupDate);if(_)s.push(_);else if(i.dexaLastDate){const S=y(i.dexaLastDate,"dexa_scan");S==="overdue"?s.push({id:"screening-dexa-overdue",category:"screening",priority:"attention",title:"Bone density scan overdue",description:`Your next DEXA scan was due ${N(i.dexaLastDate,"dexa_scan")}. Please schedule your scan.`}):S==="upcoming"&&s.push({id:"screening-dexa-upcoming",category:"screening",priority:"info",title:"Bone density scan up to date",description:`Next DEXA scan due around ${N(i.dexaLastDate,"dexa_scan")}.`})}}else if(i.dexaResult!=="awaiting"){if(i.dexaLastDate){const _=i.dexaResult==="osteopenia"?"dexa_osteopenia":"dexa_normal",S=y(i.dexaLastDate,_);S==="overdue"?s.push({id:"screening-dexa-overdue",category:"screening",priority:"attention",title:"Bone density scan overdue",description:`Your next DEXA scan was due ${N(i.dexaLastDate,_)}. Please schedule your scan.`}):S==="upcoming"&&s.push({id:"screening-dexa-upcoming",category:"screening",priority:"info",title:"Bone density scan up to date",description:`Next DEXA scan due around ${N(i.dexaLastDate,_)}.`})}}}}return s.push({id:"supplement-microvitamin",category:"supplements",priority:"info",title:"MicroVitamin+",description:"Daily all-in-one to support mental function, skin elasticity, exercise performance, and gut health.",link:"https://drstanfield.com/products/microvitamin-plus"},{id:"supplement-omega3",category:"supplements",priority:"info",title:"Omega-3",description:"Essential fatty acids for cardiovascular and brain health.",link:"https://amzn.to/4kgwthG"},{id:"supplement-sleep",category:"supplements",priority:"info",title:"Sleep by Dr Brad",description:"Support for quality sleep and recovery.",link:"https://drstanfield.com/products/sleep"}),t.age!==void 0&&t.age>=18&&s.push({id:"skin-moisturizer",category:"skin",priority:"info",title:"Daily moisturizer with ceramides",description:"Use a moisturizer containing ceramides and nicotinamide (vitamin B3) daily. Ceramides restore the skin barrier and reduce wrinkles, while nicotinamide improves hydration and reduces pigmentation.",link:"https://amzn.to/47pGGmj"},{id:"skin-sunscreen",category:"skin",priority:"info",title:"Daily broad-spectrum sunscreen",description:n==="conventional"?"Apply broad-spectrum SPF 50+ sunscreen daily to exposed skin. In the US, CeraVe 100% Mineral Sunscreen SPF 50 is a good option  mineral filters (zinc oxide, titanium dioxide) are FDA-recognized as safe and effective with no systemic absorption.":"Apply broad-spectrum SPF 50+ sunscreen daily to exposed skin. Beauty of Joseon Relief Sun SPF50+ PA++++ uses newer-generation chemical filters (Tinosorb S, Uvinul A Plus) that are photostable and do not absorb into the bloodstream.",link:n==="conventional"?"https://www.amazon.com/Mineral-Sunscreen-Titanium-Dioxide-Sensitive/dp/B07KLY4RYG":"https://beautyofjoseon.com/products/relief-sun-rice-probiotics"},{id:"skin-retinoid",category:"skin",priority:"info",title:"Topical retinoid",description:"A topical retinoid (adapalene 0.3% or tretinoin 0.05%) applied at night stimulates collagen production and improves skin texture. Start with 23 nights per week and increase as tolerated. Always use sunscreen when using retinoids. Caution: retinoids must not be used during pregnancy."},{id:"skin-advanced",category:"skin",priority:"info",title:"Advanced skin treatments",description:"For further skin rejuvenation, consider discussing these options with a dermatologist: red light therapy (LED, 630850nm), fractional laser resurfacing, intense pulsed light (IPL) for pigmentation, and microneedling for collagen induction."}),s}function P0(e,t){const r=(t==="male"?50:45.5)+.91*(e-152.4);return Math.max(r,30)}function O0(e){return Math.round(e*1.2)}function cu(e,t){const n=t/100;return e/(n*n)}function M0(e,t){return e/t}function pi(e,t){const n=new Date,r=n.getFullYear(),i=n.getMonth()+1;let s=r-e;return i<t&&s--,Math.max(s,0)}function A0(e,t,n){const r=e/88.4;if(n==="female"){const s=r<=.7?-.241:-1.2;return 142*Math.pow(r/.7,s)*Math.pow(.9938,t)*1.012}else{const s=r<=.9?-.302:-1.2;return 142*Math.pow(r/.9,s)*Math.pow(.9938,t)}}function $0(e,t,n,r){const i=P0(e.heightCm,e.sex),s=O0(i),o={heightCm:e.heightCm,idealBodyWeight:Math.round(i*10)/10,proteinTarget:s,suggestions:[]};if(e.weightKg){const a=cu(e.weightKg,e.heightCm);o.bmi=Math.round(a*10)/10}if(e.waistCm){const a=M0(e.waistCm,e.heightCm);o.waistToHeightRatio=Math.round(a*100)/100}if(e.totalCholesterol!==void 0&&e.hdlC!==void 0){const a=e.totalCholesterol-e.hdlC;o.nonHdlCholesterol=Math.round(a*10)/10}return e.apoB!==void 0&&(o.apoB=e.apoB),e.ldlC!==void 0&&(o.ldlC=e.ldlC),e.lpa!==void 0&&(o.lpa=e.lpa),e.birthYear&&(o.age=pi(e.birthYear,e.birthMonth??1)),e.creatinine!==void 0&&o.age!==void 0&&(o.eGFR=Math.round(A0(e.creatinine,o.age,e.sex))),o.eGFR!==void 0&&o.eGFR<ws.mildlyDecreased&&(o.proteinTarget=Math.round(i*1)),o.suggestions=R0(e,o,t,n,r),o}var fe;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(fe||(fe={}));var qh;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(qh||(qh={}));const z=fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),tr=e=>{switch(typeof e){case"undefined":return z.undefined;case"string":return z.string;case"number":return Number.isNaN(e)?z.nan:z.number;case"boolean":return z.boolean;case"function":return z.function;case"bigint":return z.bigint;case"symbol":return z.symbol;case"object":return Array.isArray(e)?z.array:e===null?z.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?z.promise:typeof Map<"u"&&e instanceof Map?z.map:typeof Set<"u"&&e instanceof Set?z.set:typeof Date<"u"&&e instanceof Date?z.date:z.object;default:return z.unknown}},T=fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Nn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}static assert(t){if(!(t instanceof Nn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Nn.create=e=>new Nn(e);const uu=(e,t)=>{let n;switch(e.code){case T.invalid_type:e.received===z.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case T.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,fe.jsonStringifyReplacer)}`;break;case T.unrecognized_keys:n=`Unrecognized key(s) in object: ${fe.joinValues(e.keys,", ")}`;break;case T.invalid_union:n="Invalid input";break;case T.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${fe.joinValues(e.options)}`;break;case T.invalid_enum_value:n=`Invalid enum value. Expected ${fe.joinValues(e.options)}, received '${e.received}'`;break;case T.invalid_arguments:n="Invalid function arguments";break;case T.invalid_return_type:n="Invalid function return type";break;case T.invalid_date:n="Invalid date";break;case T.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:fe.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case T.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case T.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case T.custom:n="Invalid input";break;case T.invalid_intersection_types:n="Intersection results could not be merged";break;case T.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case T.not_finite:n="Number must be finite";break;default:n=t.defaultError,fe.assertNever(e)}return{message:n}};let F0=uu;function z0(){return F0}const B0=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:t,defaultError:a}).message;return{...i,path:s,message:a}};function P(e,t){const n=z0(),r=B0({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===uu?void 0:uu].filter(i=>!!i)});e.common.issues.push(r)}class Mt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return X;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Mt.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return X;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:t.value,value:r}}}const X=Object.freeze({status:"aborted"}),Ns=e=>({status:"dirty",value:e}),Vt=e=>({status:"valid",value:e}),em=e=>e.status==="aborted",tm=e=>e.status==="dirty",hi=e=>e.status==="valid",pa=e=>typeof Promise<"u"&&e instanceof Promise;var B;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(B||(B={}));class nr{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const nm=(e,t)=>{if(hi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Nn(e.common.issues);return this._error=n,this._error}}};function ne(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,a)=>{const{message:l}=e;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:i}}class de{get description(){return this._def.description}_getType(t){return tr(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:tr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Mt,ctx:{common:t.parent.common,data:t.data,parsedType:tr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(pa(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:tr(t)},i=this._parseSync({data:t,path:r.path,parent:r});return nm(r,i)}"~validate"(t){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:tr(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:n});return hi(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(s=>hi(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:tr(t)},i=this._parse({data:t,path:r.path,parent:r}),s=await(pa(i)?i:Promise.resolve(i));return nm(r,s)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=t(i),a=()=>s.addIssue({code:T.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new yi({schema:this,typeName:Q.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return sr.create(this,this._def)}nullable(){return _i.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return dn.create(this)}promise(){return va.create(this,this._def)}or(t){return ma.create([this,t],this._def)}and(t){return ga.create(this,t,this._def)}transform(t){return new yi({...ne(this._def),schema:this,typeName:Q.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new pu({...ne(this._def),innerType:this,defaultValue:n,typeName:Q.ZodDefault})}brand(){return new ux({typeName:Q.ZodBranded,type:this,...ne(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new hu({...ne(this._def),innerType:this,catchValue:n,typeName:Q.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return mu.create(this,t)}readonly(){return gu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const H0=/^c[^\s-]{8,}$/i,U0=/^[0-9a-z]+$/,V0=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Y0=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,W0=/^[a-z0-9_-]{21}$/i,G0=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Z0=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,K0=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,X0="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let du;const Q0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,J0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,q0=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tx=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nx=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,rm="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rx=new RegExp(`^${rm}$`);function im(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function ix(e){return new RegExp(`^${im(e)}$`)}function sx(e){let t=`${rm}T${im(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function ox(e,t){return!!((t==="v4"||!t)&&Q0.test(e)||(t==="v6"||!t)&&q0.test(e))}function ax(e,t){if(!G0.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function lx(e,t){return!!((t==="v4"||!t)&&J0.test(e)||(t==="v6"||!t)&&ex.test(e))}class rr extends de{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==z.string){const s=this._getOrReturnCtx(t);return P(s,{code:T.invalid_type,expected:z.string,received:s.parsedType}),X}const r=new Mt;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),P(i,{code:T.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),P(i,{code:T.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,a=t.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(t,i),o?P(i,{code:T.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&P(i,{code:T.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")K0.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"email",code:T.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")du||(du=new RegExp(X0,"u")),du.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"emoji",code:T.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Y0.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"uuid",code:T.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")W0.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"nanoid",code:T.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")H0.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"cuid",code:T.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")U0.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"cuid2",code:T.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")V0.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"ulid",code:T.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),P(i,{validation:"url",code:T.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"regex",code:T.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),P(i,{code:T.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),P(i,{code:T.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),P(i,{code:T.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?sx(s).test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{code:T.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?rx.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{code:T.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?ix(s).test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{code:T.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?Z0.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"duration",code:T.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?ox(t.data,s.version)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"ip",code:T.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?ax(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"jwt",code:T.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?lx(t.data,s.version)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"cidr",code:T.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?tx.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"base64",code:T.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?nx.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"base64url",code:T.invalid_string,message:s.message}),r.dirty()):fe.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:T.invalid_string,...B.errToObj(r)})}_addCheck(t){return new rr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...B.errToObj(t)})}url(t){return this._addCheck({kind:"url",...B.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...B.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...B.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...B.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...B.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...B.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...B.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...B.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...B.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...B.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...B.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...B.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...B.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...B.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...B.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...B.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...B.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...B.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...B.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...B.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...B.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...B.errToObj(n)})}nonempty(t){return this.min(1,B.errToObj(t))}trim(){return new rr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new rr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new rr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}rr.create=e=>new rr({checks:[],typeName:Q.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ne(e)});function cx(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return s%o/10**i}class mi extends de{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==z.number){const s=this._getOrReturnCtx(t);return P(s,{code:T.invalid_type,expected:z.number,received:s.parsedType}),X}let r;const i=new Mt;for(const s of this._def.checks)s.kind==="int"?fe.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{code:T.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),P(r,{code:T.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),P(r,{code:T.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?cx(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),P(r,{code:T.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{code:T.not_finite,message:s.message}),i.dirty()):fe.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,B.toString(n))}gt(t,n){return this.setLimit("min",t,!1,B.toString(n))}lte(t,n){return this.setLimit("max",t,!0,B.toString(n))}lt(t,n){return this.setLimit("max",t,!1,B.toString(n))}setLimit(t,n,r,i){return new mi({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:B.toString(i)}]})}_addCheck(t){return new mi({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:B.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:B.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:B.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:B.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:B.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:B.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:B.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:B.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:B.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&fe.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}mi.create=e=>new mi({checks:[],typeName:Q.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ne(e)});class Cs extends de{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==z.bigint)return this._getInvalidInput(t);let r;const i=new Mt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),P(r,{code:T.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),P(r,{code:T.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),P(r,{code:T.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):fe.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return P(n,{code:T.invalid_type,expected:z.bigint,received:n.parsedType}),X}gte(t,n){return this.setLimit("min",t,!0,B.toString(n))}gt(t,n){return this.setLimit("min",t,!1,B.toString(n))}lte(t,n){return this.setLimit("max",t,!0,B.toString(n))}lt(t,n){return this.setLimit("max",t,!1,B.toString(n))}setLimit(t,n,r,i){return new Cs({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:B.toString(i)}]})}_addCheck(t){return new Cs({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:B.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:B.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:B.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:B.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:B.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Cs.create=e=>new Cs({checks:[],typeName:Q.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ne(e)});class sm extends de{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==z.boolean){const r=this._getOrReturnCtx(t);return P(r,{code:T.invalid_type,expected:z.boolean,received:r.parsedType}),X}return Vt(t.data)}}sm.create=e=>new sm({typeName:Q.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ne(e)});class ha extends de{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==z.date){const s=this._getOrReturnCtx(t);return P(s,{code:T.invalid_type,expected:z.date,received:s.parsedType}),X}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return P(s,{code:T.invalid_date}),X}const r=new Mt;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),P(i,{code:T.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),P(i,{code:T.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):fe.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ha({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:B.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:B.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ha.create=e=>new ha({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Q.ZodDate,...ne(e)});class om extends de{_parse(t){if(this._getType(t)!==z.symbol){const r=this._getOrReturnCtx(t);return P(r,{code:T.invalid_type,expected:z.symbol,received:r.parsedType}),X}return Vt(t.data)}}om.create=e=>new om({typeName:Q.ZodSymbol,...ne(e)});class am extends de{_parse(t){if(this._getType(t)!==z.undefined){const r=this._getOrReturnCtx(t);return P(r,{code:T.invalid_type,expected:z.undefined,received:r.parsedType}),X}return Vt(t.data)}}am.create=e=>new am({typeName:Q.ZodUndefined,...ne(e)});class lm extends de{_parse(t){if(this._getType(t)!==z.null){const r=this._getOrReturnCtx(t);return P(r,{code:T.invalid_type,expected:z.null,received:r.parsedType}),X}return Vt(t.data)}}lm.create=e=>new lm({typeName:Q.ZodNull,...ne(e)});class cm extends de{constructor(){super(...arguments),this._any=!0}_parse(t){return Vt(t.data)}}cm.create=e=>new cm({typeName:Q.ZodAny,...ne(e)});class um extends de{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Vt(t.data)}}um.create=e=>new um({typeName:Q.ZodUnknown,...ne(e)});class ir extends de{_parse(t){const n=this._getOrReturnCtx(t);return P(n,{code:T.invalid_type,expected:z.never,received:n.parsedType}),X}}ir.create=e=>new ir({typeName:Q.ZodNever,...ne(e)});class dm extends de{_parse(t){if(this._getType(t)!==z.undefined){const r=this._getOrReturnCtx(t);return P(r,{code:T.invalid_type,expected:z.void,received:r.parsedType}),X}return Vt(t.data)}}dm.create=e=>new dm({typeName:Q.ZodVoid,...ne(e)});class dn extends de{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==z.array)return P(n,{code:T.invalid_type,expected:z.array,received:n.parsedType}),X;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(P(n,{code:o?T.too_big:T.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(P(n,{code:T.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(P(n,{code:T.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new nr(n,o,n.path,a)))).then(o=>Mt.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new nr(n,o,n.path,a)));return Mt.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new dn({...this._def,minLength:{value:t,message:B.toString(n)}})}max(t,n){return new dn({...this._def,maxLength:{value:t,message:B.toString(n)}})}length(t,n){return new dn({...this._def,exactLength:{value:t,message:B.toString(n)}})}nonempty(t){return this.min(1,t)}}dn.create=(e,t)=>new dn({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Q.ZodArray,...ne(t)});function gi(e){if(e instanceof Ve){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=sr.create(gi(r))}return new Ve({...e._def,shape:()=>t})}else return e instanceof dn?new dn({...e._def,type:gi(e.element)}):e instanceof sr?sr.create(gi(e.unwrap())):e instanceof _i?_i.create(gi(e.unwrap())):e instanceof Cr?Cr.create(e.items.map(t=>gi(t))):e}class Ve extends de{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=fe.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==z.object){const u=this._getOrReturnCtx(t);return P(u,{code:T.invalid_type,expected:z.object,received:u.parsedType}),X}const{status:r,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ir&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=s[u],p=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new nr(i,p,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ir){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")a.length>0&&(P(i,{code:T.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const p=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new nr(i,p,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const p=await d.key,m=await d.value;u.push({key:p,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>Mt.mergeObjectSync(r,u)):Mt.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return B.errToObj,new Ve({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:B.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new Ve({...this._def,unknownKeys:"strip"})}passthrough(){return new Ve({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ve({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ve({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Q.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Ve({...this._def,catchall:t})}pick(t){const n={};for(const r of fe.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Ve({...this._def,shape:()=>n})}omit(t){const n={};for(const r of fe.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new Ve({...this._def,shape:()=>n})}deepPartial(){return gi(this)}partial(t){const n={};for(const r of fe.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new Ve({...this._def,shape:()=>n})}required(t){const n={};for(const r of fe.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof sr;)s=s._def.innerType;n[r]=s}return new Ve({...this._def,shape:()=>n})}keyof(){return mm(fe.objectKeys(this.shape))}}Ve.create=(e,t)=>new Ve({shape:()=>e,unknownKeys:"strip",catchall:ir.create(),typeName:Q.ZodObject,...ne(t)}),Ve.strictCreate=(e,t)=>new Ve({shape:()=>e,unknownKeys:"strict",catchall:ir.create(),typeName:Q.ZodObject,...ne(t)}),Ve.lazycreate=(e,t)=>new Ve({shape:e,unknownKeys:"strip",catchall:ir.create(),typeName:Q.ZodObject,...ne(t)});class ma extends de{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Nn(a.ctx.common.issues));return P(n,{code:T.invalid_union,unionErrors:o}),X}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Nn(l));return P(n,{code:T.invalid_union,unionErrors:a}),X}}get options(){return this._def.options}}ma.create=(e,t)=>new ma({options:e,typeName:Q.ZodUnion,...ne(t)});function fu(e,t){const n=tr(e),r=tr(t);if(e===t)return{valid:!0,data:e};if(n===z.object&&r===z.object){const i=fe.objectKeys(t),s=fe.objectKeys(e).filter(a=>i.indexOf(a)!==-1),o={...e,...t};for(const a of s){const l=fu(e[a],t[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===z.array&&r===z.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],a=t[s],l=fu(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===z.date&&r===z.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ga extends de{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(s,o)=>{if(em(s)||em(o))return X;const a=fu(s.value,o.value);return a.valid?((tm(s)||tm(o))&&n.dirty(),{status:n.value,value:a.data}):(P(r,{code:T.invalid_intersection_types}),X)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ga.create=(e,t,n)=>new ga({left:e,right:t,typeName:Q.ZodIntersection,...ne(n)});class Cr extends de{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==z.array)return P(r,{code:T.invalid_type,expected:z.array,received:r.parsedType}),X;if(r.data.length<this._def.items.length)return P(r,{code:T.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),X;!this._def.rest&&r.data.length>this._def.items.length&&(P(r,{code:T.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new nr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Mt.mergeArray(n,o)):Mt.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new Cr({...this._def,rest:t})}}Cr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Cr({items:e,typeName:Q.ZodTuple,rest:null,...ne(t)})};class fm extends de{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==z.map)return P(r,{code:T.invalid_type,expected:z.map,received:r.parsedType}),X;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:i._parse(new nr(r,a,r.path,[u,"key"])),value:s._parse(new nr(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return X;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return X;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}fm.create=(e,t,n)=>new fm({valueType:t,keyType:e,typeName:Q.ZodMap,...ne(n)});class Ts extends de{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==z.set)return P(r,{code:T.invalid_type,expected:z.set,received:r.parsedType}),X;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(P(r,{code:T.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(P(r,{code:T.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return X;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>s._parse(new nr(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(t,n){return new Ts({...this._def,minSize:{value:t,message:B.toString(n)}})}max(t,n){return new Ts({...this._def,maxSize:{value:t,message:B.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Ts.create=(e,t)=>new Ts({valueType:e,minSize:null,maxSize:null,typeName:Q.ZodSet,...ne(t)});class pm extends de{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}pm.create=(e,t)=>new pm({getter:e,typeName:Q.ZodLazy,...ne(t)});class hm extends de{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return P(n,{received:n.data,code:T.invalid_literal,expected:this._def.value}),X}return{status:"valid",value:t.data}}get value(){return this._def.value}}hm.create=(e,t)=>new hm({value:e,typeName:Q.ZodLiteral,...ne(t)});function mm(e,t){return new vi({values:e,typeName:Q.ZodEnum,...ne(t)})}class vi extends de{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return P(n,{expected:fe.joinValues(r),received:n.parsedType,code:T.invalid_type}),X}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return P(n,{received:n.data,code:T.invalid_enum_value,options:r}),X}return Vt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return vi.create(t,{...this._def,...n})}exclude(t,n=this._def){return vi.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}vi.create=mm;class gm extends de{_parse(t){const n=fe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==z.string&&r.parsedType!==z.number){const i=fe.objectValues(n);return P(r,{expected:fe.joinValues(i),received:r.parsedType,code:T.invalid_type}),X}if(this._cache||(this._cache=new Set(fe.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=fe.objectValues(n);return P(r,{received:r.data,code:T.invalid_enum_value,options:i}),X}return Vt(t.data)}get enum(){return this._def.values}}gm.create=(e,t)=>new gm({values:e,typeName:Q.ZodNativeEnum,...ne(t)});class va extends de{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==z.promise&&n.common.async===!1)return P(n,{code:T.invalid_type,expected:z.promise,received:n.parsedType}),X;const r=n.parsedType===z.promise?n.data:Promise.resolve(n.data);return Vt(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}va.create=(e,t)=>new va({type:e,typeName:Q.ZodPromise,...ne(t)});class yi extends de{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{P(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return X;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?X:l.status==="dirty"||n.value==="dirty"?Ns(l.value):l});{if(n.value==="aborted")return X;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?X:a.status==="dirty"||n.value==="dirty"?Ns(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?X:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?X:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!hi(o))return X;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>hi(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):X);fe.assertNever(i)}}yi.create=(e,t,n)=>new yi({schema:e,typeName:Q.ZodEffects,effect:t,...ne(n)}),yi.createWithPreprocess=(e,t,n)=>new yi({schema:t,effect:{type:"preprocess",transform:e},typeName:Q.ZodEffects,...ne(n)});class sr extends de{_parse(t){return this._getType(t)===z.undefined?Vt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}sr.create=(e,t)=>new sr({innerType:e,typeName:Q.ZodOptional,...ne(t)});class _i extends de{_parse(t){return this._getType(t)===z.null?Vt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_i.create=(e,t)=>new _i({innerType:e,typeName:Q.ZodNullable,...ne(t)});class pu extends de{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===z.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}pu.create=(e,t)=>new pu({innerType:e,typeName:Q.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ne(t)});class hu extends de{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return pa(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Nn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Nn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}hu.create=(e,t)=>new hu({innerType:e,typeName:Q.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ne(t)});class vm extends de{_parse(t){if(this._getType(t)!==z.nan){const r=this._getOrReturnCtx(t);return P(r,{code:T.invalid_type,expected:z.nan,received:r.parsedType}),X}return{status:"valid",value:t.data}}}vm.create=e=>new vm({typeName:Q.ZodNaN,...ne(e)});class ux extends de{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class mu extends de{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?X:s.status==="dirty"?(n.dirty(),Ns(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?X:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new mu({in:t,out:n,typeName:Q.ZodPipeline})}}class gu extends de{_parse(t){const n=this._def.innerType._parse(t),r=i=>(hi(i)&&(i.value=Object.freeze(i.value)),i);return pa(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}gu.create=(e,t)=>new gu({innerType:e,typeName:Q.ZodReadonly,...ne(t)});var Q;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Q||(Q={}));const Tr=rr.create,Ae=mi.create;ir.create,dn.create;const js=Ve.create;ma.create,ga.create,Cr.create;const Is=vi.create;va.create,sr.create,_i.create;const ya={weightKg:"weight",waistCm:"waist",hba1c:"hba1c",ldlC:"ldl",totalCholesterol:"total_cholesterol",hdlC:"hdl",triglycerides:"triglycerides",systolicBp:"systolic_bp",diastolicBp:"diastolic_bp",apoB:"apob",creatinine:"creatinine",psa:"psa",lpa:"lpa"},ym={weight:"weightKg",waist:"waistCm",hba1c:"hba1c",ldl:"ldlC",total_cholesterol:"totalCholesterol",hdl:"hdlC",triglycerides:"triglycerides",systolic_bp:"systolicBp",diastolic_bp:"diastolicBp",apob:"apoB",creatinine:"creatinine",psa:"psa",lpa:"lpa"},fn={heightCm:"height",weightKg:"weight",waistCm:"waist",hba1c:"hba1c",ldlC:"ldl",totalCholesterol:"total_cholesterol",hdlC:"hdl",triglycerides:"triglycerides",systolicBp:"systolic_bp",diastolicBp:"diastolic_bp",apoB:"apob",creatinine:"creatinine",psa:"psa",lpa:"lpa"},_a=["heightCm","sex","birthYear","birthMonth"],jr=["weightKg","waistCm","hba1c","creatinine","psa","apoB","ldlC","totalCholesterol","hdlC","triglycerides","systolicBp","diastolicBp","lpa"],dx=["hba1c","creatinine","psa","apob","ldl","total_cholesterol","hdl","triglycerides","lpa"];function vu(e){const t={};for(const n of e)switch(n.medicationKey){case"statin":t.statin={drug:n.drugName,dose:n.doseValue};break;case"ezetimibe":n.drugName==="ezetimibe"&&n.doseValue!==null?t.ezetimibe="yes":t.ezetimibe=n.drugName;break;case"statin_escalation":t.statinEscalation=n.drugName;break;case"pcsk9i":n.drugName==="pcsk9i"&&n.doseValue!==null?t.pcsk9i="yes":t.pcsk9i=n.drugName;break;case"glp1":t.glp1={drug:n.drugName,dose:n.doseValue};break;case"glp1_escalation":t.glp1Escalation=n.drugName;break;case"sglt2i":t.sglt2i={drug:n.drugName,dose:n.doseValue};break;case"metformin":t.metformin=n.drugName;break}return t}function yu(e){const t={};for(const n of e)switch(n.screeningKey){case"colorectal_method":t.colorectalMethod=n.value;break;case"colorectal_last_date":t.colorectalLastDate=n.value;break;case"colorectal_result":t.colorectalResult=n.value;break;case"colorectal_followup_status":t.colorectalFollowupStatus=n.value;break;case"colorectal_followup_date":t.colorectalFollowupDate=n.value;break;case"breast_frequency":t.breastFrequency=n.value;break;case"breast_last_date":t.breastLastDate=n.value;break;case"breast_result":t.breastResult=n.value;break;case"breast_followup_status":t.breastFollowupStatus=n.value;break;case"breast_followup_date":t.breastFollowupDate=n.value;break;case"cervical_method":t.cervicalMethod=n.value;break;case"cervical_last_date":t.cervicalLastDate=n.value;break;case"cervical_result":t.cervicalResult=n.value;break;case"cervical_followup_status":t.cervicalFollowupStatus=n.value;break;case"cervical_followup_date":t.cervicalFollowupDate=n.value;break;case"lung_smoking_history":t.lungSmokingHistory=n.value;break;case"lung_pack_years":t.lungPackYears=parseFloat(n.value);break;case"lung_screening":t.lungScreening=n.value;break;case"lung_last_date":t.lungLastDate=n.value;break;case"lung_result":t.lungResult=n.value;break;case"lung_followup_status":t.lungFollowupStatus=n.value;break;case"lung_followup_date":t.lungFollowupDate=n.value;break;case"prostate_discussion":t.prostateDiscussion=n.value;break;case"prostate_psa_value":t.prostatePsaValue=parseFloat(n.value);break;case"prostate_last_date":t.prostateLastDate=n.value;break;case"endometrial_discussion":t.endometrialDiscussion=n.value;break;case"endometrial_abnormal_bleeding":t.endometrialAbnormalBleeding=n.value;break;case"dexa_screening":t.dexaScreening=n.value;break;case"dexa_last_date":t.dexaLastDate=n.value;break;case"dexa_result":t.dexaResult=n.value;break;case"dexa_followup_status":t.dexaFollowupStatus=n.value;break;case"dexa_followup_date":t.dexaFollowupDate=n.value;break}return t}function fx(e,t){const n={};for(const r of e){const i=ym[r.metricType];i&&(n[i]=r.value)}return t&&(t.sex!=null&&(n.sex=_0(t.sex)),t.birthYear!=null&&(n.birthYear=t.birthYear),t.birthMonth!=null&&(n.birthMonth=t.birthMonth),t.unitSystem!=null&&(n.unitSystem=w0(t.unitSystem)),t.height!=null&&(n.heightCm=t.height)),n}function px(e,t){const n=[];for(const[r,i]of Object.entries(ya)){const s=e[r],o=t[r];s!==void 0&&s!==o&&n.push({metricType:i,value:s})}return n}function hx(e,t){const n={};return e.sex!==void 0&&e.sex!==t.sex&&(n.sex=y0(e.sex)),e.birthYear!==void 0&&e.birthYear!==t.birthYear&&(n.birthYear=e.birthYear),e.birthMonth!==void 0&&e.birthMonth!==t.birthMonth&&(n.birthMonth=e.birthMonth),e.unitSystem!==void 0&&e.unitSystem!==t.unitSystem&&(n.unitSystem=x0(e.unitSystem)),e.heightCm!==void 0&&e.heightCm!==t.heightCm&&(n.height=e.heightCm),Object.keys(n).length>0?n:null}function mx(e){return e.weightKg!==void 0?4:e.birthMonth!==void 0&&e.birthYear!==void 0&&e.birthYear>=1900?3:e.sex!==void 0&&e.heightCm!==void 0?2:1}const gx=["weight","waist","hba1c","ldl","total_cholesterol","hdl","triglycerides","systolic_bp","diastolic_bp","apob","creatinine","psa","lpa"],vx=js({heightCm:Ae().min(50,"Height must be at least 50 cm").max(250,"Height must be at most 250 cm"),sex:Is(["male","female"],{errorMap:()=>({message:"Please select male or female"})}),weightKg:Ae().min(20,"Weight must be at least 20 kg").max(300,"Weight must be at most 300 kg").optional(),waistCm:Ae().min(40,"Waist must be at least 40 cm").max(200,"Waist must be at most 200 cm").optional(),birthYear:Ae().min(1900,"Birth year must be after 1900").max(new Date().getFullYear(),"Birth year cannot be in the future").optional(),birthMonth:Ae().min(1,"Month must be between 1 and 12").max(12,"Month must be between 1 and 12").optional(),hba1c:Ae().min(9,"HbA1c must be at least 9 mmol/mol").max(195,"HbA1c must be at most 195 mmol/mol").optional(),ldlC:Ae().min(0,"LDL must be positive").max(12.9,"LDL must be at most 12.9 mmol/L").optional(),totalCholesterol:Ae().min(0,"Total cholesterol must be positive").max(15,"Total cholesterol must be at most 15 mmol/L").optional(),hdlC:Ae().min(0,"HDL must be positive").max(5.2,"HDL must be at most 5.2 mmol/L").optional(),triglycerides:Ae().min(0,"Triglycerides must be positive").max(22.6,"Triglycerides must be at most 22.6 mmol/L").optional(),apoB:Ae().min(0,"ApoB must be positive").max(3,"ApoB must be at most 3 g/L").optional(),creatinine:Ae().min(10,"Creatinine must be at least 10 mol/L").max(2650,"Creatinine must be at most 2650 mol/L").optional(),psa:Ae().min(0,"PSA must be positive").max(100,"PSA must be at most 100 ng/mL").optional(),lpa:Ae().min(0,"Lp(a) must be positive").max(750,"Lp(a) must be at most 750 nmol/L").optional(),systolicBp:Ae().min(60,"Systolic BP must be at least 60 mmHg").max(250,"Systolic BP must be at most 250 mmHg").optional(),diastolicBp:Ae().min(40,"Diastolic BP must be at least 40 mmHg").max(150,"Diastolic BP must be at most 150 mmHg").optional()});function yx(e){const t=vx.safeParse(e);return t.success?{success:!0,data:t.data}:{success:!1,errors:t.error}}function _x(e){const t={};for(const n of e.issues){const r=n.path.join(".");t[r]||(t[r]=n.message)}return t}const xx=["manual","apple_health","fitbit","lab_import"];js({metricType:Is(gx),value:Ae(),recordedAt:Tr().datetime().optional(),source:Is(xx).optional(),externalId:Tr().max(200).optional()}),js({sex:Ae().int().min(1).max(2).optional(),birthYear:Ae().int().min(1900,"Birth year must be after 1900").max(new Date().getFullYear(),"Birth year cannot be in the future").optional(),birthMonth:Ae().int().min(1,"Month must be between 1 and 12").max(12,"Month must be between 1 and 12").optional(),unitSystem:Ae().int().min(1).max(2).optional(),firstName:Tr().max(100).optional(),lastName:Tr().max(100).optional(),height:Ae().min(50).max(250).optional()}),js({medicationKey:Is(["statin","ezetimibe","statin_escalation","pcsk9i","glp1","glp1_escalation","sglt2i","metformin"]),drugName:Tr().min(1,"Drug name is required").max(100),doseValue:Ae().positive().nullable().optional(),doseUnit:Tr().max(20).nullable().optional()}),js({screeningKey:Is(["colorectal_method","colorectal_last_date","colorectal_result","colorectal_followup_status","colorectal_followup_date","breast_frequency","breast_last_date","breast_result","breast_followup_status","breast_followup_date","cervical_method","cervical_last_date","cervical_result","cervical_followup_status","cervical_followup_date","lung_smoking_history","lung_pack_years","lung_screening","lung_last_date","lung_result","lung_followup_status","lung_followup_date","prostate_discussion","prostate_psa_value","prostate_last_date","endometrial_discussion","endometrial_abnormal_bleeding","dexa_screening","dexa_last_date","dexa_result","dexa_followup_status","dexa_followup_date"]),value:Tr().min(1,"Screening value is required").max(500)});function wx(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Sx(e,t,n){const r=fn[e];if(!r)return t;const i=br[r];if(!i)return t;const s=i.label.si,o=i.label[n],a=i.decimalPlaces[n],l=i.fromCanonical[n],u=new RegExp(`(\\d+\\.?\\d*)\\s*${wx(s)}`,"g");return t.replace(u,(d,p)=>{const m=parseFloat(p),v=l(m);return`${a===0?Math.round(v).toString():v.toFixed(a)} ${o}`})}function kx(e,t){if(t==="si")return e;const n={};for(const[r,i]of Object.entries(e))n[r]=Sx(r,i,t);return n}const Ex=["screening_colorectal","screening_breast","screening_cervical","screening_lung","screening_prostate","screening_dexa","blood_test_lipids","blood_test_hba1c","blood_test_creatinine","medication_review"],bx={screening_colorectal:"Colorectal screening reminders",screening_breast:"Mammogram reminders",screening_cervical:"Cervical screening reminders",screening_lung:"Lung screening reminders",screening_prostate:"PSA test reminders",screening_dexa:"Bone density (DEXA) reminders",blood_test_lipids:"Lipid panel reminders",blood_test_hba1c:"HbA1c test reminders",blood_test_creatinine:"Creatinine test reminders",medication_review:"Medication review reminders"},Nx=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],Cx=[{value:"01",label:"Jan"},{value:"02",label:"Feb"},{value:"03",label:"Mar"},{value:"04",label:"Apr"},{value:"05",label:"May"},{value:"06",label:"Jun"},{value:"07",label:"Jul"},{value:"08",label:"Aug"},{value:"09",label:"Sep"},{value:"10",label:"Oct"},{value:"11",label:"Nov"},{value:"12",label:"Dec"}];function _m(e,t,n,r=!1){const i=r?Cx:Nx;return e===String(t)?i.filter(s=>parseInt(s.value,10)<=n):i}function xm(e=11){const t=new Date().getFullYear();return Array.from({length:e},(n,r)=>t-r)}function _u(e){return new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}function Tx({value:e,onChange:t,label:n,shortMonths:r=!1,yearCount:i=11,className:s=""}){const o=new Date,a=o.getFullYear(),l=o.getMonth()+1,u=xm(i),d=_m(e.year,a,l,r),p=v=>{t({...e,month:v})},m=v=>{let w=e.month;v===String(a)&&parseInt(e.month,10)>l&&(w=String(l).padStart(2,"0")),t({year:v,month:w})};return c.jsxs("div",{className:`health-field ${s}`.trim(),children:[n&&c.jsx("label",{children:n}),c.jsxs("div",{className:"date-picker-row",children:[c.jsx("select",{value:e.month,onChange:v=>p(v.target.value),"aria-label":"Month",children:d.map(v=>c.jsx("option",{value:v.value,children:v.label},v.value))}),c.jsx("select",{value:e.year,onChange:v=>m(v.target.value),"aria-label":"Year",children:u.map(v=>c.jsx("option",{value:v,children:v},v))})]})]})}function jx({value:e,onChange:t,shortMonths:n=!0,yearCount:r=11}){const i=new Date,s=i.getFullYear(),o=i.getMonth()+1,a=xm(r),l=_m(e.year,s,o,n),u=p=>{t({...e,month:p})},d=p=>{let m=e.month;p===String(s)&&parseInt(e.month,10)>o&&(m=String(o).padStart(2,"0")),t({year:p,month:m})};return c.jsxs(c.Fragment,{children:[c.jsx("select",{value:e.month,onChange:p=>u(p.target.value),"aria-label":"Month",children:l.map(p=>c.jsx("option",{value:p.value,children:p.label},p.value))}),c.jsx("select",{value:e.year,onChange:p=>d(p.target.value),"aria-label":"Year",children:a.map(p=>c.jsx("option",{value:p,children:p},p))})]})}function wm(){const e=new Date;return{year:String(e.getFullYear()),month:String(e.getMonth()+1).padStart(2,"0")}}function xu(e){return`${e.year}-${e.month}-01T00:00:00.000Z`}const Ix=[{field:"weightKg",name:"Weight",placeholder:{si:"70",conv:"154"}},{field:"waistCm",name:"Waist Circumference",placeholder:{si:"80",conv:"31"}}],Lx=[{field:"hba1c",name:"HbA1c",placeholder:{si:"39",conv:"5.5"},step:{si:"1",conv:"0.1"},hint:{si:"Normal: <39 mmol/mol",conv:"Normal: <5.7%"}},{field:"creatinine",name:"Creatinine",placeholder:{si:"80",conv:"0.9"},step:{si:"1",conv:"0.01"},hint:{si:"Normal: 4590 mol/L",conv:"Normal: 0.51.0 mg/dL"},hintMale:{si:"Normal: 60110 mol/L",conv:"Normal: 0.71.2 mg/dL"},hintFemale:{si:"Normal: 4590 mol/L",conv:"Normal: 0.51.0 mg/dL"}},{field:"apoB",name:"ApoB",placeholder:{si:"0.5",conv:"50"},step:{si:"0.01",conv:"1"},hint:{si:"Optimal: <0.5 g/L",conv:"Optimal: <50 mg/dL"}},{field:"ldlC",name:"LDL Cholesterol",placeholder:{si:"1.4",conv:"55"},step:{si:"0.1",conv:"1"},hint:{si:"Optimal: <1.4 mmol/L",conv:"Optimal: <55 mg/dL"}},{field:"totalCholesterol",name:"Total Cholesterol",placeholder:{si:"3.5",conv:"135"},step:{si:"0.1",conv:"1"},hint:{si:"Optimal: <3.5 mmol/L",conv:"Optimal: <135 mg/dL"}},{field:"hdlC",name:"HDL Cholesterol",placeholder:{si:"1.3",conv:"50"},step:{si:"0.1",conv:"1"},hint:{si:"Optimal: >1.0 mmol/L (men), >1.3 mmol/L (women)",conv:"Optimal: >40 mg/dL (men), >50 mg/dL (women)"},hintMale:{si:"Optimal: >1.0 mmol/L",conv:"Optimal: >40 mg/dL"},hintFemale:{si:"Optimal: >1.3 mmol/L",conv:"Optimal: >50 mg/dL"}},{field:"triglycerides",name:"Triglycerides",placeholder:{si:"1.1",conv:"100"},step:{si:"0.1",conv:"1"},hint:{si:"Normal: <1.7 mmol/L",conv:"Normal: <150 mg/dL"}},{field:"lpa",name:"Lp(a)",placeholder:{si:"30",conv:"30"},step:{si:"1",conv:"1"},hint:{si:"Normal: <75 nmol/L",conv:"Normal: <75 nmol/L"}}];function Sm({inputs:e,onChange:t,errors:n,unitSystem:r,onUnitSystemChange:i,isLoggedIn:s,previousMeasurements:o,medications:a,onMedicationChange:l,screenings:u,onScreeningChange:d,onSaveLongitudinal:p,isSavingLongitudinal:m,hasApiResponse:v,formStage:w,mobileActiveTab:y}){const[N,h]=A.useState(!1),[f,g]=A.useState({}),[E,_]=A.useState({}),S=!!(e.sex&&e.heightCm&&e.birthYear&&e.birthYear>=1900&&e.birthMonth),[I,j]=A.useState(!1),[J,F]=A.useState(S);A.useEffect(()=>{if(S&&!N){j(!0);const x=setTimeout(()=>{F(!0)},400);return()=>clearTimeout(x)}else F(!1),j(!1)},[S,N]);const[V,ot]=A.useState(""),[ve,L]=A.useState("");A.useEffect(()=>{if(r==="conventional"&&e.heightCm!==void 0){const{feet:x,inches:k}=Zh(e.heightCm);ot(String(x)),L(String(k))}else r==="si"&&(ot(""),L(""))},[e.heightCm,r]);const[Xe,Qe]=A.useState(wm),[Fe,D]=A.useState(wm),U=(x,k)=>{t({...e,[x]:k})},W=(x,k)=>{const O=parseFloat(k);if(isNaN(O))return;const le=fn[x];return le?k0(le,O,r):O},se=(x,k)=>{if(k===void 0)return"";const O=fn[x];if(!O)return String(k);const le=Wh(O,k,r),Se=br[O].decimalPlaces[r],pe=parseFloat(le.toFixed(Se));return String(pe)},we=(x,k)=>{const O=fn[x];return O?`${k} (${He(O,r)})`:k},mn=x=>{const k=fn[x];return k?E0(k,r):{min:0,max:999}},Tt=x=>{const k=parseFloat(x);return isNaN(k)?void 0:k},Dn=x=>{if(!s)return null;const k=fn[x];if(!k)return null;const O=o.find(le=>le.metricType===k);return O?se(x,O.value):null},tn=x=>{if(!s)return null;const k=fn[x];if(!k)return null;const O=o.find(pe=>pe.metricType===k);if(!O)return null;const le=se(x,O.value),Se=He(k,r);return`${le} ${Se}  ${_u(O.recordedAt)}`},ur=jr.some(x=>e[x]!==void 0),Ua=(x,k=!1)=>{const{field:O,name:le,placeholder:Se,step:pe,hint:ze,hintMale:De,hintFemale:he}=x,Je=e.sex==="male"&&De?De:e.sex==="female"&&he?he:ze,Y=mn(O),nt=tn(O),Ce=O==="weightKg"&&w===3&&e.weightKg===void 0;return c.jsxs("div",{className:`health-field${Ce?" field-attention":""}`,children:[c.jsx("label",{htmlFor:O,children:we(O,le)}),c.jsxs("div",{className:"longitudinal-input-row",children:[c.jsx("input",{type:"number",id:O,value:f[O]!==void 0?f[O]:se(O,e[O]),onChange:Re=>{const ye=Re.target.value;g(b=>({...b,[O]:ye})),!(ye==="0"&&e[O]===void 0&&f[O]===void 0)&&U(O,W(O,ye))},onBlur:()=>g(Re=>{const ye={...Re};return delete ye[O],ye}),placeholder:Dn(O)??(r==="si"?Se.si:Se.conv),step:pe?r==="si"?pe.si:pe.conv:void 0,min:Y.min,max:Y.max,className:n[O]?"error":""}),s&&v&&e[O]!==void 0&&c.jsx("button",{className:"btn-primary save-inline-btn",onClick:()=>p(k?xu(Xe):void 0),disabled:m,title:"Save new values",children:m?"...":"Save"})]}),n[O]&&c.jsx("span",{className:"error-message",children:n[O]}),(Je||nt)&&c.jsxs("div",{className:"field-meta",children:[Je&&c.jsx("span",{className:"field-hint",children:r==="si"?Je.si:Je.conv}),nt&&c.jsx("a",{className:"previous-value",href:`/pages/health-history?metric=${fn[O]}`,target:"_blank",rel:"noopener noreferrer",children:nt})]})]},O)},Bs=()=>{if(!s)return null;const x=fn.systolicBp,k=fn.diastolicBp,O=x?o.find(he=>he.metricType===x):null,le=k?o.find(he=>he.metricType===k):null;if(!O&&!le)return null;const Se=O?Math.round(O.value):"?",pe=le?Math.round(le.value):"?",De=[O==null?void 0:O.recordedAt,le==null?void 0:le.recordedAt].filter(Boolean).sort((he,Je)=>new Date(Je).getTime()-new Date(he).getTime())[0];return`${Se}/${pe} mmHg  ${_u(De)}`},Va=e.systolicBp!==void 0||e.diastolicBp!==void 0,R=()=>c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"unit-toggle",children:[c.jsx("label",{children:"Units:"}),c.jsxs("select",{value:r,onChange:x=>i(x.target.value),children:[c.jsx("option",{value:"si",children:"Metric (kg, cm, mmol/L)"}),c.jsx("option",{value:"conventional",children:"US (lbs, in, mg/dL)"})]})]}),c.jsxs("section",{className:"health-section",children:[c.jsxs("h3",{className:`health-section-title${S?" health-section-title--collapsible":""}`,onClick:S?()=>h(!N):void 0,children:["Basic Information",S&&c.jsx("span",{className:`collapse-chevron${N?" expanded":""}`,children:""})]}),c.jsx("div",{className:`prefill-summary-wrapper${J&&!N?" visible":""}`,children:c.jsxs("p",{className:"prefill-summary",onClick:()=>h(!0),children:[e.sex==="male"?"Male":"Female","  ",Xh(e.heightCm,r),"  Born ",["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][(e.birthMonth||1)-1]," ",e.birthYear,e.birthYear&&e.birthMonth?` (Age ${pi(e.birthYear,e.birthMonth)})`:""]})}),c.jsx("div",{className:`prefill-fields-wrapper${I?" collapsing":""}${J&&!N?" collapsed":""}`,children:c.jsxs("div",{children:[c.jsxs("div",{className:`health-field${e.sex?"":" field-attention"}`,children:[c.jsx("label",{htmlFor:"sex",children:"Sex"}),c.jsxs("select",{id:"sex",value:e.sex||"",onChange:x=>U("sex",x.target.value),className:n.sex?"error":"",children:[c.jsx("option",{value:"",children:"Select..."}),c.jsx("option",{value:"male",children:"Male"}),c.jsx("option",{value:"female",children:"Female"})]}),n.sex&&c.jsx("span",{className:"error-message",children:n.sex})]}),c.jsxs("div",{className:`health-field${e.sex&&!e.heightCm?" field-attention":""}`,children:[c.jsx("label",{htmlFor:"heightCm",children:r==="si"?"Height (cm)":"Height"}),r==="si"?c.jsx("input",{type:"number",id:"heightCm",value:f.heightCm!==void 0?f.heightCm:se("heightCm",e.heightCm),onChange:x=>{const k=x.target.value;g(O=>({...O,heightCm:k})),U("heightCm",W("heightCm",k))},onBlur:()=>g(x=>{const k={...x};return delete k.heightCm,k}),placeholder:"170",min:mn("heightCm").min,max:mn("heightCm").max,className:n.heightCm?"error":""}):c.jsxs("div",{className:"height-fieldset",children:[c.jsx("input",{type:"text",id:"heightFeet",inputMode:"numeric",pattern:"[0-9]*",value:V,onChange:x=>{const k=x.target.value.replace(/[^0-9]/g,"");ot(k);const O=parseInt(k,10)||0,le=parseInt(ve,10)||0;k!==""||ve!==""?U("heightCm",Kh(O,le)):U("heightCm",void 0)},placeholder:"5",maxLength:1,className:n.heightCm?"error":""}),c.jsx("span",{className:"height-unit",children:"ft"}),c.jsx("input",{type:"text",id:"heightInches",inputMode:"numeric",pattern:"[0-9]*",value:ve,onChange:x=>{const k=x.target.value.replace(/[^0-9]/g,"");L(k);const O=parseInt(V,10)||0,le=parseInt(k,10)||0;V!==""||k!==""?U("heightCm",Kh(O,le)):U("heightCm",void 0)},placeholder:"10",maxLength:2,className:n.heightCm?"error":""}),c.jsx("span",{className:"height-unit",children:"in"})]}),n.heightCm&&c.jsx("span",{className:"error-message",children:n.heightCm})]}),w>=2&&c.jsxs("div",{className:"health-field-group stage-reveal",children:[c.jsxs("div",{className:`health-field${w===2&&!e.birthMonth?" field-attention":""}`,children:[c.jsx("label",{htmlFor:"birthMonth",children:"Birth Month"}),c.jsxs("select",{id:"birthMonth",value:e.birthMonth||"",onChange:x=>U("birthMonth",Tt(x.target.value)),children:[c.jsx("option",{value:"",children:"Month..."}),["January","February","March","April","May","June","July","August","September","October","November","December"].map((x,k)=>c.jsx("option",{value:k+1,children:x},k+1))]})]}),c.jsxs("div",{className:`health-field${w===2&&e.birthMonth&&!e.birthYear?" field-attention":""}`,children:[c.jsx("label",{htmlFor:"birthYear",children:"Birth Year"}),c.jsx("input",{type:"number",id:"birthYear",value:e.birthYear||"",onChange:x=>U("birthYear",Tt(x.target.value)),placeholder:"1980",min:"1900",max:new Date().getFullYear()})]})]})]})})]})]}),M=()=>c.jsxs("section",{className:"health-section",children:[Ix.map(x=>Ua(x)),w>=4&&c.jsxs("div",{className:"health-field stage-reveal",children:[c.jsxs("label",{children:["Blood Pressure (mmHg)",c.jsxs("span",{className:"bp-info-tooltip-wrap",tabIndex:0,children:[c.jsx("span",{className:"bp-info-icon","aria-label":"How to measure blood pressure",children:""}),c.jsxs("span",{className:"bp-info-tooltip",children:["Use a home blood pressure monitor or ask your doctor at your next visit."," ",c.jsx("a",{href:"https://www.heart.org/en/health-topics/high-blood-pressure/understanding-blood-pressure-readings/monitoring-your-blood-pressure-at-home",target:"_blank",rel:"noopener noreferrer",children:"Learn more "})]})]})]}),c.jsxs("div",{className:"longitudinal-input-row",children:[c.jsxs("div",{className:"bp-fieldset",children:[c.jsx("input",{type:"number",inputMode:"numeric",id:"systolicBp",value:e.systolicBp??"",onChange:x=>U("systolicBp",Tt(x.target.value)),placeholder:Dn("systolicBp")??"120",min:60,max:250,className:n.systolicBp?"error":""}),c.jsx("span",{className:"bp-separator",children:"/"}),c.jsx("input",{type:"number",inputMode:"numeric",id:"diastolicBp",value:e.diastolicBp??"",onChange:x=>U("diastolicBp",Tt(x.target.value)),placeholder:Dn("diastolicBp")??"80",min:40,max:150,className:n.diastolicBp?"error":""})]}),s&&v&&Va&&c.jsx("button",{className:"btn-primary save-inline-btn",onClick:()=>p(),disabled:m,title:"Save new values",children:m?"...":"Save"})]}),n.systolicBp&&c.jsx("span",{className:"error-message",children:n.systolicBp}),n.diastolicBp&&c.jsx("span",{className:"error-message",children:n.diastolicBp}),c.jsxs("div",{className:"field-meta",children:[c.jsxs("span",{className:"field-hint",children:["Target: <",e.birthYear&&e.birthMonth&&pi(e.birthYear,e.birthMonth)>=65?"130/80":"120/80"," mmHg"]}),Bs()&&c.jsx("a",{className:"previous-value",href:"/pages/health-history?metric=systolic_bp",target:"_blank",rel:"noopener noreferrer",children:Bs()})]})]})]}),H=()=>c.jsxs("section",{className:"health-section",children:[c.jsx("h3",{className:"health-section-title",children:"Blood Test Results"}),c.jsx(Tx,{value:Xe,onChange:Qe,label:"When were these tests done?",className:"blood-test-date"}),c.jsx("p",{className:"health-section-desc",children:"To enter results from different dates, save each batch separately."}),Lx.map(x=>Ua(x,!0))]}),te=()=>c.jsxs(c.Fragment,{children:[(()=>{var nn,Ee,rn,qe,ce;const x=e.apoB??((nn=o.find(G=>G.metricType==="apob"))==null?void 0:nn.value),k=e.ldlC??((Ee=o.find(G=>G.metricType==="ldl"))==null?void 0:Ee.value),O=e.totalCholesterol??((rn=o.find(G=>G.metricType==="total_cholesterol"))==null?void 0:rn.value),le=e.hdlC??((qe=o.find(G=>G.metricType==="hdl"))==null?void 0:qe.value),Se=O!==void 0&&le!==void 0?O-le:void 0;if(!(x!==void 0&&x>Le.apobGl||k!==void 0&&k>Le.ldlMmol||Se!==void 0&&Se>Le.nonHdlMmol))return null;const ze=vu(a),De=ze.statin,he=(De==null?void 0:De.drug)??"none",Je=(De==null?void 0:De.dose)??null,Y=he!=="not_tolerated",nt=De&&he!=="none"&&he!=="not_tolerated",Ce=((ce=oa[he])==null?void 0:ce.doses)??[],Re=nt||he==="not_tolerated",ye=ze.ezetimibe==="yes"||ze.ezetimibe==="not_tolerated",b=nt&&iu(he,Je),ke=nt&&Mh(he,Je),We=nt&&Ah(he,Je),Te=Re&&ye&&Y&&(b||ke),xt=ze.statinEscalation==="not_tolerated",je=Re&&ye&&(!Y||We||Te&&xt),wt=()=>{ze.ezetimibe&&l("ezetimibe","not_yet",null,null),ze.statinEscalation&&l("statin_escalation","not_yet",null,null),ze.pcsk9i&&l("pcsk9i","not_yet",null,null)},{introText:Ge,lipidName:jt}=(()=>{if(x!==void 0&&x>Le.apobGl){const G=se("apoB",x),_e=se("apoB",Le.apobGl),St=He("apob",r);return{introText:`Your ApoB is ${G} ${St}, which is above the treatment target of ${_e} ${St}.`,lipidName:"ApoB"}}if(Se!==void 0&&Se>Le.nonHdlMmol){const G=se("ldlC",Se),_e=se("ldlC",Le.nonHdlMmol),St=He("ldl",r);return{introText:`Your non-HDL cholesterol is ${G} ${St}, which is above the treatment target of ${_e} ${St}.`,lipidName:"non-HDL cholesterol"}}if(k!==void 0&&k>Le.ldlMmol){const G=se("ldlC",k),_e=se("ldlC",Le.ldlMmol),St=He("ldl",r);return{introText:`Your LDL is ${G} ${St}, which is above the treatment target of ${_e} ${St}.`,lipidName:"LDL"}}return{introText:"Your lipid levels are above treatment targets.",lipidName:"LDL"}})();return c.jsx("div",{className:"section-card",children:c.jsxs("section",{className:"health-section medication-cascade",children:[c.jsx("h3",{className:"health-section-title",children:"Cholesterol Medications"}),c.jsxs("p",{className:"health-section-desc",children:[Ge," In addition to a great diet, medications can be added in steps."]}),c.jsxs("div",{className:"health-field",children:[c.jsx("label",{htmlFor:"statin-name",children:"Statin"}),c.jsx("p",{className:"med-step-hint",children:"Statins are the most effective first step. They reduce cholesterol production in the liver."}),c.jsxs("div",{className:"statin-selection-row",children:[c.jsx("select",{id:"statin-name",value:he,onChange:G=>{var St;const _e=G.target.value;if(wt(),_e==="none"||_e==="not_tolerated")l("statin",_e,null,null);else{const Ya=((St=oa[_e])==null?void 0:St.doses[0])??null;l("statin",_e,Ya,"mg")}},children:u0.map(G=>c.jsx("option",{value:G.value,children:G.label},G.value))}),Ce.length>0&&c.jsx("select",{id:"statin-dose",value:Je??"",onChange:G=>{const _e=parseInt(G.target.value,10);wt(),l("statin",he,_e,"mg")},children:Ce.map(G=>c.jsxs("option",{value:G,children:[G,"mg"]},G))})]})]}),Re&&c.jsxs("div",{className:"health-field med-step-enter",children:[c.jsx("label",{htmlFor:"ezetimibe",children:"On Ezetimibe 10mg?"}),c.jsx("p",{className:"med-step-hint",children:`Ezetimibe works differently  it blocks cholesterol absorption in the intestine, adding ~20% more ${jt} reduction.`}),c.jsx("select",{id:"ezetimibe",value:ze.ezetimibe||"not_yet",onChange:G=>{const _e=G.target.value;_e==="yes"?l("ezetimibe","ezetimibe",10,"mg"):l("ezetimibe",_e,null,null)},children:f0.map(G=>c.jsx("option",{value:G.value,children:G.label},G.value))})]}),Te&&c.jsxs("div",{className:"health-field med-step-enter",children:[c.jsx("label",{htmlFor:"statin-escalation",children:b?"Tried increasing statin dose?":"Tried switching to a more potent statin?"}),c.jsx("p",{className:"med-step-hint",children:b?`A higher dose may lower your ${jt} further.`:`A more potent statin can provide greater ${jt} reduction at the same or lower dose.`}),c.jsxs("select",{id:"statin-escalation",value:ze.statinEscalation||"not_yet",onChange:G=>l("statin_escalation",G.target.value,null,null),children:[c.jsx("option",{value:"not_yet",children:"Not yet"}),c.jsx("option",{value:"not_tolerated",children:b?"Didn't tolerate a higher dose":"Didn't tolerate switching"})]})]}),je&&c.jsxs("div",{className:"health-field med-step-enter",children:[c.jsx("label",{htmlFor:"pcsk9i",children:"On a PCSK9 inhibitor?"}),c.jsx("p",{className:"med-step-hint",children:`PCSK9 inhibitors are injectable medications that help your body clear ${jt} from the blood. They can reduce ${jt} by ~50%.`}),c.jsx("select",{id:"pcsk9i",value:ze.pcsk9i||"not_yet",onChange:G=>{const _e=G.target.value;_e==="yes"?l("pcsk9i","pcsk9i",140,"mg"):l("pcsk9i",_e,null,null)},children:p0.map(G=>c.jsx("option",{value:G.value,children:G.label},G.value))})]})]})})})(),(()=>{var jv,Iv,Lv,Dv,Rv,Pv,Ov,Mv;const x=e.weightKg??((jv=o.find(K=>K.metricType==="weight"))==null?void 0:jv.value),k=e.heightCm??((Iv=o.find(K=>K.metricType==="height"))==null?void 0:Iv.value),O=e.waistCm??((Lv=o.find(K=>K.metricType==="waist"))==null?void 0:Lv.value),le=e.hba1c??((Dv=o.find(K=>K.metricType==="hba1c"))==null?void 0:Dv.value),Se=e.triglycerides??((Rv=o.find(K=>K.metricType==="triglycerides"))==null?void 0:Rv.value),pe=e.systolicBp??((Pv=o.find(K=>K.metricType==="systolic_bp"))==null?void 0:Pv.value),ze=x!==void 0&&k!==void 0?cu(x,k):void 0,De=O!==void 0&&k!==void 0?O/k:void 0;if(ze===void 0||ze<=25)return null;const he=le!==void 0&&le>=qn.prediabetes,Je=Se!==void 0&&Se>=er.borderline,Y=pe!==void 0&&pe>=un.stage1Sys,nt=De!==void 0&&De>=.5;if(ze<=28&&!he&&!Je&&!Y&&!nt)return null;const Ce=vu(a),Re=Ce.glp1,ye=(Re==null?void 0:Re.drug)??"none",b=(Re==null?void 0:Re.dose)??null,ke=Re&&ye!=="none"&&ye!=="not_tolerated"&&ye!=="other",We=ye==="other",Te=ke||We||ye==="not_tolerated",xt=((Ov=su[ye])==null?void 0:Ov.doses)??[],je=ye!=="not_tolerated",wt=ke&&aa(ye,b),Ge=ke&&Fh(ye,b)||We,jt=ke&&m0(ye,b),nn=Te&&je&&(wt||Ge),Ee=Ce.glp1Escalation==="not_tolerated",rn=Te&&(!je||jt||nn&&Ee),qe=Ce.sglt2i,ce=(qe==null?void 0:qe.drug)??"none",G=(qe==null?void 0:qe.dose)??null,St=qe&&ce!=="none"&&ce!=="not_tolerated"||ce==="not_tolerated",Ya=((Mv=zh[ce])==null?void 0:Mv.doses)??[],AE=rn&&St,Hs=K=>{K==="glp1"?(Ce.glp1Escalation&&l("glp1_escalation","not_yet",null,null),Ce.sglt2i&&l("sglt2i","none",null,null),Ce.metformin&&l("metformin","none",null,null)):K==="glp1_escalation"?(Ce.sglt2i&&l("sglt2i","none",null,null),Ce.metformin&&l("metformin","none",null,null)):K==="sglt2i"&&Ce.metformin&&l("metformin","none",null,null)},ji=[];return he&&ji.push("prediabetic HbA1c"),Je&&ji.push("elevated triglycerides"),Y&&ji.push("elevated blood pressure"),nt&&ji.push("elevated waist-to-height ratio"),c.jsx("div",{className:"section-card",children:c.jsxs("section",{className:"health-section medication-cascade",children:[c.jsx("h3",{className:"health-section-title",children:"Weight & Diabetes Medications"}),c.jsx("p",{className:"health-section-desc",children:ji.length>0?`Your BMI and ${ji.join(", ")} suggest you may benefit from medications that support weight management and metabolic health.`:"Your BMI suggests you may benefit from medications that support weight management and metabolic health."}),c.jsxs("div",{className:"health-field",children:[c.jsx("label",{htmlFor:"glp1-name",children:"GLP-1 Medication"}),c.jsx("p",{className:"med-step-hint",children:"GLP-1 medications reduce appetite and improve blood sugar control, often leading to significant weight loss."}),c.jsxs("div",{className:"statin-selection-row",children:[c.jsx("select",{id:"glp1-name",value:ye,onChange:K=>{var Us;const ht=K.target.value;if(Hs("glp1"),ht==="none"||ht==="not_tolerated"||ht==="other")l("glp1",ht,null,null);else{const cd=((Us=su[ht])==null?void 0:Us.doses[0])??null;l("glp1",ht,cd,"mg")}},children:h0.map(K=>c.jsx("option",{value:K.value,children:K.label},K.value))}),xt.length>0&&c.jsx("select",{id:"glp1-dose",value:b??"",onChange:K=>{const ht=parseFloat(K.target.value);Hs("glp1"),l("glp1",ye,ht,"mg")},children:xt.map(K=>c.jsxs("option",{value:K,children:[K,"mg"]},K))})]})]}),nn&&c.jsxs("div",{className:"health-field med-step-enter",children:[c.jsx("label",{htmlFor:"glp1-escalation",children:wt?"Tried increasing GLP-1 dose?":"Tried switching to Tirzepatide?"}),c.jsx("p",{className:"med-step-hint",children:wt?"A higher dose may improve results.":"Tirzepatide targets two hormones (GIP + GLP-1) and may be more effective for weight loss."}),c.jsxs("select",{id:"glp1-escalation",value:Ce.glp1Escalation||"not_yet",onChange:K=>{Hs("glp1_escalation"),l("glp1_escalation",K.target.value,null,null)},children:[c.jsx("option",{value:"not_yet",children:"Not yet"}),c.jsx("option",{value:"not_tolerated",children:wt?"Didn't tolerate a higher dose":"Didn't tolerate switching"})]})]}),rn&&c.jsxs("div",{className:"health-field med-step-enter",children:[c.jsx("label",{htmlFor:"sglt2i-name",children:"SGLT2 Inhibitor"}),c.jsx("p",{className:"med-step-hint",children:"SGLT2 inhibitors help your kidneys remove excess glucose and offer additional heart and kidney protection."}),c.jsxs("div",{className:"statin-selection-row",children:[c.jsx("select",{id:"sglt2i-name",value:ce,onChange:K=>{var Us;const ht=K.target.value;if(Hs("sglt2i"),ht==="none"||ht==="not_tolerated")l("sglt2i",ht,null,null);else{const cd=((Us=zh[ht])==null?void 0:Us.doses[0])??null;l("sglt2i",ht,cd,"mg")}},children:g0.map(K=>c.jsx("option",{value:K.value,children:K.label},K.value))}),Ya.length>0&&c.jsx("select",{id:"sglt2i-dose",value:G??"",onChange:K=>{const ht=parseFloat(K.target.value);Hs("sglt2i"),l("sglt2i",ce,ht,"mg")},children:Ya.map(K=>c.jsxs("option",{value:K,children:[K,"mg"]},K))})]})]}),AE&&c.jsxs("div",{className:"health-field med-step-enter",children:[c.jsx("label",{htmlFor:"metformin",children:"Metformin"}),c.jsx("p",{className:"med-step-hint",children:"Metformin improves insulin sensitivity. It is well-studied and inexpensive."}),c.jsx("select",{id:"metformin",value:Ce.metformin||"none",onChange:K=>l("metformin",K.target.value,null,null),children:v0.map(K=>c.jsx("option",{value:K.value,children:K.label},K.value))})]})]})})})()]}),re=()=>c.jsx(c.Fragment,{children:(()=>{const x=e.birthYear?pi(e.birthYear,e.birthMonth??1):void 0;if(x===void 0)return null;const k=e.sex,O=yu(u),le=new Date,Se=le.getFullYear(),pe=le.getMonth()+1,ze=Array.from({length:11},(b,ke)=>Se-ke),De=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],he=(b,ke,We)=>{const Te=(We==null?void 0:We.futureOnly)??!1,xt=Y(b)||"",[je,wt]=xt.split("-"),Ge=E[b],jt=(Ge==null?void 0:Ge.year)??je??"",nn=(Ge==null?void 0:Ge.month)??wt??"",Ee=Te?Array.from({length:6},(ce,G)=>Se+G):ze,rn=Te?jt===String(Se)?De.filter(ce=>parseInt(ce.value,10)>=pe):De:jt===String(Se)?De.filter(ce=>parseInt(ce.value,10)<=pe):De,qe=(ce,G)=>{let _e=G;Te?ce===String(Se)&&G&&parseInt(G,10)<pe&&(_e=""):ce===String(Se)&&G&&parseInt(G,10)>pe&&(_e=""),_(St=>({...St,[b]:{year:ce,month:_e}})),ce&&_e?d(b,`${ce}-${_e}`):!ce&&!_e&&d(b,"")};return c.jsxs("div",{className:"health-field",children:[c.jsx("label",{children:ke}),c.jsxs("div",{className:"date-picker-row",children:[c.jsxs("select",{id:`${b}-month`,value:nn,onChange:ce=>qe(jt,ce.target.value),"aria-label":"Month",children:[c.jsx("option",{value:"",children:"Month"}),rn.map(ce=>c.jsx("option",{value:ce.value,children:ce.label},ce.value))]}),c.jsxs("select",{id:`${b}-year`,value:jt,onChange:ce=>qe(ce.target.value,nn),"aria-label":"Year",children:[c.jsx("option",{value:"",children:"Year"}),Ee.map(ce=>c.jsx("option",{value:ce,children:ce},ce))]})]})]})},Je=b=>{const ke=b.replace(/_([a-z])/g,(We,Te)=>Te.toUpperCase());return O[ke]},Y=b=>Je(b),nt=b=>Je(b),Ce=b=>{Y(`${b}_result`)&&d(`${b}_result`,""),Y(`${b}_followup_status`)&&d(`${b}_followup_status`,""),Y(`${b}_followup_date`)&&d(`${b}_followup_date`,"")},Re=(b,ke)=>{if(!Y(`${b}_last_date`))return null;const We=Y(`${b}_result`),Te=Y(`${b}_followup_status`),xt=ke?`${b}_${ke}`:`${b}_other`,je=Uh[xt],wt=je!=null&&je.followupName?je.followupName.charAt(0).toUpperCase()+je.followupName.slice(1):"Follow-up";return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"health-field",children:[c.jsx("label",{htmlFor:`${b}-result`,children:"Result"}),c.jsxs("select",{id:`${b}-result`,value:We||"",onChange:Ge=>{d(`${b}_result`,Ge.target.value),Ge.target.value!=="abnormal"&&(Y(`${b}_followup_status`)&&d(`${b}_followup_status`,""),Y(`${b}_followup_date`)&&d(`${b}_followup_date`,""))},children:[c.jsx("option",{value:"",children:"Select..."}),c.jsx("option",{value:"normal",children:"Normal"}),c.jsx("option",{value:"abnormal",children:"Abnormal"}),c.jsx("option",{value:"awaiting",children:"Awaiting results"})]})]}),We==="abnormal"&&c.jsxs("div",{className:"health-field",children:[c.jsxs("label",{htmlFor:`${b}-followup-status`,children:[wt," status"]}),c.jsxs("select",{id:`${b}-followup-status`,value:Te||"",onChange:Ge=>{d(`${b}_followup_status`,Ge.target.value),(Ge.target.value==="not_organized"||Ge.target.value==="")&&Y(`${b}_followup_date`)&&d(`${b}_followup_date`,"")},children:[c.jsx("option",{value:"",children:"Select..."}),c.jsx("option",{value:"not_organized",children:"Not yet organized"}),c.jsx("option",{value:"scheduled",children:"Scheduled"}),c.jsx("option",{value:"completed",children:"Completed"})]})]}),We==="abnormal"&&(Te==="scheduled"||Te==="completed")&&he(`${b}_followup_date`,Te==="completed"?`When was the ${(je==null?void 0:je.followupName)??"follow-up"} completed?`:`When is the ${(je==null?void 0:je.followupName)??"follow-up"} scheduled?`,{futureOnly:Te==="scheduled"})]})};return x>=35||k==="female"&&x>=25||k==="female"&&x>=40||x>=50&&x<=80||k==="male"&&x>=45||k==="female"&&x>=45?c.jsx("div",{className:"section-card",children:c.jsxs("section",{className:"health-section screening-cascade",children:[c.jsx("h3",{className:"health-section-title",children:"Cancer Screening"}),c.jsx("p",{className:"health-section-desc",children:"Screening recommendations based on your age and sex. Discuss all screening decisions with your doctor."}),x>=35&&x<=85&&c.jsxs("div",{className:"screening-group",children:[c.jsx("h4",{children:"Colorectal"}),x<45&&c.jsx("div",{className:"screening-notice",children:"Note: ACS guidelines recommend starting colorectal screening at age 45. Dr Brad personally starts at age 35 due to increasing rates of colorectal cancer in younger adults. Discuss timing with your doctor."}),x<=75?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"health-field",children:[c.jsx("label",{htmlFor:"colorectal-method",children:"Screening method"}),c.jsxs("select",{id:"colorectal-method",value:Y("colorectal_method")||"",onChange:b=>{d("colorectal_method",b.target.value),(b.target.value==="not_yet_started"||b.target.value==="")&&(Y("colorectal_last_date")&&d("colorectal_last_date",""),Ce("colorectal"))},children:[c.jsx("option",{value:"",children:"Select..."}),c.jsx("option",{value:"fit_annual",children:"FIT test (annual)"}),c.jsx("option",{value:"colonoscopy_10yr",children:"Colonoscopy (every 10 years)"}),c.jsx("option",{value:"other",children:"Other method"}),c.jsx("option",{value:"not_yet_started",children:"Not yet started"})]})]}),Y("colorectal_method")&&Y("colorectal_method")!=="not_yet_started"&&c.jsxs(c.Fragment,{children:[he("colorectal_last_date","Date of last screening"),Re("colorectal",Y("colorectal_method"))]})]}):c.jsx("p",{className:"screening-age-message",children:"Screening is individualized at your age. Discuss with your doctor whether continued screening is appropriate."})]}),k==="female"&&x>=40&&c.jsxs("div",{className:"screening-group",children:[c.jsx("h4",{children:"Breast"}),c.jsx("p",{className:"screening-age-message",children:x<=44?"Annual mammograms are optional at your age (4044).":x<=54?"Annual mammograms are recommended at your age (4554).":"Annual or biennial mammograms are recommended at your age (55+)."}),c.jsxs("div",{className:"health-field",children:[c.jsx("label",{htmlFor:"breast-frequency",children:"Screening frequency"}),c.jsxs("select",{id:"breast-frequency",value:Y("breast_frequency")||"",onChange:b=>{d("breast_frequency",b.target.value),(b.target.value==="not_yet_started"||b.target.value==="")&&(Y("breast_last_date")&&d("breast_last_date",""),Ce("breast"))},children:[c.jsx("option",{value:"",children:"Select..."}),c.jsx("option",{value:"annual",children:"Annual"}),c.jsx("option",{value:"biennial",children:"Every 2 years"}),c.jsx("option",{value:"not_yet_started",children:"Not yet started"})]})]}),Y("breast_frequency")&&Y("breast_frequency")!=="not_yet_started"&&c.jsxs(c.Fragment,{children:[he("breast_last_date","Date of last mammogram"),Re("breast",Y("breast_frequency"))]})]}),k==="female"&&x>=25&&c.jsxs("div",{className:"screening-group",children:[c.jsx("h4",{children:"Cervical"}),x<=65?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"health-field",children:[c.jsx("label",{htmlFor:"cervical-method",children:"Screening method"}),c.jsxs("select",{id:"cervical-method",value:Y("cervical_method")||"",onChange:b=>{d("cervical_method",b.target.value),(b.target.value==="not_yet_started"||b.target.value==="")&&(Y("cervical_last_date")&&d("cervical_last_date",""),Ce("cervical"))},children:[c.jsx("option",{value:"",children:"Select..."}),c.jsx("option",{value:"hpv_every_5yr",children:"HPV test every 5 years (preferred)"}),c.jsx("option",{value:"pap_every_3yr",children:"Pap test every 3 years"}),c.jsx("option",{value:"other",children:"Other method"}),c.jsx("option",{value:"not_yet_started",children:"Not yet started"})]})]}),Y("cervical_method")&&Y("cervical_method")!=="not_yet_started"&&c.jsxs(c.Fragment,{children:[he("cervical_last_date","Date of last screening"),Re("cervical",Y("cervical_method"))]})]}):c.jsx("p",{className:"screening-age-message",children:"Routine cervical screening typically stops at age 65 if you have no history of abnormal results. Discuss with your doctor."})]}),x>=50&&x<=80&&c.jsxs("div",{className:"screening-group",children:[c.jsx("h4",{children:"Lung"}),c.jsxs("div",{className:"health-field",children:[c.jsx("label",{htmlFor:"lung-smoking-history",children:"Smoking history"}),c.jsxs("select",{id:"lung-smoking-history",value:Y("lung_smoking_history")||"",onChange:b=>{d("lung_smoking_history",b.target.value),(b.target.value==="never_smoked"||b.target.value==="")&&(Y("lung_pack_years")!==void 0&&d("lung_pack_years",""),Y("lung_screening")&&d("lung_screening",""),Y("lung_last_date")&&d("lung_last_date",""),Ce("lung"))},children:[c.jsx("option",{value:"",children:"Select..."}),c.jsx("option",{value:"never_smoked",children:"Never smoked"}),c.jsx("option",{value:"former_smoker",children:"Former smoker"}),c.jsx("option",{value:"current_smoker",children:"Current smoker"})]})]}),(Y("lung_smoking_history")==="former_smoker"||Y("lung_smoking_history")==="current_smoker")&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"health-field",children:[c.jsx("label",{htmlFor:"lung-pack-years",children:"Pack-years (packs/day  years smoked)"}),c.jsx("input",{type:"number",id:"lung-pack-years",value:nt("lung_pack_years")??"",onChange:b=>d("lung_pack_years",b.target.value),placeholder:"20",min:"0",max:"200",step:"1"}),c.jsx("span",{className:"field-hint",children:"Screening recommended if 20 pack-years"})]}),nt("lung_pack_years")!==void 0&&nt("lung_pack_years")>=20&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"health-field",children:[c.jsx("label",{htmlFor:"lung-screening",children:"Screening status"}),c.jsxs("select",{id:"lung-screening",value:Y("lung_screening")||"",onChange:b=>{d("lung_screening",b.target.value),(b.target.value==="not_yet_started"||b.target.value==="")&&(Y("lung_last_date")&&d("lung_last_date",""),Ce("lung"))},children:[c.jsx("option",{value:"",children:"Select..."}),c.jsx("option",{value:"annual_ldct",children:"Annual low-dose CT"}),c.jsx("option",{value:"not_yet_started",children:"Not yet started"})]})]}),Y("lung_screening")==="annual_ldct"&&c.jsxs(c.Fragment,{children:[he("lung_last_date","Date of last low-dose CT"),Re("lung",Y("lung_screening"))]})]})]})]}),k==="male"&&x>=45&&c.jsxs("div",{className:"screening-group",children:[c.jsx("h4",{children:"Prostate"}),c.jsx("p",{className:"screening-age-message",children:x<50?"Screening typically starts at 50, but consider at 45 if you are at higher risk (African American or family history).":"PSA testing is an option after an informed discussion with your doctor."}),c.jsxs("div",{className:"health-field",children:[c.jsx("label",{htmlFor:"prostate-discussion",children:"Discussed prostate screening with your doctor?"}),c.jsxs("select",{id:"prostate-discussion",value:Y("prostate_discussion")||"",onChange:b=>d("prostate_discussion",b.target.value),children:[c.jsx("option",{value:"",children:"Select..."}),c.jsx("option",{value:"not_yet",children:"Not yet"}),c.jsx("option",{value:"elected_not_to",children:"Yes, and I've elected not to screen"}),c.jsx("option",{value:"will_screen",children:"Yes, and I will screen"})]})]}),Y("prostate_discussion")==="will_screen"&&c.jsx(c.Fragment,{children:(()=>{const b=o.find(We=>We.metricType==="psa"),ke=b?`${b.value.toFixed(1)} ng/mL  ${_u(b.recordedAt)}`:null;return c.jsxs("div",{className:"health-field",children:[c.jsx("label",{htmlFor:"psa-input",children:"PSA (ng/mL)"}),c.jsxs("div",{className:"psa-inline-row",children:[c.jsx("input",{type:"number",id:"psa-input",value:f.psa??(e.psa!==void 0?String(e.psa):""),onChange:We=>{const Te=We.target.value;if(g(xt=>({...xt,psa:Te})),Te==="")U("psa",void 0);else{const xt=parseFloat(Te);isNaN(xt)||U("psa",xt)}},placeholder:"1.5",step:"0.1",min:"0",max:"100",className:n.psa?"error":""}),c.jsx(jx,{value:Fe,onChange:D}),s&&v&&e.psa!==void 0&&c.jsx("button",{className:"btn-primary save-inline-btn",onClick:()=>p(xu(Fe)),disabled:m,title:"Save PSA value",children:m?"...":"Save"})]}),n.psa&&c.jsx("span",{className:"field-error",children:n.psa}),c.jsxs("div",{className:"field-meta",children:[c.jsx("span",{className:"field-hint",children:"Normal: <4.0 ng/mL"}),ke&&c.jsx("a",{className:"previous-value",href:"/pages/health-history?metric=psa",target:"_blank",rel:"noopener noreferrer",children:ke})]})]})})()})]}),k==="female"&&x>=45&&c.jsxs("div",{className:"screening-group",children:[c.jsx("h4",{children:"Endometrial"}),c.jsxs("div",{className:"health-field",children:[c.jsx("label",{htmlFor:"endometrial-discussion",children:"Discussed endometrial cancer risk at menopause?"}),c.jsxs("select",{id:"endometrial-discussion",value:Y("endometrial_discussion")||"",onChange:b=>d("endometrial_discussion",b.target.value),children:[c.jsx("option",{value:"",children:"Select..."}),c.jsx("option",{value:"not_yet",children:"Not yet"}),c.jsx("option",{value:"discussed",children:"Yes, discussed"})]})]}),c.jsxs("div",{className:"health-field",children:[c.jsx("label",{htmlFor:"endometrial-bleeding",children:"Any abnormal uterine bleeding?"}),c.jsxs("select",{id:"endometrial-bleeding",value:Y("endometrial_abnormal_bleeding")||"",onChange:b=>d("endometrial_abnormal_bleeding",b.target.value),children:[c.jsx("option",{value:"",children:"Select..."}),c.jsx("option",{value:"no",children:"No"}),c.jsx("option",{value:"yes_reported",children:"Yes, reported to doctor"}),c.jsx("option",{value:"yes_need_to_report",children:"Yes, need to report to doctor"})]})]})]})]})}):null})()}),ee=()=>c.jsx(c.Fragment,{children:(()=>{const x=e.birthYear?pi(e.birthYear,e.birthMonth??1):void 0;if(x===void 0)return null;const k=e.sex;if(!(k==="female"&&x>=50||k==="male"&&x>=70))return null;const le=yu(u),Se=b=>{const ke=b.replace(/_([a-z])/g,(We,Te)=>Te.toUpperCase());return le[ke]},pe=b=>Se(b),ze=new Date,De=ze.getFullYear(),he=ze.getMonth()+1,Je=Array.from({length:11},(b,ke)=>De-ke),Y=[{value:"01",label:"January"},{value:"02",label:"February"},{value:"03",label:"March"},{value:"04",label:"April"},{value:"05",label:"May"},{value:"06",label:"June"},{value:"07",label:"July"},{value:"08",label:"August"},{value:"09",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],nt=(b,ke)=>{const We=pe(b)||"",[Te,xt]=We.split("-"),je=E[b],wt=(je==null?void 0:je.year)??Te??"",Ge=(je==null?void 0:je.month)??xt??"",jt=wt===String(De)?Y.filter(Ee=>parseInt(Ee.value,10)<=he):Y,nn=(Ee,rn)=>{let qe=rn;Ee===String(De)&&rn&&parseInt(rn,10)>he&&(qe=""),_(ce=>({...ce,[b]:{year:Ee,month:qe}})),Ee&&qe?d(b,`${Ee}-${qe}`):!Ee&&!qe&&d(b,"")};return c.jsxs("div",{className:"health-field",children:[c.jsx("label",{children:ke}),c.jsxs("div",{className:"date-picker-row",children:[c.jsxs("select",{value:Ge,onChange:Ee=>nn(wt,Ee.target.value),"aria-label":`${ke} month`,children:[c.jsx("option",{value:"",children:"Month"}),jt.map(Ee=>c.jsx("option",{value:Ee.value,children:Ee.label},Ee.value))]}),c.jsxs("select",{value:wt,onChange:Ee=>nn(Ee.target.value,Ge),"aria-label":`${ke} year`,children:[c.jsx("option",{value:"",children:"Year"}),Je.map(Ee=>c.jsx("option",{value:Ee,children:Ee},Ee))]})]})]})},Ce=pe("dexa_screening"),Re=pe("dexa_result"),ye=pe("dexa_followup_status");return c.jsx("div",{className:"section-card",children:c.jsxs("section",{className:"health-section screening-cascade",children:[c.jsx("h3",{className:"health-section-title",children:"Bone Density"}),c.jsx("p",{className:"health-section-desc",children:"DEXA scans measure bone mineral density to detect osteoporosis. Discuss screening with your doctor."}),c.jsxs("div",{className:"screening-group",children:[c.jsxs("div",{className:"health-field",children:[c.jsx("label",{htmlFor:"dexa-screening",children:"DEXA scan status"}),c.jsxs("select",{id:"dexa-screening",value:Ce||"",onChange:b=>{d("dexa_screening",b.target.value),b.target.value!=="dexa_scan"&&(pe("dexa_last_date")&&d("dexa_last_date",""),pe("dexa_result")&&d("dexa_result",""),pe("dexa_followup_status")&&d("dexa_followup_status",""),pe("dexa_followup_date")&&d("dexa_followup_date",""))},children:[c.jsx("option",{value:"",children:"Select..."}),c.jsx("option",{value:"dexa_scan",children:"Had a DEXA scan"}),c.jsx("option",{value:"not_yet_started",children:"Not yet started"})]})]}),Ce==="dexa_scan"&&c.jsxs(c.Fragment,{children:[nt("dexa_last_date","Date of last DEXA scan"),pe("dexa_last_date")&&c.jsxs("div",{className:"health-field",children:[c.jsx("label",{htmlFor:"dexa-result",children:"Result"}),c.jsxs("select",{id:"dexa-result",value:Re||"",onChange:b=>{d("dexa_result",b.target.value),b.target.value!=="osteoporosis"&&(pe("dexa_followup_status")&&d("dexa_followup_status",""),pe("dexa_followup_date")&&d("dexa_followup_date",""))},children:[c.jsx("option",{value:"",children:"Select..."}),c.jsx("option",{value:"normal",children:"Normal"}),c.jsx("option",{value:"osteopenia",children:"Osteopenia"}),c.jsx("option",{value:"osteoporosis",children:"Osteoporosis"}),c.jsx("option",{value:"awaiting",children:"Awaiting results"})]})]}),Re==="osteoporosis"&&c.jsxs("div",{className:"health-field",children:[c.jsx("label",{htmlFor:"dexa-followup-status",children:"Treatment review status"}),c.jsxs("select",{id:"dexa-followup-status",value:ye||"",onChange:b=>{d("dexa_followup_status",b.target.value),(b.target.value==="not_organized"||b.target.value==="")&&pe("dexa_followup_date")&&d("dexa_followup_date","")},children:[c.jsx("option",{value:"",children:"Select..."}),c.jsx("option",{value:"not_organized",children:"Not yet organized"}),c.jsx("option",{value:"scheduled",children:"Scheduled"}),c.jsx("option",{value:"completed",children:"Completed"})]})]}),Re==="osteoporosis"&&(ye==="scheduled"||ye==="completed")&&nt("dexa_followup_date",ye==="completed"?"When was the treatment review completed?":"When is the treatment review scheduled?")]})]})]})})})()}),ae=()=>!s||!ur?null:c.jsx("button",{className:"btn-primary save-longitudinal-btn",onClick:()=>p(xu(Xe)),disabled:m,children:m?"Saving...":"Save New Values"});return y&&y!=="results"?c.jsxs("div",{className:"health-input-panel",children:[y==="profile"&&c.jsx("div",{className:"section-card",children:R()}),y==="vitals"&&c.jsx("div",{className:"section-card",children:M()}),y==="blood-tests"&&c.jsx("div",{className:"section-card",children:H()}),y==="medications"&&te(),y==="screening"&&c.jsxs(c.Fragment,{children:[re(),ee()]}),ae()]}):c.jsxs("div",{className:"health-input-panel",children:[c.jsxs("div",{className:"section-card",children:[R(),w>=3&&c.jsx("div",{className:"stage-reveal",children:M()})]}),w>=4&&c.jsx("div",{className:"section-card stage-reveal",children:H()}),w>=4&&te(),w>=4&&re(),w>=4&&ee(),ae()]})}const q=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ge=globalThis,Ir="10.38.0";function xa(){return wa(ge),ge}function wa(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Ir,t[Ir]=t[Ir]||{}}function xi(e,t,n=ge){const r=n.__SENTRY__=n.__SENTRY__||{},i=r[Ir]=r[Ir]||{};return i[e]||(i[e]=t())}const Dx=["debug","info","warn","error","log","assert","trace"],Rx="Sentry Logger ",Sa={};function wi(e){if(!("console"in ge))return e();const t=ge.console,n={},r=Object.keys(Sa);r.forEach(i=>{const s=Sa[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function Px(){Su().enabled=!0}function Ox(){Su().enabled=!1}function km(){return Su().enabled}function Mx(...e){wu("log",...e)}function Ax(...e){wu("warn",...e)}function $x(...e){wu("error",...e)}function wu(e,...t){q&&km()&&wi(()=>{ge.console[e](`${Rx}[${e}]:`,...t)})}function Su(){return q?xi("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const Z={enable:Px,disable:Ox,isEnabled:km,log:Mx,warn:Ax,error:$x},Em=50,Lr="?",bm=/\(error: (.*)\)/,Nm=/captureMessage|captureException/;function Cm(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],o=n.split(`
`);for(let a=r;a<o.length;a++){let l=o[a];l.length>1024&&(l=l.slice(0,1024));const u=bm.test(l)?l.replace(bm,"$1"):l;if(!u.match(/\S*Error: /)){for(const d of t){const p=d(u);if(p){s.push(p);break}}if(s.length>=Em+i)break}}return zx(s.slice(i))}}function Fx(e){return Array.isArray(e)?Cm(...e):e}function zx(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(ka(t).function||"")&&t.pop(),t.reverse(),Nm.test(ka(t).function||"")&&(t.pop(),Nm.test(ka(t).function||"")&&t.pop()),t.slice(0,Em).map(n=>({...n,filename:n.filename||ka(t).filename,function:n.function||Lr}))}function ka(e){return e[e.length-1]||{}}const ku="<anonymous>";function or(e){try{return!e||typeof e!="function"?ku:e.name||ku}catch{return ku}}function Tm(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}function jm(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const Ea={},Im={};function Dr(e,t){Ea[e]=Ea[e]||[],Ea[e].push(t)}function Rr(e,t){if(!Im[e]){Im[e]=!0;try{t()}catch(n){q&&Z.error(`Error while instrumenting ${e}`,n)}}}function qt(e,t){const n=e&&Ea[e];if(n)for(const r of n)try{r(t)}catch(i){q&&Z.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${or(r)}
Error:`,i)}}let Eu=null;function Bx(e){const t="error";Dr(t,e),Rr(t,Hx)}function Hx(){Eu=ge.onerror,ge.onerror=function(e,t,n,r,i){return qt("error",{column:r,error:i,line:n,msg:e,url:t}),Eu?Eu.apply(this,arguments):!1},ge.onerror.__SENTRY_INSTRUMENTED__=!0}let bu=null;function Ux(e){const t="unhandledrejection";Dr(t,e),Rr(t,Vx)}function Vx(){bu=ge.onunhandledrejection,ge.onunhandledrejection=function(e){return qt("unhandledrejection",e),bu?bu.apply(this,arguments):!0},ge.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Lm=Object.prototype.toString;function ba(e){switch(Lm.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ar(e,Error)}}function Si(e,t){return Lm.call(e)===`[object ${t}]`}function Dm(e){return Si(e,"ErrorEvent")}function Rm(e){return Si(e,"DOMError")}function Yx(e){return Si(e,"DOMException")}function Cn(e){return Si(e,"String")}function Nu(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Na(e){return e===null||Nu(e)||typeof e!="object"&&typeof e!="function"}function Ls(e){return Si(e,"Object")}function Ca(e){return typeof Event<"u"&&ar(e,Event)}function Wx(e){return typeof Element<"u"&&ar(e,Element)}function Gx(e){return Si(e,"RegExp")}function Ds(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function Zx(e){return Ls(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function ar(e,t){try{return e instanceof t}catch{return!1}}function Pm(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function Om(e){return typeof Request<"u"&&ar(e,Request)}const Cu=ge,Kx=80;function Mm(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",l=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,p=!Array.isArray(t)&&t.maxStringLength||Kx;for(;n&&s++<r&&(u=Xx(n,d),!(u==="html"||s>1&&o+i.length*l+u.length>=p));)i.push(u),o+=u.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function Xx(e,t){const n=e,r=[];if(!(n!=null&&n.tagName))return"";if(Cu.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t!=null&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i!=null&&i.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&Cn(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function Tu(){try{return Cu.document.location.href}catch{return""}}function Qx(e){if(!Cu.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function At(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const i=n(r);typeof i=="function"&&Am(i,r);try{e[t]=i}catch{q&&Z.log(`Failed to replace method "${t}" in object`,e)}}function lr(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{q&&Z.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Am(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,lr(e,"__sentry_original__",t)}catch{}}function ju(e){return e.__sentry_original__}function $m(e){if(ba(e))return{message:e.message,name:e.name,stack:e.stack,...zm(e)};if(Ca(e)){const t={type:e.type,target:Fm(e.target),currentTarget:Fm(e.currentTarget),...zm(e)};return typeof CustomEvent<"u"&&ar(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Fm(e){try{return Wx(e)?Mm(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function zm(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Jx(e){const t=Object.keys($m(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}let ki;function Ta(e){if(ki!==void 0)return ki?ki(e):e();const t=Symbol.for("__SENTRY_SAFE_RANDOM_ID_WRAPPER__"),n=ge;return t in n&&typeof n[t]=="function"?(ki=n[t],ki(e)):(ki=null,e())}function ja(){return Ta(()=>Math.random())}function Ia(){return Ta(()=>Date.now())}function Iu(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Bm(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{Pm(i)?n.push(jm(i)):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function La(e,t,n=!1){return Cn(e)?Gx(t)?t.test(e):Cn(t)?n?e===t:e.includes(t):!1:!1}function Da(e,t=[],n=!1){return t.some(r=>La(e,r,n))}function qx(){const e=ge;return e.crypto||e.msCrypto}let Lu;function ew(){return ja()*16}function Yt(e=qx()){try{if(e!=null&&e.randomUUID)return Ta(()=>e.randomUUID()).replace(/-/g,"")}catch{}return Lu||(Lu="10000000100040008000"+1e11),Lu.replace(/[018]/g,t=>(t^(ew()&15)>>t/4).toString(16))}function Hm(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function Pr(e){const{message:t,event_id:n}=e;if(t)return t;const r=Hm(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Du(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function Ei(e,t){const n=Hm(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i==null?void 0:i.data,...t.data};n.mechanism.data=s}}function Um(e){if(tw(e))return!0;try{lr(e,"__sentry_captured__",!0)}catch{}return!1}function tw(e){try{return e.__sentry_captured__}catch{}}const Vm=1e3;function Rs(){return Ia()/Vm}function nw(){const{performance:e}=ge;if(!(e!=null&&e.now)||!e.timeOrigin)return Rs;const t=e.timeOrigin;return()=>(t+Ta(()=>e.now()))/Vm}let Ym;function Tn(){return(Ym??(Ym=nw()))()}function rw(e){const t=Tn(),n={sid:Yt(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>sw(n)};return e&&bi(n,e),n}function bi(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Tn(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Yt()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function iw(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),bi(e,n)}function sw(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Ps(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=Ps(r[i],t[i],n-1));return r}function Wm(){return Yt()}function Gm(){return Yt().substring(16)}const Ru="_sentrySpan";function Zm(e,t){t?lr(e,Ru,t):delete e[Ru]}function Km(e){return e[Ru]}const ow=100;class pn{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Wm(),sampleRand:ja()}}clone(){const t=new pn;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,t._conversationId=this._conversationId,Zm(t,Km(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&bi(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setConversationId(t){return this._conversationId=t||void 0,this._notifyScopeListeners(),this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof pn?n.getScopeData():Ls(n)?t:void 0,{tags:i,attributes:s,extra:o,user:a,contexts:l,level:u,fingerprint:d=[],propagationContext:p,conversationId:m}=r||{};return this._tags={...this._tags,...i},this._attributes={...this._attributes,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...l},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),d.length&&(this._fingerprint=d),p&&(this._propagationContext=p),m&&(this._conversationId=m),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,this._conversationId=void 0,Zm(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Wm(),sampleRand:ja()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var s;const r=typeof n=="number"?n:ow;if(r<=0)return this;const i={timestamp:Rs(),...t,message:t.message?Iu(t.message,2048):t.message};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(s=this._client)==null||s.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Km(this),conversationId:this._conversationId}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Ps(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=(n==null?void 0:n.event_id)||Yt();if(!this._client)return q&&Z.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=(r==null?void 0:r.event_id)||Yt();if(!this._client)return q&&Z.warn("No client configured on scope - will not capture message!"),i;const s=(r==null?void 0:r.syntheticException)??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=(n==null?void 0:n.event_id)||Yt();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(q&&Z.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function aw(){return xi("defaultCurrentScope",()=>new pn)}function lw(){return xi("defaultIsolationScope",()=>new pn)}class cw{constructor(t,n){let r;t?r=t:r=new pn;let i;n?i=n:i=new pn,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return Ds(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Ni(){const e=xa(),t=wa(e);return t.stack=t.stack||new cw(aw(),lw())}function uw(e){return Ni().withScope(e)}function dw(e,t){const n=Ni();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Xm(e){return Ni().withScope(()=>e(Ni().getIsolationScope()))}function fw(){return{withIsolationScope:Xm,withScope:uw,withSetScope:dw,withSetIsolationScope:(e,t)=>Xm(t),getCurrentScope:()=>Ni().getScope(),getIsolationScope:()=>Ni().getIsolationScope()}}function Pu(e){const t=wa(e);return t.acs?t.acs:fw()}function jn(){const e=xa();return Pu(e).getCurrentScope()}function Or(){const e=xa();return Pu(e).getIsolationScope()}function pw(){return xi("globalScope",()=>new pn)}function hw(...e){const t=xa(),n=Pu(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function pt(){return jn().getClient()}function mw(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:i}=t,s={trace_id:n,span_id:i||Gm()};return r&&(s.parent_span_id=r),s}const gw="sentry.source",vw="sentry.sample_rate",yw="sentry.previous_trace_sample_rate",_w="sentry.op",xw="sentry.origin",Qm="sentry.profile_id",Jm="sentry.exclusive_time",ww="gen_ai.conversation.id",Sw=0,kw=1,Ew="_sentryScope",bw="_sentryIsolationScope";function Nw(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function qm(e){const t=e;return{scope:t[Ew],isolationScope:Nw(t[bw])}}const Cw="sentry-",Tw=/^sentry-/;function jw(e){const t=Iw(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(Tw)){const o=i.slice(Cw.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function Iw(e){if(!(!e||!Cn(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=eg(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):eg(e)}function eg(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const r=t.slice(0,n),i=t.slice(n+1);return[r,i].map(s=>{try{return decodeURIComponent(s.trim())}catch{return}})}).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}const Lw=/^o(\d+)\./,Dw=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)((?:\[[:.%\w]+\]|[\w.-]+))(?::(\d+))?\/(.+)/;function Rw(e){return e==="http"||e==="https"}function Os(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function Pw(e){const t=Dw.exec(e);if(!t){wi(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s="",o="",a=""]=t.slice(1);let l="",u=a;const d=u.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),u=d.pop()),u){const p=u.match(/^\d+/);p&&(u=p[0])}return tg({host:s,pass:i,path:l,projectId:u,port:o,protocol:n,publicKey:r})}function tg(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Ow(e){if(!q)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(Z.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?Rw(r)?t&&isNaN(parseInt(t,10))?(Z.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(Z.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(Z.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Mw(e){const t=e.match(Lw);return t==null?void 0:t[1]}function Aw(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=Mw(n)),r}function $w(e){const t=typeof e=="string"?Pw(e):tg(e);if(!(!t||!Ow(t)))return t}function Fw(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const ng=1;let rg=!1;function zw(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:Ou(e).parent_span_id,s=qm(e).scope,o=r?(s==null?void 0:s.getPropagationContext().propagationSpanId)||Gm():t;return{parent_span_id:i,span_id:o,trace_id:n}}function Bw(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...i},attributes:s})=>({span_id:t,trace_id:n,sampled:r===ng,attributes:s,...i}))}function ig(e){return typeof e=="number"?sg(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?sg(e.getTime()):Tn()}function sg(e){return e>9999999999?e/1e3:e}function Ou(e){var r;if(Uw(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(Hw(e)){const{attributes:i,startTime:s,name:o,endTime:a,status:l,links:u}=e,d="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(r=e.parentSpanContext)==null?void 0:r.spanId:void 0;return{span_id:t,trace_id:n,data:i,description:o,parent_span_id:d,start_timestamp:ig(s),timestamp:ig(a)||void 0,status:Yw(l),op:i[_w],origin:i[xw],links:Bw(u)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Hw(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Uw(e){return typeof e.getSpanJSON=="function"}function Vw(e){const{traceFlags:t}=e.spanContext();return t===ng}function Yw(e){if(!(!e||e.code===Sw))return e.code===kw?"ok":e.message||"internal_error"}const Ww="_sentryRootSpan";function og(e){return e[Ww]||e}function ag(){rg||(wi(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),rg=!0)}function Gw(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=(n=pt())==null?void 0:n.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function lg(e){Z.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function cg(e,t){if(!(t!=null&&t.length)||!e.description)return!1;for(const n of t){if(Kw(n)){if(La(e.description,n))return q&&lg(e),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?La(e.description,n.name):!0,i=n.op?e.op&&La(e.op,n.op):!0;if(r&&i)return q&&lg(e),!0}return!1}function Zw(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const i of e)i.parent_span_id===r&&(i.parent_span_id=n)}function Kw(e){return typeof e=="string"||e instanceof RegExp}const Mu="production",Xw="_frozenDsc";function ug(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i={environment:n.environment||Mu,release:n.release,public_key:r,trace_id:e,org_id:Aw(t)};return t.emit("createDsc",i),i}function Qw(e,t){const n=t.getPropagationContext();return n.dsc||ug(n.traceId,e)}function Jw(e){var w;const t=pt();if(!t)return{};const n=og(e),r=Ou(n),i=r.data,s=n.spanContext().traceState,o=(s==null?void 0:s.get("sentry.sample_rate"))??i[vw]??i[yw];function a(y){return(typeof o=="number"||typeof o=="string")&&(y.sample_rate=`${o}`),y}const l=n[Xw];if(l)return a(l);const u=s==null?void 0:s.get("sentry.dsc"),d=u&&jw(u);if(d)return a(d);const p=ug(e.spanContext().traceId,t),m=i[gw],v=r.description;return m!=="url"&&v&&(p.transaction=v),Gw()&&(p.sampled=String(Vw(n)),p.sample_rand=(s==null?void 0:s.get("sentry.sample_rand"))??((w=qm(n).scope)==null?void 0:w.getPropagationContext().sampleRand.toString())),a(p),t.emit("createDsc",p,n),p}function In(e,t=100,n=1/0){try{return Au("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function dg(e,t=3,n=100*1024){const r=In(e,t);return nS(r)>n?dg(e,t-1,n):r}function Au(e,t,n=1/0,r=1/0,i=rS()){const[s,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=qw(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const v=u.toJSON();return Au("",v,l-1,r,i)}catch{}const d=Array.isArray(t)?[]:{};let p=0;const m=$m(t);for(const v in m){if(!Object.prototype.hasOwnProperty.call(m,v))continue;if(p>=r){d[v]="[MaxProperties ~]";break}const w=m[v];d[v]=Au(v,w,l-1,r,i),p++}return o(t),d}function qw(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Pm(t))return jm(t);if(Zx(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${or(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=eS(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function eS(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function tS(e){return~-encodeURI(e).split(/%..|./).length}function nS(e){return tS(JSON.stringify(e))}function rS(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function Ci(e,t=[]){return[e,t]}function iS(e,t){const[n,r]=e;return[n,[...r,t]]}function $u(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function sS(e,t){return $u(e,(n,r)=>t.includes(r))}function Fu(e){const t=wa(ge);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function oS(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[Fu(r),s]:r.push(typeof s=="string"?Fu(s):s)}for(const s of n){const[o,a]=s;if(i(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(In(a))}i(l)}}return typeof r=="string"?r:aS(r)}function aS(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function lS(e){const t=typeof e.data=="string"?Fu(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const cS={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function fg(e){return cS[e]}function pg(e){if(!(e!=null&&e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function uS(e,t,n,r){var s;const i=(s=e.sdkProcessingMetadata)==null?void 0:s.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Os(r)},...i&&{trace:i}}}function dS(e,t){var r,i,s,o;if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...((r=e.sdk)==null?void 0:r.integrations)||[],...t.integrations||[]],packages:[...((i=e.sdk)==null?void 0:i.packages)||[],...t.packages||[]],settings:(s=e.sdk)!=null&&s.settings||t.settings?{...(o=e.sdk)==null?void 0:o.settings,...t.settings}:void 0},e}function fS(e,t,n,r){const i=pg(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Os(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Ci(s,[o])}function pS(e,t,n,r){const i=pg(n),s=e.type&&e.type!=="replay_event"?e.type:"event";dS(e,n==null?void 0:n.sdk);const o=uS(e,i,r,t);return delete e.sdkProcessingMetadata,Ci(o,[[{type:s},e]])}const zu=0,hg=1,mg=2;function Ra(e){return new Ms(t=>{t(e)})}function Bu(e){return new Ms((t,n)=>{n(e)})}class Ms{constructor(t){this._state=zu,this._handlers=[],this._runExecutor(t)}then(t,n){return new Ms((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Ms((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}_executeHandlers(){if(this._state===zu)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===hg&&n[1](this._value),this._state===mg&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(s,o)=>{if(this._state===zu){if(Ds(o)){o.then(r,i);return}this._state=s,this._value=o,this._executeHandlers()}},r=s=>{n(hg,s)},i=s=>{n(mg,s)};try{t(r,i)}catch(s){i(s)}}}function hS(e,t,n,r=0){try{const i=Hu(t,n,e,r);return Ds(i)?i:Ra(i)}catch(i){return Bu(i)}}function Hu(e,t,n,r){const i=n[r];if(!e||!i)return e;const s=i({...e},t);return q&&s===null&&Z.log(`Event processor "${i.id||"?"}" dropped event`),Ds(s)?s.then(o=>Hu(o,t,n,r+1)):Hu(s,t,n,r+1)}let Ln,gg,vg,cr;function mS(e){const t=ge._sentryDebugIds,n=ge._debugIds;if(!t&&!n)return{};const r=t?Object.keys(t):[],i=n?Object.keys(n):[];if(cr&&r.length===gg&&i.length===vg)return cr;gg=r.length,vg=i.length,cr={},Ln||(Ln={});const s=(o,a)=>{for(const l of o){const u=a[l],d=Ln==null?void 0:Ln[l];if(d&&cr&&u)cr[d[0]]=u,Ln&&(Ln[l]=[d[0],u]);else if(u){const p=e(l);for(let m=p.length-1;m>=0;m--){const v=p[m],w=v==null?void 0:v.filename;if(w&&cr&&Ln){cr[w]=u,Ln[l]=[w,u];break}}}}};return t&&s(r,t),n&&s(i,n),cr}function gS(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;yS(e,t),r&&wS(e,r),SS(e,n),_S(e,i),xS(e,s)}function yg(e,t){const{extra:n,tags:r,attributes:i,user:s,contexts:o,level:a,sdkProcessingMetadata:l,breadcrumbs:u,fingerprint:d,eventProcessors:p,attachments:m,propagationContext:v,transactionName:w,span:y}=t;As(e,"extra",n),As(e,"tags",r),As(e,"attributes",i),As(e,"user",s),As(e,"contexts",o),e.sdkProcessingMetadata=Ps(e.sdkProcessingMetadata,l,2),a&&(e.level=a),w&&(e.transactionName=w),y&&(e.span=y),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),d.length&&(e.fingerprint=[...e.fingerprint,...d]),p.length&&(e.eventProcessors=[...e.eventProcessors,...p]),m.length&&(e.attachments=[...e.attachments,...m]),e.propagationContext={...e.propagationContext,...v}}function As(e,t,n){e[t]=Ps(e[t],n,1)}function vS(e,t){const n=pw().getScopeData();return e&&yg(n,e.getScopeData()),t&&yg(n,t.getScopeData()),n}function yS(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(i).length&&(e.user={...i,...e.user}),Object.keys(s).length&&(e.contexts={...s,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function _S(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function xS(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function wS(e,t){e.contexts={trace:zw(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Jw(t),...e.sdkProcessingMetadata};const n=og(t),r=Ou(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function SS(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}function kS(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Yt(),timestamp:t.timestamp||Rs()},u=n.integrations||e.integrations.map(N=>N.name);ES(l,e),CS(l,u),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&bS(l,e.stackParser);const d=jS(r,n.captureContext);n.mechanism&&Ei(l,n.mechanism);const p=i?i.getEventProcessors():[],m=vS(s,d),v=[...n.attachments||[],...m.attachments];v.length&&(n.attachments=v),gS(l,m);const w=[...p,...m.eventProcessors];return hS(w,l,n).then(N=>(N&&NS(N),typeof o=="number"&&o>0?TS(N,o,a):N))}function ES(e,t){var a,l;const{environment:n,release:r,dist:i,maxValueLength:s}=t;e.environment=e.environment||n||Mu,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i);const o=e.request;o!=null&&o.url&&s&&(o.url=Iu(o.url,s)),s&&((l=(a=e.exception)==null?void 0:a.values)==null||l.forEach(u=>{u.value&&(u.value=Iu(u.value,s))}))}function bS(e,t){var r,i;const n=mS(t);(i=(r=e.exception)==null?void 0:r.values)==null||i.forEach(s=>{var o,a;(a=(o=s.stacktrace)==null?void 0:o.frames)==null||a.forEach(l=>{l.filename&&(l.debug_id=n[l.filename])})})}function NS(e){var r,i;const t={};if((i=(r=e.exception)==null?void 0:r.values)==null||i.forEach(s=>{var o,a;(a=(o=s.stacktrace)==null?void 0:o.frames)==null||a.forEach(l=>{l.debug_id&&(l.abs_path?t[l.abs_path]=l.debug_id:l.filename&&(t[l.filename]=l.debug_id),delete l.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([s,o])=>{n.push({type:"sourcemap",code_file:s,debug_id:o})})}function CS(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function TS(e,t,n){var i,s;if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:In(o.data,t,n)}}))},...e.user&&{user:In(e.user,t,n)},...e.contexts&&{contexts:In(e.contexts,t,n)},...e.extra&&{extra:In(e.extra,t,n)}};return(i=e.contexts)!=null&&i.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=In(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:In(o.data,t,n)}}))),(s=e.contexts)!=null&&s.flags&&r.contexts&&(r.contexts.flags=In(e.contexts.flags,3,n)),r}function jS(e,t){if(!t)return e;const n=e?e.clone():new pn;return n.update(t),n}function IS(e){if(e)return LS(e)?{captureContext:e}:RS(e)?{captureContext:e}:e}function LS(e){return e instanceof pn||typeof e=="function"}const DS=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function RS(e){return Object.keys(e).some(t=>DS.includes(t))}function en(e,t){return jn().captureException(e,IS(t))}function _g(e,t){return jn().captureEvent(e,t)}function PS(e,t){Or().setContext(e,t)}function xg(e){const t=Or(),n=jn(),{userAgent:r}=ge.navigator||{},i=rw({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),s=t.getSession();return(s==null?void 0:s.status)==="ok"&&bi(s,{status:"exited"}),wg(),t.setSession(i),i}function wg(){const e=Or(),n=jn().getSession()||e.getSession();n&&iw(n),Sg(),e.setSession()}function Sg(){const e=Or(),t=pt(),n=e.getSession();n&&t&&t.captureSession(n)}function kg(e=!1){if(e){wg();return}Sg()}const OS="7";function MS(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function AS(e){return`${MS(e)}${e.projectId}/envelope/`}function $S(e,t){const n={sentry_version:OS};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function FS(e,t,n){return t||`${AS(e)}?${$S(e,n)}`}const Eg=[];function zS(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function BS(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const i=n(t);r=Array.isArray(i)?i:[i]}else r=t;return zS(r)}function HS(e,t){const n={};return t.forEach(r=>{r&&Ng(e,r,n)}),n}function bg(e,t){for(const n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function Ng(e,t,n){if(n[t.name]){q&&Z.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,!Eg.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),Eg.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}q&&Z.log(`Integration installed: ${t.name}`)}function zE(e){return e}function US(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function VS(e,t,n,r){const i={};return t!=null&&t.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(i.dsn=Os(r)),Ci(i,[US(e)])}function Cg(e,t){const n=t??YS(e)??[];if(n.length===0)return;const r=e.getOptions(),i=VS(n,r._metadata,r.tunnel,e.getDsn());Tg().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(i)}function YS(e){return Tg().get(e)}function Tg(){return xi("clientToLogBufferMap",()=>new WeakMap)}function WS(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function GS(e,t,n,r){const i={};return t!=null&&t.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(i.dsn=Os(r)),Ci(i,[WS(e)])}function jg(e,t){const n=t??ZS(e)??[];if(n.length===0)return;const r=e.getOptions(),i=GS(n,r._metadata,r.tunnel,e.getDsn());Ig().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(i)}function ZS(e){return Ig().get(e)}function Ig(){return xi("clientToMetricBufferMap",()=>new WeakMap)}const Uu=Symbol.for("SentryBufferFullError");function Vu(e=100){const t=new Set;function n(){return t.size<e}function r(o){t.delete(o)}function i(o){if(!n())return Bu(Uu);const a=o();return t.add(a),a.then(()=>r(a),()=>r(a)),a}function s(o){if(!t.size)return Ra(!0);const a=Promise.allSettled(Array.from(t)).then(()=>!0);if(!o)return a;const l=[a,new Promise(u=>setTimeout(()=>u(!1),o))];return Promise.race(l)}return{get $(){return Array.from(t)},add:i,drain:s}}const KS=60*1e3;function XS(e,t=Ia()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?KS:r-t}function QS(e,t){return e[t]||e.all||0}function JS(e,t,n=Ia()){return QS(e,t)>n}function qS(e,{statusCode:t,headers:n},r=Ia()){const i={...e},s=n==null?void 0:n["x-sentry-rate-limits"],o=n==null?void 0:n["retry-after"];if(s)for(const a of s.trim().split(",")){const[l,u,,,d]=a.split(":",5),p=parseInt(l,10),m=(isNaN(p)?60:p)*1e3;if(!u)i.all=r+m;else for(const v of u.split(";"))v==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(i[v]=r+m):i[v]=r+m}else o?i.all=r+XS(o,r):t===429&&(i.all=r+60*1e3);return i}const Lg=64;function e1(e,t,n=Vu(e.bufferSize||Lg)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if($u(o,(p,m)=>{const v=fg(m);JS(r,v)?e.recordDroppedEvent("ratelimit_backoff",v):a.push(p)}),a.length===0)return Promise.resolve({});const l=Ci(o[0],a),u=p=>{if(sS(l,["client_report"])){q&&Z.warn(`Dropping client report. Will not send outcomes (reason: ${p}).`);return}$u(l,(m,v)=>{e.recordDroppedEvent(p,fg(v))})},d=()=>t({body:oS(l)}).then(p=>(p.statusCode!==void 0&&(p.statusCode<200||p.statusCode>=300)&&q&&Z.warn(`Sentry responded with status code ${p.statusCode} to sent event.`),r=qS(r,p),p),p=>{throw u("network_error"),q&&Z.error("Encountered error running transport request:",p),p});return n.add(d).then(p=>p,p=>{if(p===Uu)return q&&Z.error("Skipped sending event because buffer is full."),u("queue_overflow"),Promise.resolve({});throw p})}return{send:s,flush:i}}function t1(e,t,n){const r=[{type:"client_report"},{timestamp:Rs(),discarded_events:e}];return Ci(t?{dsn:t}:{},[r])}function Dg(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function n1(e){var l;const{trace_id:t,parent_span_id:n,span_id:r,status:i,origin:s,data:o,op:a}=((l=e.contexts)==null?void 0:l.trace)??{};return{data:o??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:s,profile_id:o==null?void 0:o[Qm],exclusive_time:o==null?void 0:o[Jm],measurements:e.measurements,is_segment:!0}}function r1(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[Qm]:e.profile_id},...e.exclusive_time&&{[Jm]:e.exclusive_time}}}},measurements:e.measurements}}const Rg="Not capturing exception because it's already been captured.",Pg="Discarded session because of missing or non-string release",Og=Symbol.for("SentryInternalError"),Mg=Symbol.for("SentryDoNotSendEventError"),i1=5e3;function Pa(e){return{message:e,[Og]:!0}}function Yu(e){return{message:e,[Mg]:!0}}function Ag(e){return!!e&&typeof e=="object"&&Og in e}function $g(e){return!!e&&typeof e=="object"&&Mg in e}function Fg(e,t,n,r,i){let s=0,o,a=!1;e.on(n,()=>{s=0,clearTimeout(o),a=!1}),e.on(t,l=>{s+=r(l),s>=8e5?i(e):a||(a=!0,o=setTimeout(()=>{i(e)},i1))}),e.on("flush",()=>{i(e)})}class s1{constructor(t){var r,i,s;if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=Vu(((r=t.transportOptions)==null?void 0:r.bufferSize)??Lg),t.dsn?this._dsn=$w(t.dsn):q&&Z.warn("No DSN provided, client will not send events."),this._dsn){const o=FS(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:o})}this._options.enableLogs=this._options.enableLogs??((i=this._options._experiments)==null?void 0:i.enableLogs),this._options.enableLogs&&Fg(this,"afterCaptureLog","flushLogs",c1,Cg),(this._options.enableMetrics??((s=this._options._experiments)==null?void 0:s.enableMetrics)??!0)&&Fg(this,"afterCaptureMetric","flushMetrics",l1,jg)}captureException(t,n,r){const i=Yt();if(Um(t))return q&&Z.log(Rg),i;const s={event_id:i,...n};return this._process(()=>this.eventFromException(t,s).then(o=>this._captureEvent(o,s,r)).then(o=>o),"error"),s.event_id}captureMessage(t,n,r,i){const s={event_id:Yt(),...r},o=Nu(t)?t:String(t),a=Na(t),l=a?this.eventFromMessage(o,n,s):this.eventFromException(t,s);return this._process(()=>l.then(u=>this._captureEvent(u,s,i)),a?"unknown":"error"),s.event_id}captureEvent(t,n,r){const i=Yt();if(n!=null&&n.originalException&&Um(n.originalException))return q&&Z.log(Rg),i;const s={event_id:i,...n},o=t.sdkProcessingMetadata||{},a=o.capturedSpanScope,l=o.capturedSpanIsolationScope,u=zg(t.type);return this._process(()=>this._captureEvent(t,s,a||r,l),u),s.event_id}captureSession(t){this.sendSession(t),bi(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(t),i=await n.flush(t);return r&&i}async close(t){const n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Ng(this,t,this._integrations),n||bg(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=pS(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=iS(r,lS(i));this.sendEnvelope(r).then(i=>this.emit("afterSendEvent",t,i))}sendSession(t){const{release:n,environment:r=Mu}=this._options;if("aggregates"in t){const s=t.attrs||{};if(!s.release&&!n){q&&Z.warn(Pg);return}s.release=s.release||n,s.environment=s.environment||r,t.attrs=s}else{if(!t.release&&!n){q&&Z.warn(Pg);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const i=fS(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(i)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const i=`${t}:${n}`;q&&Z.log(`Recording outcome: "${i}"${r>1?` (${r} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||new Set,i=(...s)=>n(...s);return r.add(i),()=>{r.delete(i)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return q&&Z.error("Error while sending envelope:",n),{}}return q&&Z.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=HS(this,t),bg(this,t)}_updateSessionFromEvent(t,n){var l,u;let r=n.level==="fatal",i=!1;const s=(l=n.exception)==null?void 0:l.values;if(s){i=!0,r=!1;for(const d of s)if(((u=d.mechanism)==null?void 0:u.handled)===!1){r=!0;break}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(bi(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&(o!=null&&o.length)&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),kS(s,t,n,r,this,i).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:mw(r),...a.contexts};const l=Qw(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=jn(),i=Or()){return q&&Wu(t)&&Z.log(`Captured error event \`${Dg(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,i).then(s=>s.event_id,s=>{q&&($g(s)?Z.log(s.message):Ag(s)?Z.warn(s.message):Z.warn(s))})}_processEvent(t,n,r,i){const s=this.getOptions(),{sampleRate:o}=s,a=Bg(t),l=Wu(t),d=`before send for type \`${t.type||"error"}\``,p=typeof o>"u"?void 0:Fw(o);if(l&&typeof p=="number"&&ja()>p)return this.recordDroppedEvent("sample_rate","error"),Bu(Yu(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const m=zg(t.type);return this._prepareEvent(t,n,r,i).then(v=>{if(v===null)throw this.recordDroppedEvent("event_processor",m),Yu("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return v;const y=a1(this,s,v,n);return o1(y,d)}).then(v=>{var N;if(v===null){if(this.recordDroppedEvent("before_send",m),a){const f=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",f)}throw Yu(`${d} returned \`null\`, will not send event.`)}const w=r.getSession()||i.getSession();if(l&&w&&this._updateSessionFromEvent(w,v),a){const h=((N=v.sdkProcessingMetadata)==null?void 0:N.spanCountBeforeProcessing)||0,f=v.spans?v.spans.length:0,g=h-f;g>0&&this.recordDroppedEvent("before_send","span",g)}const y=v.transaction_info;if(a&&y&&v.transaction!==t.transaction){const h="custom";v.transaction_info={...y,source:h}}return this.sendEvent(v,n),v}).then(null,v=>{throw $g(v)||Ag(v)?v:(this.captureException(v,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:v}),Pa(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${v}`))})}_process(t,n){this._numProcessing++,this._promiseBuffer.add(t).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===Uu&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){q&&Z.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){q&&Z.log("No outcomes to send");return}if(!this._dsn){q&&Z.log("No dsn provided, will not send outcomes");return}q&&Z.log("Sending outcomes:",t);const n=t1(t,this._options.tunnel&&Os(this._dsn));this.sendEnvelope(n)}}function zg(e){return e==="replay_event"?"replay":e||"error"}function o1(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Ds(e))return e.then(r=>{if(!Ls(r)&&r!==null)throw Pa(n);return r},r=>{throw Pa(`${t} rejected with ${r}`)});if(!Ls(e)&&e!==null)throw Pa(n);return e}function a1(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o,ignoreSpans:a}=t;let l=n;if(Wu(l)&&i)return i(l,r);if(Bg(l)){if(o||a){const u=n1(l);if(a!=null&&a.length&&cg(u,a))return null;if(o){const d=o(u);d?l=Ps(n,r1(d)):ag()}if(l.spans){const d=[],p=l.spans;for(const v of p){if(a!=null&&a.length&&cg(v,a)){Zw(p,v);continue}if(o){const w=o(v);w?d.push(w):(ag(),d.push(v))}else d.push(v)}const m=l.spans.length-d.length;m&&e.recordDroppedEvent("before_send","span",m),l.spans=d}}if(s){if(l.spans){const u=l.spans.length;l.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return s(l,r)}}return l}function Wu(e){return e.type===void 0}function Bg(e){return e.type==="transaction"}function l1(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+Hg(e.attributes)}function c1(e){let t=0;return e.message&&(t+=e.message.length*2),t+Hg(e.attributes)}function Hg(e){if(!e)return 0;let t=0;return Object.values(e).forEach(n=>{Array.isArray(n)?t+=n.length*Ug(n[0]):Na(n)?t+=Ug(n):t+=100}),t}function Ug(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function u1(e){return ba(e)&&"__sentry_fetch_url_host__"in e&&typeof e.__sentry_fetch_url_host__=="string"}function Vg(e){return u1(e)?`${e.message} (${e.__sentry_fetch_url_host__})`:e.message}function d1(e,t){t.debug===!0&&(q?Z.enable():wi(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),jn().update(t.initialScope);const r=new e(t);return f1(r),r.init(),r}function f1(e){jn().setClient(e)}function Gu(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function p1(e,t=!0){if(e.startsWith("data:")){const n=e.match(/^data:([^;,]+)/),r=n?n[1]:"text/plain",i=e.includes(";base64,"),s=e.indexOf(",");let o="";if(t&&s!==-1){const a=e.slice(s+1);o=a.length>10?`${a.slice(0,10)}... [truncated]`:a}return`data:${r}${i?",base64":""}${o?`,${o}`:""}`}return e}function h1(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Yg(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:Ir})),version:Ir}),e._metadata=i}const m1=100;function Mr(e,t){const n=pt(),r=Or();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=m1}=n.getOptions();if(s<=0)return;const a={timestamp:Rs(),...e},l=i?wi(()=>i(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,s))}let Wg;const g1="FunctionToString",Gg=new WeakMap,v1=()=>({name:g1,setupOnce(){Wg=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=ju(this),n=Gg.has(pt())&&t!==void 0?t:this;return Wg.apply(n,e)}}catch{}},setup(e){Gg.set(e,!0)}}),y1=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],_1="EventFilters",x1=(e={})=>{let t;return{name:_1,setup(n){const r=n.getOptions();t=Zg(e,r)},processEvent(n,r,i){if(!t){const s=i.getOptions();t=Zg(e,s)}return S1(n,t)?null:n}}},w1=(e={})=>({...x1(e),name:"InboundFilters"});function Zg(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:y1],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function S1(e,t){if(e.type){if(e.type==="transaction"&&E1(e,t.ignoreTransactions))return q&&Z.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Pr(e)}`),!0}else{if(k1(e,t.ignoreErrors))return q&&Z.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Pr(e)}`),!0;if(T1(e))return q&&Z.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Pr(e)}`),!0;if(b1(e,t.denyUrls))return q&&Z.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Pr(e)}.
Url: ${Oa(e)}`),!0;if(!N1(e,t.allowUrls))return q&&Z.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Pr(e)}.
Url: ${Oa(e)}`),!0}return!1}function k1(e,t){return t!=null&&t.length?Dg(e).some(n=>Da(n,t)):!1}function E1(e,t){if(!(t!=null&&t.length))return!1;const n=e.transaction;return n?Da(n,t):!1}function b1(e,t){if(!(t!=null&&t.length))return!1;const n=Oa(e);return n?Da(n,t):!1}function N1(e,t){if(!(t!=null&&t.length))return!0;const n=Oa(e);return n?Da(n,t):!0}function C1(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Oa(e){var t,n;try{const r=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(s=>{var o,a,l;return((o=s.mechanism)==null?void 0:o.parent_id)===void 0&&((l=(a=s.stacktrace)==null?void 0:a.frames)==null?void 0:l.length)}),i=(n=r==null?void 0:r.stacktrace)==null?void 0:n.frames;return i?C1(i):null}catch{return q&&Z.error(`Cannot extract url for event ${Pr(e)}`),null}}function T1(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function j1(e,t,n,r,i,s){var a;if(!((a=i.exception)!=null&&a.values)||!s||!ar(s.originalException,Error))return;const o=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;o&&(i.exception.values=Zu(e,t,r,s.originalException,n,i.exception.values,o,0))}function Zu(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let l=[...s];if(ar(r[i],Error)){Xg(o,a,r);const u=e(t,r[i]),d=l.length;Qg(u,i,d,a),l=Zu(e,t,n,r[i],i,[u,...l],u,d)}return Kg(r)&&r.errors.forEach((u,d)=>{if(ar(u,Error)){Xg(o,a,r);const p=e(t,u),m=l.length;Qg(p,`errors[${d}]`,m,a),l=Zu(e,t,n,u,i,[p,...l],p,m)}}),l}function Kg(e){return Array.isArray(e.errors)}function Xg(e,t,n){e.mechanism={handled:!0,type:"auto.core.linked_errors",...Kg(n)&&{is_exception_group:!0},...e.mechanism,exception_id:t}}function Qg(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function I1(e){const t="console";Dr(t,e),Rr(t,L1)}function L1(){"console"in ge&&Dx.forEach(function(e){e in ge.console&&At(ge.console,e,function(t){return Sa[e]=t,function(...n){qt("console",{args:n,level:e});const i=Sa[e];i==null||i.apply(ge.console,n)}})})}function D1(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const R1="Dedupe",P1=()=>{let e;return{name:R1,processEvent(t){if(t.type)return t;try{if(O1(t,e))return q&&Z.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};function O1(e,t){return t?!!(M1(e,t)||A1(e,t)):!1}function M1(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!qg(e,t)||!Jg(e,t))}function A1(e,t){const n=ev(t),r=ev(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!qg(e,t)||!Jg(e,t))}function Jg(e,t){let n=Tm(e),r=Tm(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function qg(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function ev(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}const $1="ConversationId",F1=()=>({name:$1,setup(e){e.on("spanStart",t=>{const n=jn().getScopeData(),r=Or().getScopeData(),i=n.conversationId||r.conversationId;i&&t.setAttribute(ww,i)})}});function tv(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const $s=ge;function z1(){return"history"in $s&&!!$s.history}function B1(){if(!("fetch"in $s))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function Ku(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function H1(){var n;if(typeof EdgeRuntime=="string")return!0;if(!B1())return!1;if(Ku($s.fetch))return!0;let e=!1;const t=$s.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(e=Ku(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){q&&Z.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function U1(e,t){const n="fetch";Dr(n,e),Rr(n,()=>V1(void 0,t))}function V1(e,t=!1){t&&!H1()||At(ge,"fetch",function(n){return function(...r){const i=new Error,{method:s,url:o}=Y1(r),a={args:r,fetchData:{method:s,url:o},startTimestamp:Tn()*1e3,virtualError:i,headers:W1(r)};return qt("fetch",{...a}),n.apply(ge,r).then(async l=>(qt("fetch",{...a,endTimestamp:Tn()*1e3,response:l}),l),l=>{qt("fetch",{...a,endTimestamp:Tn()*1e3,error:l}),ba(l)&&l.stack===void 0&&(l.stack=i.stack,lr(l,"framesToPop",1));const u=pt(),d=(u==null?void 0:u.getOptions().enhanceFetchErrorMessages)??"always";if(d!==!1&&l instanceof TypeError&&(l.message==="Failed to fetch"||l.message==="Load failed"||l.message==="NetworkError when attempting to fetch resource."))try{const v=new URL(a.fetchData.url).host;d==="always"?l.message=`${l.message} (${v})`:lr(l,"__sentry_fetch_url_host__",v)}catch{}throw l})}})}function Ma(e,t){return!!e&&typeof e=="object"&&!!e[t]}function nv(e){return typeof e=="string"?e:e?Ma(e,"url")?e.url:e.toString?e.toString():"":""}function Y1(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:nv(n),method:Ma(r,"method")?String(r.method).toUpperCase():Om(n)&&Ma(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:nv(t),method:Ma(t,"method")?String(t.method).toUpperCase():"GET"}}function W1(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(Om(t))return new Headers(t.headers)}catch{}}function G1(){return"npm"}const Ye=ge;let Xu=0;function rv(){return Xu>0}function Z1(){Xu++,setTimeout(()=>{Xu--})}function Ti(e,t={}){function n(i){return typeof i=="function"}if(!n(e))return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(ju(e))return e}catch{return e}const r=function(...i){try{const s=i.map(o=>Ti(o,t));return e.apply(this,s)}catch(s){throw Z1(),hw(o=>{o.addEventProcessor(a=>(t.mechanism&&(Du(a,void 0),Ei(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),en(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}Am(r,e),lr(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function K1(){const e=Tu(),{referrer:t}=Ye.document||{},{userAgent:n}=Ye.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function Qu(e,t){const n=qu(e,t),r={type:ek(t),value:tk(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function X1(e,t,n,r){const i=pt(),s=i==null?void 0:i.getOptions().normalizeDepth,o=ok(t),a={__serialized__:dg(t,s)};if(o)return{exception:{values:[Qu(e,o)]},extra:a};const l={exception:{values:[{type:Ca(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:ik(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=qu(e,n);u.length&&(l.exception.values[0].stacktrace={frames:u})}return l}function Ju(e,t){return{exception:{values:[Qu(e,t)]}}}function qu(e,t){const n=t.stacktrace||t.stack||"",r=J1(t),i=q1(t);try{return e(n,r,i)}catch{}return[]}const Q1=/Minified React error #\d+;/i;function J1(e){return e&&Q1.test(e.message)?1:0}function q1(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function iv(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function ek(e){const t=e==null?void 0:e.name;return!t&&iv(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function tk(e){const t=e==null?void 0:e.message;return iv(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?Vg(t.error):Vg(e):"No error message"}function nk(e,t,n,r){const i=(n==null?void 0:n.syntheticException)||void 0,s=ed(e,t,i,r);return Ei(s),s.level="error",n!=null&&n.event_id&&(s.event_id=n.event_id),Ra(s)}function rk(e,t,n="info",r,i){const s=(r==null?void 0:r.syntheticException)||void 0,o=td(e,t,s,i);return o.level=n,r!=null&&r.event_id&&(o.event_id=r.event_id),Ra(o)}function ed(e,t,n,r,i){let s;if(Dm(t)&&t.error)return Ju(e,t.error);if(Rm(t)||Yx(t)){const o=t;if("stack"in t)s=Ju(e,t);else{const a=o.name||(Rm(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;s=td(e,l,n,r),Du(s,l)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return ba(t)?Ju(e,t):Ls(t)||Ca(t)?(s=X1(e,t,n,i),Ei(s,{synthetic:!0}),s):(s=td(e,t,n,r),Du(s,`${t}`),Ei(s,{synthetic:!0}),s)}function td(e,t,n,r){const i={};if(r&&n){const s=qu(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]}),Ei(i,{synthetic:!0})}if(Nu(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function ik(e,{isUnhandledRejection:t}){const n=Jx(e),r=t?"promise rejection":"exception";return Dm(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Ca(e)?`Event \`${sk(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function sk(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function ok(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class ak extends s1{constructor(t){var d;const n=lk(t),r=Ye.SENTRY_SDK_SOURCE||G1();Yg(n,"browser",["browser"],r),(d=n._metadata)!=null&&d.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:i,sendClientReports:s,enableLogs:o,_experiments:a,enableMetrics:l}=this._options,u=l??(a==null?void 0:a.enableMetrics)??!0;Ye.document&&(s||o||u)&&Ye.document.addEventListener("visibilitychange",()=>{Ye.document.visibilityState==="hidden"&&(s&&this._flushOutcomes(),o&&Cg(this),u&&jg(this))}),i&&this.on("beforeSendSession",h1)}eventFromException(t,n){return nk(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return rk(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,i){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,i)}}function lk(e){return{release:"health-tool-widget@59af014",sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const ck=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,_t=ge,uk=1e3;let sv,nd,rd;function dk(e){const t="dom";Dr(t,e),Rr(t,fk)}function fk(){if(!_t.document)return;const e=qt.bind(null,"dom"),t=ov(e,!0);_t.document.addEventListener("click",t,!1),_t.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var s,o;const i=(s=_t[n])==null?void 0:s.prototype;(o=i==null?void 0:i.hasOwnProperty)!=null&&o.call(i,"addEventListener")&&(At(i,"addEventListener",function(a){return function(l,u,d){if(l==="click"||l=="keypress")try{const p=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},m=p[l]=p[l]||{refCount:0};if(!m.handler){const v=ov(e);m.handler=v,a.call(this,l,v,d)}m.refCount++}catch{}return a.call(this,l,u,d)}}),At(i,"removeEventListener",function(a){return function(l,u,d){if(l==="click"||l=="keypress")try{const p=this.__sentry_instrumentation_handlers__||{},m=p[l];m&&(m.refCount--,m.refCount<=0&&(a.call(this,l,m.handler,d),m.handler=void 0,delete p[l]),Object.keys(p).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,l,u,d)}}))})}function pk(e){if(e.type!==nd)return!1;try{if(!e.target||e.target._sentryId!==rd)return!1}catch{}return!0}function hk(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function ov(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=mk(n);if(hk(n.type,r))return;lr(n,"_sentryCaptured",!0),r&&!r._sentryId&&lr(r,"_sentryId",Yt());const i=n.type==="keypress"?"input":n.type;pk(n)||(e({event:n,name:i,global:t}),nd=n.type,rd=r?r._sentryId:void 0),clearTimeout(sv),sv=_t.setTimeout(()=>{rd=void 0,nd=void 0},uk)}}function mk(e){try{return e.target}catch{return null}}let Aa;function av(e){const t="history";Dr(t,e),Rr(t,gk)}function gk(){if(_t.addEventListener("popstate",()=>{const t=_t.location.href,n=Aa;if(Aa=t,n===t)return;qt("history",{from:n,to:t})}),!z1())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const i=Aa,s=vk(String(r));if(Aa=s,i===s)return t.apply(this,n);qt("history",{from:i,to:s})}return t.apply(this,n)}}At(_t.history,"pushState",e),At(_t.history,"replaceState",e)}function vk(e){try{return new URL(e,_t.location.origin).toString()}catch{return e}}const $a={};function yk(e){const t=$a[e];if(t)return t;let n=_t[e];if(Ku(n))return $a[e]=n.bind(_t);const r=_t.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s!=null&&s[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){ck&&Z.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&($a[e]=n.bind(_t))}function _k(e){$a[e]=void 0}const Fs="__sentry_xhr_v3__";function xk(e){const t="xhr";Dr(t,e),Rr(t,wk)}function wk(){if(!_t.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=new Error,s=Tn()*1e3,o=Cn(r[0])?r[0].toUpperCase():void 0,a=Sk(r[1]);if(!o||!a)return t.apply(n,r);n[Fs]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const u=n[Fs];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:Tn()*1e3,startTimestamp:s,xhr:n,virtualError:i};qt("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,p){return l(),u.apply(d,p)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,p){const[m,v]=p,w=d[Fs];return w&&Cn(m)&&Cn(v)&&(w.request_headers[m.toLowerCase()]=v),u.apply(d,p)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[Fs];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:Tn()*1e3,xhr:n};return qt("xhr",s),t.apply(n,r)}})}function Sk(e){if(Cn(e))return e;try{return e.toString()}catch{}}const kk=40;function Ek(e,t=yk("fetch")){let n=0,r=0;async function i(s){const o=s.body.length;n+=o,r++;const a={body:s.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{const l=await t(e.url,a);return{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}}catch(l){throw _k("fetch"),l}finally{n-=o,r--}}return e1(e,i,Vu(e.bufferSize||kk))}const Fa=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,bk=30,Nk=50;function id(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?Lr:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const Ck=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Tk=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,jk=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ik=/at (.+?) ?\(data:(.+?),/,Lk=[bk,e=>{const t=e.match(Ik);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=Ck.exec(e);if(n){const[,i,s,o]=n;return id(i,Lr,+s,+o)}const r=Tk.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=jk.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[s,o]=lv(r[1]||Lr,r[2]);return id(o,s,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],Dk=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Rk=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Pk=Cm(...[Lk,[Nk,e=>{const t=Dk.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=Rk.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||Lr;return[i,r]=lv(i,r),id(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]]),lv=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Lr,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},za=1024,Ok="Breadcrumbs",Mk=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Ok,setup(n){t.console&&I1(Fk(n)),t.dom&&dk($k(n,t.dom)),t.xhr&&xk(zk(n)),t.fetch&&U1(Bk(n)),t.history&&av(Hk(n)),t.sentry&&n.on("beforeSendEvent",Ak(n))}}};function Ak(e){return function(n){pt()===e&&Mr({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Pr(n)},{event:n})}}function $k(e,t){return function(r){if(pt()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>za&&(Fa&&Z.warn(`\`dom.maxStringLength\` cannot exceed ${za}, but a value of ${a} was configured. Sentry will use ${za} instead.`),a=za),typeof o=="string"&&(o=[o]);try{const u=r.event,d=Uk(u)?u.target:u;i=Mm(d,{keyAttrs:o,maxStringLength:a}),s=Qx(d)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};s&&(l.data={"ui.component_name":s}),Mr(l,{event:r.event,name:r.name,global:r.global})}}function Fk(e){return function(n){if(pt()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:D1(n.level),message:Bm(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Bm(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Mr(r,{input:n.args,level:n.level})}}function zk(e){return function(n){if(pt()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[Fs];if(!r||!i||!s)return;const{method:o,url:a,status_code:l,body:u}=s,d={method:o,url:a,status_code:l},p={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:i},m={category:"xhr",data:d,type:"http",level:tv(l)};e.emit("beforeOutgoingRequestBreadcrumb",m,p),Mr(m,p)}}function Bk(e){return function(n){if(pt()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i},a={category:"fetch",data:s,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,o),Mr(a,o)}else{const s=n.response,o={...n.fetchData,status_code:s==null?void 0:s.status};n.fetchData.request_body_size,n.fetchData.response_body_size,s==null||s.status;const a={input:n.args,response:s,startTimestamp:r,endTimestamp:i},l={category:"fetch",data:o,type:"http",level:tv(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",l,a),Mr(l,a)}}}function Hk(e){return function(n){if(pt()!==e)return;let r=n.from,i=n.to;const s=Gu(Ye.location.href);let o=r?Gu(r):void 0;const a=Gu(i);o!=null&&o.path||(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),Mr({category:"navigation",data:{from:r,to:i}})}}function Uk(e){return!!e&&!!e.target}const Vk=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Yk="BrowserApiErrors",Wk=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:Yk,setupOnce(){t.setTimeout&&At(Ye,"setTimeout",cv),t.setInterval&&At(Ye,"setInterval",cv),t.requestAnimationFrame&&At(Ye,"requestAnimationFrame",Gk),t.XMLHttpRequest&&"XMLHttpRequest"in Ye&&At(XMLHttpRequest.prototype,"send",Zk);const n=t.eventTarget;n&&(Array.isArray(n)?n:Vk).forEach(i=>Kk(i,t))}}};function cv(e){return function(...t){const n=t[0];return t[0]=Ti(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${or(e)}`}}),e.apply(this,t)}}function Gk(e){return function(t){return e.apply(this,[Ti(t,{mechanism:{data:{handler:or(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function Zk(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&At(n,i,function(s){const o={mechanism:{data:{handler:or(s)},handled:!1,type:`auto.browser.browserapierrors.xhr.${i}`}},a=ju(s);return a&&(o.mechanism.data.handler=or(a)),Ti(s,o)})}),e.apply(this,t)}}function Kk(e,t){var i,s;const r=(i=Ye[e])==null?void 0:i.prototype;(s=r==null?void 0:r.hasOwnProperty)!=null&&s.call(r,"addEventListener")&&(At(r,"addEventListener",function(o){return function(a,l,u){try{Xk(l)&&(l.handleEvent=Ti(l.handleEvent,{mechanism:{data:{handler:or(l),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&Qk(this,a,l),o.apply(this,[a,Ti(l,{mechanism:{data:{handler:or(l),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),u])}}),At(r,"removeEventListener",function(o){return function(a,l,u){try{const d=l.__sentry_wrapped__;d&&o.call(this,a,d,u)}catch{}return o.call(this,a,l,u)}}))}function Xk(e){return typeof e.handleEvent=="function"}function Qk(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const Jk=()=>({name:"BrowserSession",setupOnce(){if(typeof Ye.document>"u"){Fa&&Z.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}xg({ignoreDuration:!0}),kg(),av(({from:e,to:t})=>{e!==void 0&&e!==t&&(xg({ignoreDuration:!0}),kg())})}}),qk="GlobalHandlers",eE=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:qk,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(tE(n),uv("onerror")),t.onunhandledrejection&&(nE(n),uv("onunhandledrejection"))}}};function tE(e){Bx(t=>{const{stackParser:n,attachStacktrace:r}=dv();if(pt()!==e||rv())return;const{msg:i,url:s,line:o,column:a,error:l}=t,u=sE(ed(n,l||i,void 0,r,!1),s,o,a);u.level="error",_g(u,{originalException:l,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function nE(e){Ux(t=>{const{stackParser:n,attachStacktrace:r}=dv();if(pt()!==e||rv())return;const i=rE(t),s=Na(i)?iE(i):ed(n,i,void 0,r,!0);s.level="error",_g(s,{originalException:i,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function rE(e){if(Na(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function iE(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function sE(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],u=r,d=n,p=oE(t)??Tu();return l.length===0&&l.push({colno:u,filename:p,function:Lr,in_app:!0,lineno:d}),e}function uv(e){Fa&&Z.log(`Global Handler attached: ${e}`)}function dv(){const e=pt();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function oE(e){if(!(!Cn(e)||e.length===0))return e.startsWith("data:")?`<${p1(e,!1)}>`:e}const aE=()=>({name:"HttpContext",preprocessEvent(e){var r;if(!Ye.navigator&&!Ye.location&&!Ye.document)return;const t=K1(),n={...t.headers,...(r=e.request)==null?void 0:r.headers};e.request={...t,...e.request,headers:n}}}),lE="cause",cE=5,uE="LinkedErrors",dE=(e={})=>{const t=e.limit||cE,n=e.key||lE;return{name:uE,preprocessEvent(r,i,s){const o=s.getOptions();j1(Qu,o.stackParser,n,t,r,i)}}};function fE(){return pE()?(Fa&&wi(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function pE(){var s;if(typeof Ye.window>"u")return!1;const e=Ye;if(e.nw)return!1;const t=e.chrome||e.browser;if(!((s=t==null?void 0:t.runtime)!=null&&s.id))return!1;const n=Tu(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(Ye===Ye.top&&r.some(o=>n.startsWith(`${o}://`)))}function hE(e){return[w1(),v1(),F1(),Wk(),Mk(),eE(),dE(),P1(),aE(),Jk()]}function mE(e={}){const t=!e.skipBrowserExtensionCheck&&fE();let n=e.defaultIntegrations==null?hE():e.defaultIntegrations;const r={...e,enabled:t?!1:e.enabled,stackParser:Fx(e.stackParser||Pk),integrations:BS({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||Ek};return d1(ak,r)}function gE(e){const t={...e};return Yg(t,"react"),PS("react",{version:A.version}),mE(t)}const fv="https://d7664c1590ec997ebf0126ed5917fea4@o4510813459709952.ingest.us.sentry.io/4510813465280512";let pv=!1;function vE(){pv||fv==="YOUR_SENTRY_DSN"||(pv=!0,gE({dsn:fv,release:"health-tool-widget@59af014",environment:window.location.hostname.includes("myshopify.com")?"production":"development",tracesSampleRate:.2,enabled:!window.location.hostname.includes("localhost"),normalizeDepth:5,ignoreErrors:[/Failed to fetch/],allowUrls:[/health-tool\.js/,/health-history\.js/],beforeBreadcrumb(e){return e.category==="ui.click"&&e.data&&delete e.data.target,e}}))}const hn="/apps/health-tool-1";async function yE(e,t,n){try{return await e()}catch(r){return console.warn(t,r),en(r),n}}async function hv(){try{const e=await fetch(`${hn}/api/measurements`);if(!e.ok)return null;const t=await e.json();if(!t.success||!t.data)return null;const n=fx(t.data,t.profile),r={};for(const i of _a)n[i]!==void 0&&(r[i]=n[i]);return n.unitSystem!==void 0&&(r.unitSystem=n.unitSystem),{inputs:r,previousMeasurements:t.data,medications:t.medications??[],screenings:t.screenings??[],reminderPreferences:t.reminderPreferences??[]}}catch(e){return console.warn("Error loading measurements:",e),en(e),null}}async function sd(e,t,n){try{const r=await fetch(`${hn}/api/measurements`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({metricType:e,value:t,recordedAt:n})});if(!r.ok)return null;const i=await r.json();return i.success&&i.data||null}catch(r){return console.warn("Error adding measurement:",r),en(r),null}}async function _E(e){try{const t=await fetch(`${hn}/api/measurements`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({profile:e})});return t.ok?(await t.json()).success:!1}catch(t){return console.warn("Error saving profile:",t),en(t),!1}}async function xE(){try{const e=new AbortController,t=setTimeout(()=>e.abort(),3e4),n=await fetch(`${hn}/api/user-data`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({confirmDelete:!0}),signal:e.signal});return clearTimeout(t),n.ok?(await n.json()).success:!1}catch(e){return console.warn("Error deleting user data:",e),en(e),!1}}async function mv(e,t,n=null,r=null){try{const i=await fetch(`${hn}/api/measurements`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({medication:{medicationKey:e,drugName:t,doseValue:n,doseUnit:r}})});return i.ok?(await i.json()).success:!1}catch(i){return console.warn("Error saving medication:",i),en(i),!1}}async function gv(e,t){try{const n=await fetch(`${hn}/api/measurements`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({screening:{screeningKey:e,value:t}})});return n.ok?(await n.json()).success:!1}catch(n){return console.warn("Error saving screening:",n),en(n),!1}}async function wE(e,t){try{const n=await fetch(`${hn}/api/reminders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reminderPreference:{category:e,enabled:t}})});return n.ok?(await n.json()).success:!1}catch(n){return console.warn("Error saving reminder preference:",n),en(n),!1}}async function SE(e){try{const t=await fetch(`${hn}/api/reminders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({globalOptout:e})});return t.ok?(await t.json()).success:!1}catch(t){return console.warn("Error setting global reminder optout:",t),en(t),!1}}async function kE(e,t){return yE(async()=>{const n=await fetch(`${hn}/api/feedback`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,message:t,website:""})});return n.ok?(await n.json()).success:!1},"Error sending feedback",!1)}async function vv(e,t){const n=hx(e,t);if(n&&!await _E(n))return!1;const r=px(e,t);return r.length===0?!0:(await Promise.all(r.map(s=>sd(s.metricType,s.value)))).every(s=>s!==null)}function yv({initialExpanded:e=!1,onClose:t,showSourceLink:n=!0}){const[r,i]=A.useState(e),[s,o]=A.useState(""),[a,l]=A.useState(""),[u,d]=A.useState("idle"),p=s.trim()!==""&&a.trim()!==""&&u!=="sending";function m(){i(!1),d("idle"),t==null||t()}async function v(w){if(w.preventDefault(),!p)return;d("sending"),await kE(s.trim(),a.trim())?(d("sent"),o(""),l(""),setTimeout(()=>{d("idle"),i(!1),t==null||t()},3e3)):d("error")}return c.jsx("div",{className:"feedback-section",id:e?void 0:"health-feedback",children:u==="sent"?c.jsx("p",{className:"feedback-success",children:"Thank you for your feedback!"}):r?c.jsxs("form",{className:"feedback-form",onSubmit:v,children:[c.jsxs("label",{className:"feedback-label",children:["Email",c.jsx("input",{type:"email",className:"feedback-input",value:s,onChange:w=>o(w.target.value),placeholder:"your@email.com",required:!0,maxLength:200})]}),c.jsxs("label",{className:"feedback-label",children:["Message",c.jsx("textarea",{className:"feedback-textarea",value:a,onChange:w=>l(w.target.value),placeholder:"Your feedback...",required:!0,maxLength:2e3,rows:4})]}),c.jsx("div",{"aria-hidden":"true",style:{position:"absolute",left:"-9999px",opacity:0},children:c.jsx("input",{type:"text",name:"website",tabIndex:-1,autoComplete:"off"})}),u==="error"&&c.jsx("p",{className:"feedback-error",children:"Failed to send. Please try again."}),c.jsxs("div",{className:"feedback-actions",children:[c.jsx("button",{type:"submit",className:"btn-primary feedback-submit",disabled:!p,children:u==="sending"?"Sending...":"Send"}),c.jsx("button",{type:"button",className:"feedback-cancel",onClick:m,children:"Cancel"})]}),n&&c.jsx("a",{href:"https://github.com/DrBradStanfield/roadmap",target:"_blank",rel:"noopener noreferrer",className:"source-code-link",children:"View source code"})]}):c.jsxs("div",{className:"feedback-links",children:[c.jsx("button",{type:"button",className:"feedback-btn",onClick:()=>i(!0),children:"Send feedback"}),n&&c.jsx("a",{href:"https://github.com/DrBradStanfield/roadmap",target:"_blank",rel:"noopener noreferrer",className:"source-code-link",children:"View source code"})]})})}function EE(e){return e<18.5?{label:"Underweight",className:"status-attention"}:e<25?{label:"Normal",className:"status-normal"}:e<30?{label:"Overweight",className:"status-info"}:{label:"Obese",className:"status-attention"}}function bE(e){return e>=.5?{label:"Elevated",className:"status-attention"}:{label:"Healthy",className:"status-normal"}}function od(e,t){return e>=t.veryHigh?{label:"Very High",className:"status-urgent"}:e>=t.high?{label:"High",className:"status-attention"}:e>=t.borderline?{label:"Borderline",className:"status-info"}:{label:"Optimal",className:"status-normal"}}const NE=["nutrition","screening","bloodwork","medication"],_v=["nutrition","exercise","sleep","screening","bloodwork","medication","blood_pressure","general"],Ba={info:"suggestion-info",attention:"suggestion-attention",urgent:"suggestion-urgent"};function Ha({suggestion:e,highlighted:t,fadingOut:n}){const r=e.category==="supplements",i=e.category==="skin",s=r||i,o=n?" suggestion-highlight suggestion-fade-out":t?" suggestion-highlight":"";return c.jsxs("div",{className:`suggestion-card ${Ba[e.priority]}${r?" supplement-card":""}${i?" skin-card":""}${o}`,children:[!s&&c.jsx("div",{className:"suggestion-header",children:c.jsxs("span",{className:`suggestion-badge ${Ba[e.priority]}`,children:[e.priority==="urgent"&&" ",e.category.replace(/_/g," ")]})}),c.jsx("h4",{className:"suggestion-title",children:e.link?c.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:e.title}):e.title}),c.jsx("p",{className:"suggestion-desc",children:e.description})]})}function CE({suggestions:e,category:t,highlightedIds:n,fadingOutIds:r}){const i=e.some(s=>s.priority==="urgent")?"urgent":e.some(s=>s.priority==="attention")?"attention":"info";return c.jsxs("div",{className:`suggestion-card grouped-card ${Ba[i]}`,children:[c.jsx("div",{className:"suggestion-header",children:c.jsxs("span",{className:`suggestion-badge ${Ba[i]}`,children:[i==="urgent"&&" ",t.replace(/_/g," ")]})}),c.jsx("div",{className:"grouped-subsections",children:e.map(s=>{const o=r!=null&&r.has(s.id)?" suggestion-highlight suggestion-fade-out":n!=null&&n.has(s.id)?" suggestion-highlight":"";return c.jsxs("div",{className:`suggestion-subsection${o}`,children:[c.jsx("h4",{className:"suggestion-title",children:s.title}),c.jsx("p",{className:"suggestion-desc",children:s.description})]},s.id)})})]})}function TE(e){const t=new Map;for(const n of e){const r=n.category;t.has(r)||t.set(r,[]),t.get(r).push(n)}return t}function ad(e,t,n){const r=TE(e),i=[];for(const s of _v){const o=r.get(s);if(!(!o||o.length===0))if(NE.includes(s)&&o.length>1)i.push(c.jsx(CE,{suggestions:o,category:s,highlightedIds:t,fadingOutIds:n},s));else for(const a of o)i.push(c.jsx(Ha,{suggestion:a,highlighted:t==null?void 0:t.has(a.id),fadingOut:n==null?void 0:n.has(a.id)},a.id))}for(const[s,o]of r.entries())if(!_v.includes(s))for(const a of o)i.push(c.jsx(Ha,{suggestion:a,highlighted:t==null?void 0:t.has(a.id),fadingOut:n==null?void 0:n.has(a.id)},a.id));return i}function xv({authState:e,saveStatus:t,hasUnsavedLongitudinal:n,onSaveLongitudinal:r,isSavingLongitudinal:i,redirectFailed:s}){const[o,a]=A.useState(!1);if(!e)return null;if(e.isLoggedIn){const l=t==="saving"?"Saving...":t==="first-saved"?" Saved  check your email for your health report!":t==="saved"?" Saved":t==="error"?"Failed to save":"Data synced",u=t==="error"?"error":t==="saving"?"saving":"idle";return c.jsxs("div",{className:"account-status logged-in",children:[c.jsxs("div",{className:"account-status-row",children:[c.jsxs("span",{className:"account-info-inline",children:[c.jsx("span",{className:"account-icon",children:""}),c.jsx("a",{href:e.accountUrl||"/account",target:"_blank",rel:"noopener noreferrer",className:"logged-in-link",children:"Logged in"}),"  ",c.jsx("span",{className:`save-indicator-inline ${u}`,children:l})]}),c.jsx("button",{type:"button",className:"feedback-btn-small",onClick:()=>a(!o),children:"Send feedback"})]}),o&&c.jsx(yv,{initialExpanded:!0,showSourceLink:!1,onClose:()=>a(!1)}),n&&r&&c.jsx("button",{className:"btn-primary save-top-btn",onClick:r,disabled:i,children:i?"Saving...":"Save New Values"})]})}return c.jsxs("div",{className:"guest-cta no-print",children:[c.jsx("div",{className:"guest-cta-text",children:s?c.jsxs(c.Fragment,{children:[c.jsx("strong",{children:"Welcome back"}),c.jsx("span",{children:"Sign in to access your saved data and health history."})]}):c.jsxs(c.Fragment,{children:[c.jsx("strong",{children:"Get Your Personalized Health Report"}),c.jsx("span",{children:"Save your data and get an email summary to discuss with doctor."})]})}),c.jsx("a",{href:e.loginUrl||"/account/login",className:"guest-cta-btn",children:s?"Sign In":"Create Free Account"})]})}function jE(e,t){return Ex.filter(n=>n==="screening_breast"||n==="screening_cervical"?e==="female":n==="screening_prostate"?e==="male":n==="screening_dexa"?t===void 0?!1:e==="female"&&t>=50||e==="male"&&t>=70:!0)}function IE({preferences:e,onPreferenceChange:t,onGlobalOptout:n,sex:r,age:i}){const[s,o]=A.useState(!1),a=jE(r,i),l=new Set(e.filter(u=>!u.enabled).map(u=>u.reminderCategory));return c.jsxs("div",{className:"reminder-settings",children:[c.jsxs("button",{className:"reminder-settings-toggle",onClick:()=>o(!s),type:"button",children:["Email Reminders",c.jsx("span",{className:"collapse-chevron",children:s?"":""})]}),s&&c.jsxs("div",{className:"reminder-settings-content",children:[c.jsx("p",{className:"reminder-settings-desc",children:"Choose which health reminder emails you'd like to receive."}),c.jsx("div",{className:"reminder-checkboxes",children:a.map(u=>{const d=!l.has(u);return c.jsxs("label",{className:"reminder-checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:d,onChange:p=>t(u,p.target.checked)}),c.jsx("span",{children:bx[u]})]},u)})}),n&&c.jsx("button",{className:"reminder-unsubscribe-btn",onClick:n,type:"button",children:"Unsubscribe from all health notifications"})]})]})}function wv({results:e,isValid:t,authState:n,saveStatus:r,unitSystem:i,hasUnsavedLongitudinal:s,onSaveLongitudinal:o,isSavingLongitudinal:a,onDeleteData:l,isDeleting:u,redirectFailed:d,reminderPreferences:p,onReminderPreferenceChange:m,onGlobalReminderOptout:v,sex:w}){const[y,N]=A.useState(new Set),[h,f]=A.useState(new Set),g=A.useRef(new Map),E=A.useRef(!1),_=A.useRef(),S=A.useRef();if(A.useEffect(()=>{const L=setTimeout(()=>{E.current=!0},3e3);return()=>clearTimeout(L)},[]),A.useEffect(()=>{const L=(e==null?void 0:e.suggestions)??[],Xe=new Map(L.map(Fe=>[Fe.id,{title:Fe.title,description:Fe.description}]));if(!E.current){g.current=Xe;return}const Qe=new Set;for(const Fe of L){const D=g.current.get(Fe.id);D?(D.title!==Fe.title||D.description!==Fe.description)&&Qe.add(Fe.id):Qe.add(Fe.id)}return S.current&&clearTimeout(S.current),f(new Set),N(Qe),_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{f(Qe),N(new Set),S.current=setTimeout(()=>{f(new Set),g.current=Xe},500)},3e3),()=>{_.current&&clearTimeout(_.current),S.current&&clearTimeout(S.current)}},[e==null?void 0:e.suggestions]),!t||!e)return c.jsxs("div",{className:"health-results-panel",children:[c.jsx(xv,{authState:n,saveStatus:r,hasUnsavedLongitudinal:s,onSaveLongitudinal:o,isSavingLongitudinal:a,redirectFailed:d}),c.jsxs("div",{className:"results-placeholder",children:[c.jsx("div",{className:"placeholder-icon",children:""}),c.jsx("h3",{children:"Enter your information"}),c.jsx("p",{children:"Fill in your height and sex to see your personalized health suggestions. The more information you provide, the more tailored your recommendations will be."})]})]});const I=He("weight",i),j=ft("weight",e.idealBodyWeight,i),J=e.suggestions.filter(L=>L.priority==="urgent"),F=e.suggestions.filter(L=>L.priority==="attention"),V=e.suggestions.filter(L=>L.priority==="info"&&L.category!=="supplements"&&L.category!=="skin"),ot=e.suggestions.filter(L=>L.category==="supplements"),ve=e.suggestions.filter(L=>L.category==="skin");return c.jsxs("div",{className:"health-results-panel",children:[c.jsx(xv,{authState:n,saveStatus:r,hasUnsavedLongitudinal:s,onSaveLongitudinal:o,isSavingLongitudinal:a}),c.jsxs("section",{className:"quick-stats",children:[c.jsx("h3",{className:"results-section-title",children:"Your Health Snapshot"}),c.jsxs("div",{className:"stats-grid",children:[c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-label",children:"Ideal Body Weight"}),c.jsxs("span",{className:"stat-value",children:[j," ",I]}),c.jsxs("span",{className:"stat-status status-normal",children:["for ",Xh(e.heightCm,i)," height"]})]}),c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-label",children:"Protein Target"}),c.jsxs("span",{className:"stat-value",children:[e.proteinTarget,"g/day"]}),c.jsx("span",{className:"stat-status status-normal",children:e.eGFR!==void 0&&e.eGFR<ws.mildlyDecreased?"1.0g per kg IBW":"1.2g per kg IBW"})]}),e.bmi!==void 0&&(()=>{const L=EE(e.bmi);return c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-label",children:"BMI"}),c.jsx("span",{className:"stat-value",children:e.bmi}),c.jsx("span",{className:`stat-status ${L.className}`,children:L.label})]})})(),e.apoB!==void 0?(()=>{const L=od(e.apoB,Ss);return c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-label",children:"ApoB"}),c.jsxs("span",{className:"stat-value",children:[ft("apob",e.apoB,i)," ",He("apob",i)]}),c.jsx("span",{className:`stat-status ${L.className}`,children:L.label})]})})():e.nonHdlCholesterol!==void 0?(()=>{const L=od(e.nonHdlCholesterol,xs);return c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-label",children:"Non-HDL Cholesterol"}),c.jsxs("span",{className:"stat-value",children:[ft("ldl",e.nonHdlCholesterol,i)," ",He("ldl",i)]}),c.jsx("span",{className:`stat-status ${L.className}`,children:L.label})]})})():e.ldlC!==void 0?(()=>{const L=od(e.ldlC,ua);return c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-label",children:"LDL Cholesterol"}),c.jsxs("span",{className:"stat-value",children:[ft("ldl",e.ldlC,i)," ",He("ldl",i)]}),c.jsx("span",{className:`stat-status ${L.className}`,children:L.label})]})})():null,e.eGFR!==void 0&&(()=>{const L=e.eGFR>=70?{label:"Normal",className:"status-normal"}:e.eGFR>=60?{label:"Low Normal",className:"status-info"}:e.eGFR>=45?{label:"Mildly Decreased",className:"status-attention"}:e.eGFR>=30?{label:"Moderately Decreased",className:"status-attention"}:e.eGFR>=15?{label:"Severely Decreased",className:"status-urgent"}:{label:"Kidney Failure",className:"status-urgent"};return c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-label",children:"eGFR"}),c.jsxs("span",{className:"stat-value",children:[e.eGFR," mL/min"]}),c.jsx("span",{className:`stat-status ${L.className}`,children:L.label})]})})(),e.lpa!==void 0&&(()=>{const L=e.lpa>=fa.elevated?{label:"Elevated",className:"status-attention"}:e.lpa>=fa.normal?{label:"Borderline",className:"status-info"}:{label:"Normal",className:"status-normal"};return c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-label",children:"Lp(a)"}),c.jsxs("span",{className:"stat-value",children:[Math.round(e.lpa)," nmol/L"]}),c.jsx("span",{className:`stat-status ${L.className}`,children:L.label})]})})(),e.waistToHeightRatio!==void 0&&(()=>{const L=bE(e.waistToHeightRatio);return c.jsxs("div",{className:"stat-card",children:[c.jsx("span",{className:"stat-label",children:"Waist-to-Height"}),c.jsx("span",{className:"stat-value",children:e.waistToHeightRatio}),L&&c.jsx("span",{className:`stat-status ${L.className}`,children:L.label})]})})()]})]}),c.jsxs("section",{className:"suggestions-section",children:[c.jsx("h3",{className:"results-section-title",children:"Suggestions to Discuss with Your Doctor"}),J.length>0&&c.jsxs("div",{className:"suggestions-group",children:[c.jsx("h4",{className:"suggestions-group-title urgent",children:"Requires Attention"}),ad(J,y,h)]}),F.length>0&&c.jsxs("div",{className:"suggestions-group",children:[c.jsx("h4",{className:"suggestions-group-title attention",children:"Next Steps"}),ad(F,y,h)]}),V.length>0&&c.jsxs("div",{className:"suggestions-group",children:[c.jsx("h4",{className:"suggestions-group-title info",children:"Foundation"}),ad(V,y,h)]}),ve.length>0&&c.jsxs("div",{className:"suggestions-group skin-group",children:[c.jsx("h4",{className:"suggestions-group-title skin",children:"Skin Health"}),ve.map(L=>c.jsx(Ha,{suggestion:L,highlighted:y.has(L.id),fadingOut:h.has(L.id)},L.id))]}),ot.length>0&&c.jsxs("div",{className:"suggestions-group supplements-group",children:[c.jsx("h4",{className:"suggestions-group-title supplements",children:"Supplements"}),ot.map(L=>c.jsx(Ha,{suggestion:L,highlighted:y.has(L.id),fadingOut:h.has(L.id)},L.id))]})]}),c.jsxs("div",{className:"health-disclaimer",children:[c.jsx("strong",{children:"Disclaimer:"})," This tool is for educational purposes only and is not a substitute for professional medical advice. Always consult with your healthcare provider before making any health decisions. Suggestions are based on general guidelines and may not apply to your individual situation."]}),(n==null?void 0:n.isLoggedIn)&&m&&c.jsx(IE,{preferences:p??[],onPreferenceChange:m,onGlobalOptout:v,sex:w,age:e==null?void 0:e.age}),!(n!=null&&n.isLoggedIn)&&c.jsxs("div",{className:"guest-cta-inline no-print",children:[c.jsx("span",{children:d?"Sign in to access your saved data.":"Save your data and get an email summary to discuss with doctor."}),c.jsx("a",{href:(n==null?void 0:n.loginUrl)||"/account/login",className:"guest-cta-btn",children:d?"Sign In":"Create Free Account"})]}),c.jsx(yv,{}),(n==null?void 0:n.isLoggedIn)&&l&&c.jsx("div",{className:"delete-data-section",children:c.jsx("button",{className:"delete-data-link",onClick:l,disabled:u,children:u?"Deleting...":"Delete All My Data"})})]})}function LE(e=768){const[t,n]=A.useState(()=>typeof window<"u"&&window.matchMedia(`(max-width: ${e}px)`).matches);return A.useEffect(()=>{const r=window.matchMedia(`(max-width: ${e}px)`),i=s=>n(s.matches);return r.addEventListener("change",i),()=>r.removeEventListener("change",i)},[e]),t}function DE({tabs:e,activeTab:t,onTabChange:n}){const r=e.filter(a=>a.visible),i=A.useRef(null),[s,o]=A.useState(!1);return A.useEffect(()=>{const a=i.current;if(!a)return;const l=()=>{o(a.scrollWidth>a.clientWidth&&a.scrollLeft+a.clientWidth<a.scrollWidth-4)};return l(),a.addEventListener("scroll",l),window.addEventListener("resize",l),()=>{a.removeEventListener("scroll",l),window.removeEventListener("resize",l)}},[r.length]),A.useEffect(()=>{const a=i.current;if(!a)return;const l=a.querySelector('[aria-selected="true"]');l&&l.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[t]),c.jsx("div",{className:`mobile-tab-bar-container${s?" has-overflow":""}`,children:c.jsx("div",{className:"mobile-tab-bar",ref:i,role:"tablist",children:r.map(a=>c.jsx("button",{role:"tab","aria-selected":t===a.id,className:`mobile-tab${t===a.id?" mobile-tab--active":""}`,onClick:()=>n(a.id),children:a.label},a.id))})})}function RE({tabs:e,activeTab:t,onTabChange:n}){const r=e.filter(a=>a.visible),i=r.findIndex(a=>a.id===t),s=i>0?r[i-1]:null,o=i<r.length-1?r[i+1]:null;return c.jsxs("div",{className:"mobile-tab-nav",children:[s?c.jsxs("button",{className:"mobile-tab-nav-btn",onClick:()=>n(s.id),children:[" ",s.label]}):c.jsx("div",{}),o?c.jsx("button",{className:`mobile-tab-nav-btn${o.id==="results"?" mobile-tab-nav-btn--primary":""}`,onClick:()=>n(o.id),children:o.id==="results"?"View Results ":`${o.label} `}):null]})}const ld="health_roadmap_data",Sv="health_roadmap_unit_system";function zs(e,t,n,r,i){try{const s={inputs:e,previousMeasurements:t,medications:n,screenings:r,reminderPreferences:i,savedAt:new Date().toISOString()};localStorage.setItem(ld,JSON.stringify(s))}catch(s){console.warn("Failed to save to localStorage:",s)}}function kv(){try{const e=localStorage.getItem(ld);if(!e)return null;const t=JSON.parse(e);return{inputs:t.inputs,previousMeasurements:t.previousMeasurements??[],medications:t.medications??[],screenings:t.screenings??[],reminderPreferences:t.reminderPreferences??[]}}catch(e){return console.warn("Failed to load from localStorage:",e),null}}function Ev(){try{localStorage.removeItem(ld),localStorage.removeItem("health_roadmap_authenticated")}catch(e){console.warn("Failed to clear localStorage:",e)}}function bv(){try{localStorage.setItem("health_roadmap_authenticated","1")}catch{}}function Nv(e){try{localStorage.setItem(Sv,e)}catch(t){console.warn("Failed to save unit preference:",t)}}function Cv(){try{const e=localStorage.getItem(Sv);return e==="si"||e==="conventional"?e:null}catch{return null}}function PE(){var s,o;const e=document.getElementById("health-tool-root");if(!e)return{isLoggedIn:!1,redirectFailed:!1};const t=e.dataset.loggedIn==="true",n=e.dataset.loginUrl||void 0,r=e.dataset.accountUrl||void 0,i=!t&&!!((s=window.sessionStorage)!=null&&s.getItem("health_roadmap_auth_redirect"))&&!!((o=window.localStorage)!=null&&o.getItem("health_roadmap_authenticated"));return{isLoggedIn:t,loginUrl:n,accountUrl:r,redirectFailed:i}}function OE(){const[e,t]=A.useState({}),[n,r]=A.useState([]),[i,s]=A.useState([]),[o,a]=A.useState([]),[l,u]=A.useState({}),[d,p]=A.useState(!1),[m,v]=A.useState("idle"),[w,y]=A.useState(!1),N=A.useRef(!1),[h,f]=A.useState(!1),[g,E]=A.useState([]),_=A.useRef(new Map),S=A.useRef(new Map),I=A.useRef(!0),[j,J]=A.useState(()=>Cv()??T0()),F=A.useRef({}),[V]=A.useState(()=>PE()),ot=A.useCallback(R=>{J(R),Nv(R),t(M=>({...M,unitSystem:R}))},[]);A.useEffect(()=>{async function R(){if(V.isLoggedIn){const M=kv();if(M&&Object.keys(M.inputs).length>0){const te={};for(const re of _a)M.inputs[re]!==void 0&&(te[re]=M.inputs[re]);if(M.inputs.unitSystem!==void 0&&(te.unitSystem=M.inputs.unitSystem),t(te),M.previousMeasurements.length>0)r(M.previousMeasurements);else{const re=[],ee=new Date().toISOString();for(const ae of jr){const x=M.inputs[ae];if(x!==void 0){const k=ya[ae];k&&re.push({id:`cache-${k}`,metricType:k,value:x,recordedAt:ee,createdAt:ee})}}re.length>0&&r(re)}M.medications.length>0&&s(M.medications),M.screenings.length>0&&a(M.screenings),M.reminderPreferences.length>0&&E(M.reminderPreferences)}const H=await hv();if(H&&(Object.keys(H.inputs).length>0||H.previousMeasurements.length>0||H.medications.length>0||H.screenings.length>0)){bv();const te=H.inputs.unitSystem;(te==="si"||te==="conventional")&&(J(te),Nv(te)),t(H.inputs),F.current={...H.inputs},r(H.previousMeasurements),H.previousMeasurements.length>0&&(I.current=!1),s(H.medications),a(H.screenings),E(H.reminderPreferences),zs(H.inputs,H.previousMeasurements,H.medications,H.screenings,H.reminderPreferences)}else if(M&&Object.keys(M.inputs).length>0){const te={};for(const k of _a)M.inputs[k]!==void 0&&(te[k]=M.inputs[k]);const re=M.inputs.unitSystem??Cv();re&&(te.unitSystem=re),Object.keys(te).length>0&&await vv(te,{});for(const k of jr){const O=M.inputs[k];if(O!==void 0){const le=ya[k];le&&await sd(le,O)}}const ee=M.medications??[];for(const k of ee)k.medicationKey&&k.drugName&&await mv(k.medicationKey,k.drugName,k.doseValue,k.doseUnit);const ae=M.screenings??[];for(const k of ae)k.screeningKey&&k.value&&await gv(k.screeningKey,k.value);fetch(`${hn}/api/measurements`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sendWelcomeEmail:!0})}).catch(()=>{});const x=await hv();x?(bv(),t(x.inputs),F.current={...x.inputs},r(x.previousMeasurements),s(x.medications),a(x.screenings),E(x.reminderPreferences),zs(x.inputs,x.previousMeasurements,x.medications,x.screenings,x.reminderPreferences)):F.current={...M.inputs}}p(!0)}else{if(localStorage.getItem("health_roadmap_authenticated"))Ev();else{const M=kv();M&&t(M.inputs)}p(!0)}}R()},[V.isLoggedIn]);const ve=A.useMemo(()=>{const R={...e};if(V.isLoggedIn)for(const M of n){const H=ym[M.metricType];H&&jr.includes(H)&&R[H]===void 0&&(R[H]=M.value)}return R},[e,n,V.isLoggedIn]),L=A.useMemo(()=>mx(ve),[ve]);A.useEffect(()=>{if(!d)return;const R=setTimeout(async()=>{if(V.isLoggedIn){const M=[..._a,"unitSystem"],H={},te={};for(const ae of M)e[ae]!==void 0&&(H[ae]=e[ae]),F.current[ae]!==void 0&&(te[ae]=F.current[ae]);if(!M.some(ae=>e[ae]!==F.current[ae]))return;v("saving");const ee=await vv(H,te);if(v(ee?"saved":"error"),ee)for(const ae of M)F.current[ae]=e[ae];setTimeout(()=>v("idle"),2e3)}else{const M={...ve,...e};Object.keys(M).length>0&&zs(M)}},500);return()=>clearTimeout(R)},[e,d,V.isLoggedIn,ve]);const Xe=A.useCallback(async R=>{if(V.isLoggedIn&&!N.current){N.current=!0;try{const M=new Set(dx),H=[];for(const ee of jr){const ae=e[ee];if(ae!==void 0){const x=ya[ee];if(x){const k=M.has(x)?R:void 0;H.push({metricType:x,value:ae,recordedAt:k})}}}if(H.length===0)return;y(!0),v("saving");const te=await Promise.all(H.map(ee=>sd(ee.metricType,ee.value,ee.recordedAt)));if(te.every(ee=>ee!==null)){const ee=[...n];for(const x of te)if(x){const k=ee.findIndex(O=>O.metricType===x.metricType);k>=0?ee[k]=x:ee.push(x)}r(ee),t(x=>{const k={...x};for(const O of jr)delete k[O];return k});const ae=I.current;v(ae?"first-saved":"saved"),I.current=!1,y(!1),setTimeout(()=>v("idle"),ae?4e3:2e3)}else v("error"),y(!1),setTimeout(()=>v("idle"),2e3)}finally{N.current=!1}}},[V.isLoggedIn,e,n]),{results:Qe,isValid:Fe,validationErrors:D}=A.useMemo(()=>{if(!ve.heightCm||!ve.sex)return{results:null,isValid:!1,validationErrors:null};const R=yx(ve);let M=ve,H=null;if(!R.success&&R.errors){const re=_x(R.errors);H=kx(re,j);const ee=new Set(R.errors.issues.map(x=>x.path[0]));if(ee.has("heightCm")||ee.has("sex"))return{results:null,isValid:!1,validationErrors:H};const ae={...ve};for(const x of ee)ae[x]=void 0;M=ae}return{results:$0(M,j,vu(i),yu(o)),isValid:!0,validationErrors:H}},[ve,j,i,o]);A.useEffect(()=>{u(D??{})},[D]);const U=LE(),[W,se]=A.useState("profile"),we=A.useMemo(()=>{const R=ve,M=R.totalCholesterol!==void 0&&R.hdlC!==void 0?R.totalCholesterol-R.hdlC:void 0,H=R.apoB!==void 0&&R.apoB>Le.apobGl||R.ldlC!==void 0&&R.ldlC>Le.ldlMmol||M!==void 0&&M>Le.nonHdlMmol,te=R.weightKg!==void 0&&R.heightCm!==void 0?cu(R.weightKg,R.heightCm):void 0,re=R.waistCm!==void 0&&R.heightCm!==void 0?R.waistCm/R.heightCm:void 0;let ee=!1;te!==void 0&&te>25&&(te>28?ee=!0:ee=R.hba1c!==void 0&&R.hba1c>=qn.prediabetes||R.triglycerides!==void 0&&R.triglycerides>=er.borderline||R.systolicBp!==void 0&&R.systolicBp>=un.stage1Sys||re!==void 0&&re>=.5);const ae=H||ee;let x=!1;if(e.birthYear){const k=pi(e.birthYear,e.birthMonth??1);x=k>=35||e.sex==="female"&&k>=25||e.sex==="female"&&k>=40||k>=50&&k<=80||e.sex==="male"&&k>=45||e.sex==="female"&&k>=45||e.sex==="female"&&k>=50||e.sex==="male"&&k>=70}return[{id:"profile",label:"Profile",visible:!0},{id:"vitals",label:"Vitals",visible:L>=3},{id:"blood-tests",label:"Blood Tests",visible:L>=4},{id:"medications",label:"Medications",visible:L>=4&&ae},{id:"screening",label:"Screening",visible:L>=4&&x},{id:"results",label:"Results",visible:!0}]},[ve,e.birthYear,e.birthMonth,e.sex,L]);A.useEffect(()=>{const R=we.find(M=>M.id===W);if(R&&!R.visible){const M=we.find(H=>H.visible);M&&se(M.id)}},[we,W]);const mn=A.useCallback(async(R,M)=>{E(H=>{const te=H.findIndex(re=>re.reminderCategory===R);if(te>=0){const re=[...H];return re[te]={...re[te],enabled:M},re}return[...H,{reminderCategory:R,enabled:M}]}),V.isLoggedIn&&await wE(R,M)},[V.isLoggedIn]),Tt=A.useCallback(async()=>{!V.isLoggedIn||!window.confirm("This will disable all health reminder emails. You can re-enable them anytime. Continue?")||(E(M=>M.map(H=>({...H,enabled:!1}))),await SE(!0))},[V.isLoggedIn]),Dn=A.useCallback(async()=>{if(!V.isLoggedIn||!window.confirm("This will permanently delete all your health data and measurements. This action cannot be undone. Are you sure?"))return;f(!0);const M=await xE();f(!1),M?(Ev(),t({}),r([]),s([]),a([]),E([]),F.current={},v("idle"),window.alert("All your health data has been deleted.")):window.alert("Failed to delete data. Please try again.")},[V.isLoggedIn]),tn=R=>{t(R)},ur=A.useCallback((R,M,H,te)=>{if(s(re=>{const ee=re.findIndex(k=>k.medicationKey===R),ae={id:ee>=0?re[ee].id:"",medicationKey:R,drugName:M,doseValue:H,doseUnit:te,updatedAt:new Date().toISOString()},x=ee>=0?[...re.slice(0,ee),ae,...re.slice(ee+1)]:[...re,ae];return zs(e,n,x,o,g),x}),V.isLoggedIn){const re=_.current.get(R);re&&clearTimeout(re),_.current.set(R,setTimeout(()=>{_.current.delete(R),mv(R,M,H,te)},300))}},[V.isLoggedIn,e,n,o,g]),Ua=A.useCallback((R,M)=>{if(a(H=>{const te=H.findIndex(ae=>ae.screeningKey===R),re={id:te>=0?H[te].id:"",screeningKey:R,value:M,updatedAt:new Date().toISOString()},ee=te>=0?[...H.slice(0,te),re,...H.slice(te+1)]:[...H,re];return zs(e,n,i,ee,g),ee}),V.isLoggedIn){const H=S.current.get(R);H&&clearTimeout(H),S.current.set(R,setTimeout(()=>{S.current.delete(R),gv(R,M)},300))}},[V.isLoggedIn,e,n,i,g]),Bs={inputs:e,onChange:tn,errors:l,unitSystem:j,onUnitSystemChange:ot,isLoggedIn:V.isLoggedIn,previousMeasurements:n,medications:i,onMedicationChange:ur,screenings:o,onScreeningChange:Ua,onSaveLongitudinal:Xe,isSavingLongitudinal:w,hasApiResponse:d,formStage:L},Va={results:Qe,isValid:Fe,authState:V,saveStatus:m,unitSystem:j,hasUnsavedLongitudinal:V.isLoggedIn&&d&&jr.some(R=>e[R]!==void 0),onSaveLongitudinal:Xe,isSavingLongitudinal:w,onDeleteData:Dn,isDeleting:h,redirectFailed:V.redirectFailed,reminderPreferences:g,onReminderPreferenceChange:mn,onGlobalReminderOptout:Tt,sex:e.sex};return c.jsxs("div",{className:"health-tool",children:[c.jsxs("div",{className:"health-tool-header",children:[c.jsx("h2",{children:"Health Roadmap - How to Look Young and Feel Strong"}),c.jsx("p",{children:"Enter your health information below to receive personalized suggestions to discuss with your healthcare provider."})]}),U?c.jsxs(c.Fragment,{children:[c.jsx(DE,{tabs:we,activeTab:W,onTabChange:se}),c.jsxs("div",{className:"mobile-tab-content",children:[W==="results"?c.jsx("div",{className:"health-tool-right",children:c.jsx(wv,{...Va})}):c.jsx(Sm,{...Bs,mobileActiveTab:W}),c.jsx(RE,{tabs:we,activeTab:W,onTabChange:se}),W!=="results"&&c.jsx("button",{className:"btn-primary mobile-view-results-btn",onClick:()=>se("results"),children:"View Results"})]})]}):c.jsxs("div",{className:"health-tool-content",children:[c.jsx("div",{className:"health-tool-left",children:c.jsx(Sm,{...Bs})}),c.jsx("div",{className:"health-tool-right",children:c.jsx(wv,{...Va})})]})]})}class ME extends kd.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,n){console.error("Health tool error:",t,n.componentStack),en(t,{extra:{componentStack:n.componentStack}})}render(){return this.state.hasError?c.jsxs("div",{className:"health-tool-error",children:[c.jsx("h3",{children:"Something went wrong"}),c.jsx("p",{children:"The health tool encountered an error. Please refresh the page to try again."}),c.jsx("p",{style:{marginTop:"8px",fontSize:"14px"},children:c.jsx("a",{href:"mailto:brad@drstanfield.com?subject=Health%20Roadmap%20Bug%20Report",children:"Report this issue"})})]}):this.props.children}}vE();function Tv(){const e=document.getElementById("health-tool-root");if(!e){console.warn("Health tool mount point not found");return}Dh(e).render(c.jsx(kd.StrictMode,{children:c.jsx(ME,{children:c.jsx(OE,{})})}))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",Tv):Tv()})();
